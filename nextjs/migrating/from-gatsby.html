<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>from-gatsby</title>
    <link
      rel="stylesheet"
      href="https://raw.githubusercontent.com/bgoonz/docs-collection/master/nextjs.css"
    />
  </head>
  <body>
    <h1 id="migrating-from-gatsby">Migrating from Gatsby</h1>
    <p>
      This guide will help you understand how to transition from an existing
      Gatsby project to Next.js. Migrating to Next.js will allow you to:
    </p>
    <ul>
      <li>
        Choose which
        <a href="/docs/basic-features/data-fetching.md">data fetching</a>
        strategy you want on a per-page basis.
      </li>
      <li>
        Use
        <a
          href="/docs/basic-features/data-fetching.md#incremental-static-regeneration"
          >Incremental Static Regeneration</a
        >
        to update <em>existing</em> pages by re-rendering them in the background
        as traffic comes in.
      </li>
      <li>Use <a href="/docs/api-routes/introduction.md">API Routes</a>.</li>
    </ul>
    <p>
      And more! Let’s walk through a series of steps to complete the migration.
    </p>
    <h2 id="updating-package.json-and-dependencies">
      Updating <code>package.json</code> and dependencies
    </h2>
    <p>
      The first step towards migrating to Next.js is to update
      <code>package.json</code> and dependencies. You should:
    </p>
    <ul>
      <li>
        Remove all Gatsby-related packages (but keep <code>react</code> and
        <code>react-dom</code>).
      </li>
      <li>Install <code>next</code>.</li>
      <li>
        Add Next.js related commands to <code>scripts</code>. One is
        <code>next dev</code>, which runs a development server at
        <code>localhost:3000</code>. You should also add
        <code>next build</code> and <code>next start</code> for creating and
        starting a production build.
      </li>
    </ul>
    <p>
      Here’s an example <code>package.json</code> (<a
        href="https://github.com/leerob/gatsby-to-nextjs/pull/1/files#diff-b9cfc7f2cdf78a7f4b91a753d10865a2"
        >view diff</a
      >):
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">&quot;dev&quot;</span><span class="fu">:</span> <span class="st">&quot;next dev&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">&quot;build&quot;</span><span class="fu">:</span> <span class="st">&quot;next build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;next start&quot;</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="fu">},</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="dt">&quot;next&quot;</span><span class="fu">:</span> <span class="st">&quot;latest&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="dt">&quot;react&quot;</span><span class="fu">:</span> <span class="st">&quot;latest&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="dt">&quot;react-dom&quot;</span><span class="fu">:</span> <span class="st">&quot;latest&quot;</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="static-assets-and-compiled-output">
      Static Assets and Compiled Output
    </h2>
    <p>
      Gatsby uses the <code>public</code> directory for the compiled output,
      whereas Next.js uses it for static assets. Here are the steps for
      migration (<a
        href="https://github.com/leerob/gatsby-to-nextjs/pull/1/files#diff-a084b794bc0759e7a6b77810e01874f2"
        >view diff</a
      >):
    </p>
    <ul>
      <li>
        Remove <code>.cache/</code> and <code>public</code> from
        <code>.gitignore</code> and delete both directories.
      </li>
      <li>
        Rename Gatsby’s <code>static</code> directory as <code>public</code>.
      </li>
      <li>Add <code>.next</code> to <code>.gitignore</code>.</li>
    </ul>
    <h2 id="creating-routes">Creating Routes</h2>
    <p>
      Both Gatsby and Next support a <code>pages</code> directory, which uses
      <a href="/docs/routing/introduction.md">file-system based routing</a>.
      Gatsby’s directory is <code>src/pages</code>, which is also
      <a href="/docs/advanced-features/src-directory.md">supported by Next.js</a
      >.
    </p>
    <p>
      Gatsby creates dynamic routes using the <code>createPages</code> API
      inside of <code>gatsby-node.js</code>. With Next, we can use
      <a href="/docs/routing/dynamic-routes.md">Dynamic Routes</a> inside of
      <code>pages</code> to achieve the same effect. Rather than having a
      <code>template</code> directory, you can use the React component inside
      your dynamic route file. For example:
    </p>
    <ul>
      <li>
        <strong>Gatsby:</strong> <code>createPages</code> API inside
        <code>gatsby-node.js</code> for each blog post, then have a template
        file at <code>src/templates/blog-post.js</code>.
      </li>
      <li>
        <strong>Next:</strong> Create <code>pages/blog/[slug].js</code> which
        contains the blog post template. The value of <code>slug</code> is
        accessible through a
        <a href="/docs/routing/dynamic-routes.md">query parameter</a>. For
        example, the route <code>/blog/first-post</code> would forward the query
        object <code>{ 'slug': 'first-post' }</code> to
        <code>pages/blog/[slug].js</code> (<a
          href="/docs/basic-features/data-fetching.md#getstaticpaths-static-generation"
          >learn more here</a
        >).
      </li>
    </ul>
    <h2 id="styling">Styling</h2>
    <p>
      With Gatsby, global CSS imports are included in
      <code>gatsby-browser.js</code>. With Next, you should create a
      <a href="/docs/advanced-features/custom-app.md"
        >custom <code>_app.js</code></a
      >
      for global CSS. When migrating, you can copy over your CSS imports
      directly and update the relative file path, if necessary. Next.js has
      <a href="/docs/basic-features/built-in-css-support.md"
        >built-in CSS support</a
      >.
    </p>
    <h2 id="links">Links</h2>
    <p>
      The Gatsby <code>Link</code> and Next.js
      <a href="/docs/api-reference/next/link.md"><code>Link</code></a> component
      have a slightly different API.
    </p>
    <pre class="jsx"><code>// Gatsby

import { Link } from &quot;gatsby&quot;;

export default function Home() {
  return &lt;Link to=&quot;/blog&quot;&gt;blog&lt;/Link&gt;;
}</code></pre>
    <pre class="jsx"><code>// Next.js

import Link from &quot;next/link&quot;;

export default function Home() {
  return (
    &lt;Link href=&quot;/blog&quot;&gt;
      &lt;a&gt;blog&lt;/a&gt;
    &lt;/Link&gt;
  );
}</code></pre>
    <p>
      Update any import statements, switch <code>to</code> to <code>href</code>,
      and add an <code>&lt;a&gt;</code> tag as a child of the element.
    </p>
    <h2 id="data-fetching">Data Fetching</h2>
    <p>
      The largest difference between Gatsby and Next.js is how data fetching is
      implemented. Gatsby is opinionated with GraphQL being the default strategy
      for retrieving data across your application. With Next.js, you get to
      choose which strategy you want (GraphQL is one supported option).
    </p>
    <p>
      Gatsby uses the <code>graphql</code> tag to query data in the pages of
      your site. This may include local data, remote data, or information about
      your site configuration. Gatsby only allows the creation of static pages.
      With Next.js, you can choose on a
      <a href="/docs/basic-features/pages.md">per-page basis</a> which
      <a href="/docs/basic-features/data-fetching.md">data fetching strategy</a>
      you want. For example, <code>getServerSideProps</code> allows you to do
      server-side rendering. If you wanted to generate a static page, you’d
      export <code>getStaticProps</code> / <code>getStaticPaths</code> inside
      the page, rather than using <code>pageQuery</code>. For example:
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// src/pages/[slug].js</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">// Install remark and remark-html</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="im">import</span> remark <span class="im">from</span> <span class="st">&quot;remark&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="im">import</span> html <span class="im">from</span> <span class="st">&quot;remark-html&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="im">import</span> <span class="op">{</span> getPostBySlug<span class="op">,</span> getAllPosts <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;../lib/blog&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">getStaticProps</span>(<span class="op">{</span> params <span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="kw">const</span> post <span class="op">=</span> <span class="at">getPostBySlug</span>(<span class="va">params</span>.<span class="at">slug</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="kw">const</span> markdown <span class="op">=</span> <span class="cf">await</span> <span class="at">remark</span>()</a>
<a class="sourceLine" id="cb4-11" title="11">    .<span class="at">use</span>(html)</a>
<a class="sourceLine" id="cb4-12" title="12">    .<span class="at">process</span>(<span class="va">post</span>.<span class="at">content</span> <span class="op">||</span> <span class="st">&quot;&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="kw">const</span> content <span class="op">=</span> <span class="va">markdown</span>.<span class="at">toString</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-14" title="14"></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="dt">props</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-17" title="17">      ...<span class="at">post</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-18" title="18">      content<span class="op">,</span></a>
<a class="sourceLine" id="cb4-19" title="19">    <span class="op">},</span></a>
<a class="sourceLine" id="cb4-20" title="20">  <span class="op">};</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">getStaticPaths</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-24" title="24">  <span class="kw">const</span> posts <span class="op">=</span> <span class="at">getAllPosts</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-25" title="25"></a>
<a class="sourceLine" id="cb4-26" title="26">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-27" title="27">    <span class="dt">paths</span><span class="op">:</span> <span class="va">posts</span>.<span class="at">map</span>((post) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-28" title="28">      <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-29" title="29">        <span class="dt">params</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-30" title="30">          <span class="dt">slug</span><span class="op">:</span> <span class="va">post</span>.<span class="at">slug</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-31" title="31">        <span class="op">},</span></a>
<a class="sourceLine" id="cb4-32" title="32">      <span class="op">};</span></a>
<a class="sourceLine" id="cb4-33" title="33">    <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb4-34" title="34">    <span class="dt">fallback</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-35" title="35">  <span class="op">};</span></a>
<a class="sourceLine" id="cb4-36" title="36"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      You’ll commonly see Gatsby plugins used for reading the file system
      (<code>gatsby-source-filesystem</code>), handling markdown files
      (<code>gatsby-transformer-remark</code>), and so on. For example, the
      popular starter blog example has
      <a
        href="https://github.com/gatsbyjs/gatsby-starter-blog/blob/master/package.json"
        >15 Gatsby specific packages</a
      >. Next takes a different approach. It includes common features directly
      inside the framework, and gives the user full control over integrations
      with external packages. For example, rather than abstracting reading from
      the file system to a plugin, you can use the native Node.js
      <code>fs</code> package inside <code>getStaticProps</code> /
      <code>getStaticPaths</code> to read from the file system.
    </p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// src/lib/blog.js</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">// Install gray-matter and date-fns</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="im">import</span> matter <span class="im">from</span> <span class="st">&quot;gray-matter&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="im">import</span> <span class="op">{</span> parseISO<span class="op">,</span> format <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;date-fns&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="im">import</span> fs <span class="im">from</span> <span class="st">&quot;fs&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="im">import</span> <span class="op">{</span> join <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;path&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">// Add markdown files in `src/content/blog`</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="kw">const</span> postsDirectory <span class="op">=</span> <span class="at">join</span>(<span class="va">process</span>.<span class="at">cwd</span>()<span class="op">,</span> <span class="st">&quot;src&quot;</span><span class="op">,</span> <span class="st">&quot;content&quot;</span><span class="op">,</span> <span class="st">&quot;blog&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-11" title="11"></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="im">export</span> <span class="kw">function</span> <span class="at">getPostBySlug</span>(slug) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-13" title="13">  <span class="kw">const</span> realSlug <span class="op">=</span> <span class="va">slug</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\.</span><span class="ss">md</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span> <span class="st">&quot;&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="kw">const</span> fullPath <span class="op">=</span> <span class="at">join</span>(postsDirectory<span class="op">,</span> <span class="vs">`</span><span class="sc">${</span>realSlug<span class="sc">}</span><span class="vs">.md`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-15" title="15">  <span class="kw">const</span> fileContents <span class="op">=</span> <span class="va">fs</span>.<span class="at">readFileSync</span>(fullPath<span class="op">,</span> <span class="st">&quot;utf8&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-16" title="16">  <span class="kw">const</span> <span class="op">{</span> data<span class="op">,</span> content <span class="op">}</span> <span class="op">=</span> <span class="at">matter</span>(fileContents)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-17" title="17">  <span class="kw">const</span> date <span class="op">=</span> <span class="at">format</span>(<span class="at">parseISO</span>(<span class="va">data</span>.<span class="at">date</span>)<span class="op">,</span> <span class="st">&quot;MMMM dd, yyyy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-18" title="18"></a>
<a class="sourceLine" id="cb5-19" title="19">  <span class="cf">return</span> <span class="op">{</span> <span class="dt">slug</span><span class="op">:</span> realSlug<span class="op">,</span> <span class="dt">frontmatter</span><span class="op">:</span> <span class="op">{</span> ...<span class="at">data</span><span class="op">,</span> date <span class="op">},</span> content <span class="op">};</span></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-21" title="21"></a>
<a class="sourceLine" id="cb5-22" title="22"><span class="im">export</span> <span class="kw">function</span> <span class="at">getAllPosts</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-23" title="23">  <span class="kw">const</span> slugs <span class="op">=</span> <span class="va">fs</span>.<span class="at">readdirSync</span>(postsDirectory)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-24" title="24">  <span class="kw">const</span> posts <span class="op">=</span> <span class="va">slugs</span>.<span class="at">map</span>((slug) <span class="kw">=&gt;</span> <span class="at">getPostBySlug</span>(slug))<span class="op">;</span></a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26">  <span class="cf">return</span> posts<span class="op">;</span></a>
<a class="sourceLine" id="cb5-27" title="27"><span class="op">}</span></a></code></pre>
    </div>
    <h2 id="image-component-and-image-optimization">
      Image Component and Image Optimization
    </h2>
    <p>
      Since version <strong>10.0.0</strong>, Next.js has a built-in
      <a href="/docs/basic-features/image-optimization.md"
        >Image Component and Automatic Image Optimization</a
      >.
    </p>
    <p>
      The Next.js Image Component,
      <a href="/docs/api-reference/next/image.md"><code>next/image</code></a
      >, is an extension of the HTML <code>&lt;img&gt;</code> element, evolved
      for the modern web.
    </p>
    <p>
      The Automatic Image Optimization allows for resizing, optimizing, and
      serving images in modern formats like
      <a
        href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types"
        >WebP</a
      >
      when the browser supports it. This avoids shipping large images to devices
      with a smaller viewport. It also allows Next.js to automatically adopt
      future image formats and serve them to browsers that support those
      formats.
    </p>
    <h3 id="migrating-from-gatsby-image">Migrating from Gatsby Image</h3>
    <p>
      Instead of optimizing images at build time, Next.js optimizes images
      on-demand, as users request them. Unlike static site generators and
      static-only solutions, your build times aren’t increased, whether shipping
      10 images or 10 million images.
    </p>
    <p>This means you can remove common Gatsby plugins like:</p>
    <ul>
      <li><code>gatsby-image</code></li>
      <li><code>gatsby-transformer-sharp</code></li>
      <li><code>gatsby-plugin-sharp</code></li>
    </ul>
    <p>
      Instead, use the built-in
      <a href="/docs/api-reference/next/image.md"><code>next/image</code></a>
      component and
      <a href="/docs/basic-features/image-optimization.md"
        >Automatic Image Optimization</a
      >.
    </p>
    <pre class="jsx"><code>import Image from &quot;next/image&quot;;

export default function Home() {
  return (
    &lt;&gt;
      &lt;h1&gt;My Homepage&lt;/h1&gt;
      &lt;Image
        src=&quot;/me.png&quot;
        alt=&quot;Picture of the author&quot;
        width={500}
        height={500}
      /&gt;
      &lt;p&gt;Welcome to my homepage!&lt;/p&gt;
    &lt;/&gt;
  );
}</code></pre>
    <h2 id="site-configuration">Site Configuration</h2>
    <p>
      With Gatsby, your site’s metadata (name, description, etc) is located
      inside <code>gatsby-config.js</code>. This is then exposed through the
      GraphQL API and consumed through a <code>pageQuery</code> or a static
      query inside a component.
    </p>
    <p>
      With Next.js, we recommend creating a config file similar to below. You
      can then import this file anywhere without having to use GraphQL to access
      your site’s metadata.
    </p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// src/config.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="im">export</span> <span class="im">default</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Starter Blog&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="dt">author</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Lee Robinson&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="dt">summary</span><span class="op">:</span> <span class="st">&quot;who loves Next.js.&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="op">},</span></a>
<a class="sourceLine" id="cb7-9" title="9">  <span class="dt">description</span><span class="op">:</span> <span class="st">&quot;A starter blog converting Gatsby -&gt; Next.&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="dt">social</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="dt">twitter</span><span class="op">:</span> <span class="st">&quot;leeerob&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-12" title="12">  <span class="op">},</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="op">};</span></a></code></pre>
    </div>
    <h2 id="search-engine-optimization">Search Engine Optimization</h2>
    <p>
      Most Gatsby examples use <code>react-helmet</code> to assist with adding
      <code>meta</code> tags for proper SEO. With Next.js, we use
      <a href="/docs/api-reference/next/head.md"><code>next/head</code></a> to
      add <code>meta</code> tags to your <code>&lt;head /&gt;</code> element.
      For example, here’s an SEO component with Gatsby:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// src/components/seo.js</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="im">import</span> <span class="op">{</span> Helmet <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;react-helmet&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">SEO</span>(<span class="op">{</span> description<span class="op">,</span> title<span class="op">,</span> siteTitle <span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb8-7" title="7">    <span class="op">&lt;</span>Helmet</a>
<a class="sourceLine" id="cb8-8" title="8">      title<span class="op">={</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb8-9" title="9">      titleTemplate<span class="op">={</span>siteTitle <span class="op">?</span> <span class="vs">`%s | </span><span class="sc">${</span>siteTitle<span class="sc">}</span><span class="vs">`</span> : <span class="kw">null</span><span class="op">}</span></a>
<a class="sourceLine" id="cb8-10" title="10">      meta<span class="op">={</span>[</a>
<a class="sourceLine" id="cb8-11" title="11">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-12" title="12">          <span class="dt">name</span><span class="op">:</span> <span class="vs">`description`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-13" title="13">          <span class="dt">content</span><span class="op">:</span> description<span class="op">,</span></a>
<a class="sourceLine" id="cb8-14" title="14">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-15" title="15">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-16" title="16">          <span class="dt">property</span><span class="op">:</span> <span class="vs">`og:title`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-17" title="17">          <span class="dt">content</span><span class="op">:</span> title<span class="op">,</span></a>
<a class="sourceLine" id="cb8-18" title="18">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-19" title="19">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-20" title="20">          <span class="dt">property</span><span class="op">:</span> <span class="vs">`og:description`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-21" title="21">          <span class="dt">content</span><span class="op">:</span> description<span class="op">,</span></a>
<a class="sourceLine" id="cb8-22" title="22">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-23" title="23">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-24" title="24">          <span class="dt">property</span><span class="op">:</span> <span class="vs">`og:type`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-25" title="25">          <span class="dt">content</span><span class="op">:</span> <span class="vs">`website`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-26" title="26">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-27" title="27">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-28" title="28">          <span class="dt">name</span><span class="op">:</span> <span class="vs">`twitter:card`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-29" title="29">          <span class="dt">content</span><span class="op">:</span> <span class="vs">`summary`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-30" title="30">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-31" title="31">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-32" title="32">          <span class="dt">name</span><span class="op">:</span> <span class="vs">`twitter:creator`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-33" title="33">          <span class="dt">content</span><span class="op">:</span> twitter<span class="op">,</span></a>
<a class="sourceLine" id="cb8-34" title="34">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-35" title="35">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-36" title="36">          <span class="dt">name</span><span class="op">:</span> <span class="vs">`twitter:title`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-37" title="37">          <span class="dt">content</span><span class="op">:</span> title<span class="op">,</span></a>
<a class="sourceLine" id="cb8-38" title="38">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-39" title="39">        <span class="op">{</span></a>
<a class="sourceLine" id="cb8-40" title="40">          <span class="dt">name</span><span class="op">:</span> <span class="vs">`twitter:description`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-41" title="41">          <span class="dt">content</span><span class="op">:</span> description<span class="op">,</span></a>
<a class="sourceLine" id="cb8-42" title="42">        <span class="op">},</span></a>
<a class="sourceLine" id="cb8-43" title="43">      ]<span class="op">}</span></a>
<a class="sourceLine" id="cb8-44" title="44">    /&gt;</a>
<a class="sourceLine" id="cb8-45" title="45">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb8-46" title="46"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      And here’s the same example using Next.js, including reading from a site
      config file.
    </p>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="co">// src/components/seo.js</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="im">import</span> Head <span class="im">from</span> <span class="st">&quot;next/head&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="im">import</span> config <span class="im">from</span> <span class="st">&quot;../config&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-5" title="5"></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">SEO</span>(<span class="op">{</span> description<span class="op">,</span> title <span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" title="7">  <span class="kw">const</span> siteTitle <span class="op">=</span> <span class="va">config</span>.<span class="at">title</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8"></a>
<a class="sourceLine" id="cb9-9" title="9">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb9-10" title="10">    <span class="op">&lt;</span>Head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-11" title="11">      <span class="op">&lt;</span>title<span class="op">&gt;{</span><span class="vs">`</span><span class="sc">${</span>title<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>siteTitle<span class="sc">}</span><span class="vs">`</span><span class="op">}</span>&lt;/title<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-12" title="12">      <span class="op">&lt;</span>meta name<span class="op">=</span><span class="st">&quot;description&quot;</span> content<span class="op">={</span>description<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-13" title="13">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;og:type&quot;</span> content<span class="op">=</span><span class="st">&quot;website&quot;</span> /&gt;</a>
<a class="sourceLine" id="cb9-14" title="14">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;og:title&quot;</span> content<span class="op">={</span>title<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-15" title="15">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;og:description&quot;</span> content<span class="op">={</span>description<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-16" title="16">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;og:site_name&quot;</span> content<span class="op">={</span>siteTitle<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-17" title="17">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;twitter:card&quot;</span> content<span class="op">=</span><span class="st">&quot;summary&quot;</span> /&gt;</a>
<a class="sourceLine" id="cb9-18" title="18">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;twitter:creator&quot;</span> content<span class="op">={</span><span class="va">config</span>.<span class="va">social</span>.<span class="at">twitter</span><span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-19" title="19">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;twitter:title&quot;</span> content<span class="op">={</span>title<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-20" title="20">      <span class="op">&lt;</span>meta property<span class="op">=</span><span class="st">&quot;twitter:description&quot;</span> content<span class="op">={</span>description<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb9-21" title="21">    &lt;/Head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-22" title="22">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb9-23" title="23"><span class="op">}</span></a></code></pre>
    </div>
    <h2 id="learn-more">Learn more</h2>
    <p>
      Take a look at
      <a href="https://github.com/leerob/gatsby-to-nextjs/pull/1"
        >this pull request</a
      >
      for more details on how an app can be migrated from Gatsby to Next.js. If
      you have questions or if this guide didn’t work for you, feel free to
      reach out to our community on
      <a href="https://github.com/vercel/next.js/discussions"
        >GitHub Discussions</a
      >.
    </p>
  </body>
</html>
