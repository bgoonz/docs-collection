<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>webcrypto</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="web-crypto-api">Web Crypto API</h1>
<!-- introduced_in=v15.0.0 -->
<blockquote>
<p>Stability: 1 - Experimental</p>
</blockquote>
<p>Node.js provides an implementation of the standard <a href="https://www.w3.org/TR/WebCryptoAPI/">Web Crypto API</a>.</p>
<p>Use <code>require('crypto').webcrypto</code> to access this module.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3">(<span class="kw">async</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="dt">hash</span><span class="op">:</span> <span class="st">&#39;SHA-256&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="dt">length</span><span class="op">:</span> <span class="dv">256</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="kw">const</span> digest <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">sign</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="op">},</span> key<span class="op">,</span> <span class="st">&#39;I love cupcakes&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<h2 id="examples">Examples</h2>
<h3 id="generating-keys">Generating keys</h3>
<p>The {SubtleCrypto} class can be used to generate symmetric (secret) keys or asymmetric key pairs (public key and private key).</p>
<h4 id="aes-keys">AES keys</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateAesKey</span>(length <span class="op">=</span> <span class="dv">256</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;AES-CBC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">    length</a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;encrypt&#39;</span><span class="op">,</span> <span class="st">&#39;decrypt&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="cf">return</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="op">}</span></a></code></pre></div>
<h4 id="elliptic-curve-key-pairs">Elliptic curve key pairs</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateEcKey</span>(namedCurve <span class="op">=</span> <span class="st">&#39;P-521&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">    publicKey<span class="op">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">    privateKey</a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="op">}</span> <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;ECDSA&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-9" title="9">    namedCurve<span class="op">,</span></a>
<a class="sourceLine" id="cb3-10" title="10">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="cf">return</span> <span class="op">{</span> publicKey<span class="op">,</span> privateKey <span class="op">};</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="op">}</span></a></code></pre></div>
<h4 id="ed25519ed448x25519x448-elliptic-curve-key-pairs">ED25519/ED448/X25519/X448 Elliptic curve key pairs</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateEd25519Key</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="cf">return</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;NODE-ED25519&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="dt">namedCurve</span><span class="op">:</span> <span class="st">&#39;NODE-ED25519&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateX25519Key</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="cf">return</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;ECDH&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="dt">namedCurve</span><span class="op">:</span> <span class="st">&#39;NODE-X25519&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;deriveKey&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="op">}</span></a></code></pre></div>
<h4 id="hmac-keys">HMAC keys</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateHmacKey</span>(hash <span class="op">=</span> <span class="st">&#39;SHA-256&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-6" title="6">    hash</a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="cf">return</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="op">}</span></a></code></pre></div>
<h4 id="rsa-key-pairs">RSA key pairs</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">const</span> publicExponent <span class="op">=</span> <span class="kw">new</span> <span class="at">Uint8Array</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateRsaKey</span>(modulusLength <span class="op">=</span> <span class="dv">2048</span><span class="op">,</span> hash <span class="op">=</span> <span class="st">&#39;SHA-256&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">    publicKey<span class="op">,</span></a>
<a class="sourceLine" id="cb6-7" title="7">    privateKey</a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="op">}</span> <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;RSASSA-PKCS1-v1_5&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-10" title="10">    modulusLength<span class="op">,</span></a>
<a class="sourceLine" id="cb6-11" title="11">    publicExponent<span class="op">,</span></a>
<a class="sourceLine" id="cb6-12" title="12">    hash<span class="op">,</span></a>
<a class="sourceLine" id="cb6-13" title="13">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb6-14" title="14"></a>
<a class="sourceLine" id="cb6-15" title="15">  <span class="cf">return</span> <span class="op">{</span> publicKey<span class="op">,</span> privateKey <span class="op">};</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="op">}</span></a></code></pre></div>
<h3 id="encryption-and-decryption">Encryption and decryption</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle<span class="op">,</span> getRandomValues <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">aesEncrypt</span>(plaintext) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="at">generateAesKey</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="kw">const</span> iv <span class="op">=</span> <span class="at">getRandomValues</span>(<span class="kw">new</span> <span class="at">Uint8Array</span>(<span class="dv">16</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7"></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="kw">const</span> ciphertext <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">encrypt</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;AES-CBC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-10" title="10">    iv<span class="op">,</span></a>
<a class="sourceLine" id="cb7-11" title="11">  <span class="op">},</span> key<span class="op">,</span> <span class="va">ec</span>.<span class="at">encode</span>(plaintext))<span class="op">;</span></a>
<a class="sourceLine" id="cb7-12" title="12"></a>
<a class="sourceLine" id="cb7-13" title="13">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-14" title="14">    key<span class="op">,</span></a>
<a class="sourceLine" id="cb7-15" title="15">    iv<span class="op">,</span></a>
<a class="sourceLine" id="cb7-16" title="16">    ciphertext</a>
<a class="sourceLine" id="cb7-17" title="17">  <span class="op">};</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb7-19" title="19"></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="kw">async</span> <span class="kw">function</span> <span class="at">aesDecrypt</span>(ciphertext<span class="op">,</span> key<span class="op">,</span> iv) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-21" title="21">  <span class="kw">const</span> dec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextDecoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-22" title="22">  <span class="kw">const</span> plaintext <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">decrypt</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb7-23" title="23">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;AES-CBC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-24" title="24">    iv<span class="op">,</span></a>
<a class="sourceLine" id="cb7-25" title="25">  <span class="op">},</span> key<span class="op">,</span> ciphertext)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-26" title="26"></a>
<a class="sourceLine" id="cb7-27" title="27">  <span class="cf">return</span> <span class="va">dec</span>.<span class="at">decode</span>(plaintext)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-28" title="28"><span class="op">}</span></a></code></pre></div>
<h3 id="exporting-and-importing-keys">Exporting and importing keys</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateAndExportHmacKey</span>(format <span class="op">=</span> <span class="st">&#39;jwk&#39;</span><span class="op">,</span> hash <span class="op">=</span> <span class="st">&#39;SHA-512&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-6" title="6">    hash</a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb8-8" title="8"></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="cf">return</span> <span class="va">subtle</span>.<span class="at">exportKey</span>(format<span class="op">,</span> key)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-11" title="11"></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="kw">async</span> <span class="kw">function</span> <span class="at">importHmacKey</span>(keyData<span class="op">,</span> format <span class="op">=</span> <span class="st">&#39;jwk&#39;</span><span class="op">,</span> hash <span class="op">=</span> <span class="st">&#39;SHA-512&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-13" title="13">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">importKey</span>(format<span class="op">,</span> keyData<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-14" title="14">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-15" title="15">    hash</a>
<a class="sourceLine" id="cb8-16" title="16">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb8-17" title="17"></a>
<a class="sourceLine" id="cb8-18" title="18">  <span class="cf">return</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="op">}</span></a></code></pre></div>
<h3 id="wrapping-and-unwrapping-keys">Wrapping and unwrapping keys</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">generateAndWrapHmacKey</span>(format <span class="op">=</span> <span class="st">&#39;jwk&#39;</span><span class="op">,</span> hash <span class="op">=</span> <span class="st">&#39;SHA-512&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="kw">const</span> [</a>
<a class="sourceLine" id="cb9-5" title="5">    key<span class="op">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">    wrappingKey<span class="op">,</span></a>
<a class="sourceLine" id="cb9-7" title="7">  ] <span class="op">=</span> <span class="cf">await</span> <span class="va">Promise</span>.<span class="at">all</span>([</a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb9-9" title="9">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span> hash</a>
<a class="sourceLine" id="cb9-10" title="10">    <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">,</span></a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="va">subtle</span>.<span class="at">generateKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb9-12" title="12">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;AES-KW&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-13" title="13">      <span class="dt">length</span><span class="op">:</span> <span class="dv">256</span></a>
<a class="sourceLine" id="cb9-14" title="14">    <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;wrapKey&#39;</span><span class="op">,</span> <span class="st">&#39;unwrapKey&#39;</span>])<span class="op">,</span></a>
<a class="sourceLine" id="cb9-15" title="15">  ])<span class="op">;</span></a>
<a class="sourceLine" id="cb9-16" title="16"></a>
<a class="sourceLine" id="cb9-17" title="17">  <span class="kw">const</span> wrappedKey <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">wrapKey</span>(format<span class="op">,</span> key<span class="op">,</span> wrappingKey<span class="op">,</span> <span class="st">&#39;AES-KW&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-18" title="18"></a>
<a class="sourceLine" id="cb9-19" title="19">  <span class="cf">return</span> wrappedKey<span class="op">;</span></a>
<a class="sourceLine" id="cb9-20" title="20"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-21" title="21"></a>
<a class="sourceLine" id="cb9-22" title="22"><span class="kw">async</span> <span class="kw">function</span> <span class="at">unwrapHmacKey</span>(</a>
<a class="sourceLine" id="cb9-23" title="23">  wrappedKey<span class="op">,</span></a>
<a class="sourceLine" id="cb9-24" title="24">  wrappingKey<span class="op">,</span></a>
<a class="sourceLine" id="cb9-25" title="25">  format <span class="op">=</span> <span class="st">&#39;jwk&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-26" title="26">  hash <span class="op">=</span> <span class="st">&#39;SHA-512&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-27" title="27"></a>
<a class="sourceLine" id="cb9-28" title="28">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">unwrapKey</span>(</a>
<a class="sourceLine" id="cb9-29" title="29">    format<span class="op">,</span></a>
<a class="sourceLine" id="cb9-30" title="30">    wrappedKey<span class="op">,</span></a>
<a class="sourceLine" id="cb9-31" title="31">    unwrappingKey<span class="op">,</span></a>
<a class="sourceLine" id="cb9-32" title="32">    <span class="st">&#39;AES-KW&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-33" title="33">    <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;HMAC&#39;</span><span class="op">,</span> hash <span class="op">},</span></a>
<a class="sourceLine" id="cb9-34" title="34">    <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-35" title="35">    [<span class="st">&#39;sign&#39;</span><span class="op">,</span> <span class="st">&#39;verify&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb9-36" title="36"></a>
<a class="sourceLine" id="cb9-37" title="37">  <span class="cf">return</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb9-38" title="38"><span class="op">}</span></a></code></pre></div>
<h3 id="sign-and-verify">Sign and verify</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">sign</span>(key<span class="op">,</span> data) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-5" title="5">  <span class="kw">const</span> signature <span class="op">=</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">sign</span>(<span class="st">&#39;RSASSA-PKCS1-v1_5&#39;</span><span class="op">,</span> key<span class="op">,</span> <span class="va">ec</span>.<span class="at">encode</span>(data))<span class="op">;</span></a>
<a class="sourceLine" id="cb10-7" title="7">  <span class="cf">return</span> signature<span class="op">;</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb10-9" title="9"></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="kw">async</span> <span class="kw">function</span> <span class="at">verify</span>(key<span class="op">,</span> signature<span class="op">,</span> data) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-11" title="11">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-12" title="12">  <span class="kw">const</span> verified <span class="op">=</span></a>
<a class="sourceLine" id="cb10-13" title="13">    <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">verify</span>(</a>
<a class="sourceLine" id="cb10-14" title="14">      <span class="st">&#39;RSASSA-PKCS1-v1_5&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-15" title="15">      key<span class="op">,</span></a>
<a class="sourceLine" id="cb10-16" title="16">      signature<span class="op">,</span></a>
<a class="sourceLine" id="cb10-17" title="17">      <span class="va">ec</span>.<span class="at">encode</span>(data))<span class="op">;</span></a>
<a class="sourceLine" id="cb10-18" title="18">  <span class="cf">return</span> verified<span class="op">;</span></a>
<a class="sourceLine" id="cb10-19" title="19"><span class="op">}</span></a></code></pre></div>
<h3 id="deriving-bits-and-keys">Deriving bits and keys</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">pbkdf2</span>(pass<span class="op">,</span> salt<span class="op">,</span> iterations <span class="op">=</span> <span class="dv">1000</span><span class="op">,</span> length <span class="op">=</span> <span class="dv">256</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">importKey</span>(</a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="st">&#39;raw&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-7" title="7">    <span class="va">ec</span>.<span class="at">encode</span>(pass)<span class="op">,</span></a>
<a class="sourceLine" id="cb11-8" title="8">    <span class="st">&#39;PBKDF2&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-9" title="9">    <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-10" title="10">    [<span class="st">&#39;deriveBits&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-11" title="11">  <span class="kw">const</span> bits <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">deriveBits</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb11-12" title="12">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;PBKDF2&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-13" title="13">    <span class="dt">hash</span><span class="op">:</span> <span class="st">&#39;SHA-512&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-14" title="14">    <span class="dt">salt</span><span class="op">:</span> <span class="va">ec</span>.<span class="at">encode</span>(salt)<span class="op">,</span></a>
<a class="sourceLine" id="cb11-15" title="15">    iterations</a>
<a class="sourceLine" id="cb11-16" title="16">  <span class="op">},</span> key<span class="op">,</span> length)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-17" title="17">  <span class="cf">return</span> bits<span class="op">;</span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-19" title="19"></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="kw">async</span> <span class="kw">function</span> <span class="at">pbkdf2Key</span>(pass<span class="op">,</span> salt<span class="op">,</span> iterations <span class="op">=</span> <span class="dv">1000</span><span class="op">,</span> length <span class="op">=</span> <span class="dv">256</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-21" title="21">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-22" title="22">  <span class="kw">const</span> keyMaterial <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">importKey</span>(</a>
<a class="sourceLine" id="cb11-23" title="23">    <span class="st">&#39;raw&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-24" title="24">    <span class="va">ec</span>.<span class="at">encode</span>(pass)<span class="op">,</span></a>
<a class="sourceLine" id="cb11-25" title="25">    <span class="st">&#39;PBKDF2&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-26" title="26">    <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-27" title="27">    [<span class="st">&#39;deriveKey&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-28" title="28">  <span class="kw">const</span> key <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">deriveKey</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb11-29" title="29">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;PBKDF2&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-30" title="30">    <span class="dt">hash</span><span class="op">:</span> <span class="st">&#39;SHA-512&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-31" title="31">    <span class="dt">salt</span><span class="op">:</span> <span class="va">ec</span>.<span class="at">encode</span>(salt)<span class="op">,</span></a>
<a class="sourceLine" id="cb11-32" title="32">    iterations</a>
<a class="sourceLine" id="cb11-33" title="33">  <span class="op">},</span> keyMaterial<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-34" title="34">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;AES-GCM&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb11-35" title="35">    <span class="dt">length</span><span class="op">:</span> <span class="dv">256</span></a>
<a class="sourceLine" id="cb11-36" title="36">  <span class="op">},</span> <span class="kw">true</span><span class="op">,</span> [<span class="st">&#39;encrypt&#39;</span><span class="op">,</span> <span class="st">&#39;decrypt&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-37" title="37">  <span class="cf">return</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb11-38" title="38"><span class="op">}</span></a></code></pre></div>
<h3 id="digest">Digest</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> <span class="op">{</span> subtle <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;crypto&#39;</span>).<span class="at">webcrypto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">digest</span>(data<span class="op">,</span> algorithm <span class="op">=</span> <span class="st">&#39;SHA-512&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-4" title="4">  <span class="kw">const</span> ec <span class="op">=</span> <span class="kw">new</span> <span class="at">TextEncoder</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="kw">const</span> digest <span class="op">=</span> <span class="cf">await</span> <span class="va">subtle</span>.<span class="at">digest</span>(algorithm<span class="op">,</span> <span class="va">ec</span>.<span class="at">encode</span>(data))<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" title="6">  <span class="cf">return</span> digest<span class="op">;</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="op">}</span></a></code></pre></div>
<h2 id="algorithm-matrix">Algorithm Matrix</h2>
<p>The table details the algorithms supported by the Node.js Web Crypto API implementation and the APIs supported for each:</p>
<table style="width:100%;">
<colgroup>
<col style="width: 15%" />
<col style="width: 9%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 7%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 5%" />
<col style="width: 5%" />
</colgroup>
<thead>
<tr class="header">
<th>Algorithm</th>
<th><code>generateKey</code></th>
<th><code>exportKey</code></th>
<th><code>importKey</code></th>
<th><code>encrypt</code></th>
<th><code>decrypt</code></th>
<th><code>wrapKey</code></th>
<th><code>unwrapKey</code></th>
<th><code>deriveBits</code></th>
<th><code>deriveKey</code></th>
<th><code>sign</code></th>
<th><code>verify</code></th>
<th><code>digest</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'RSASSA-PKCS1-v1_5'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSA-PSS'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'RSA-OAEP'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'ECDSA'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'ECDH'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'AES-CTR'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'AES-CBC'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'AES-GCM'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'AES-KW'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'HMAC'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'HKDF'</code></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'PBKDF2'</code></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'SHA-1'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'SHA-256'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'SHA-384'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'SHA-512'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'NODE-DSA'</code><sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-DH'</code><sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-ED25519'</code><sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-ED448'</code><sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
</tbody>
</table>
<p><sup>1</sup> Node.js-specific extension</p>
<h2 id="class-crypto">Class: <code>Crypto</code></h2>
<!-- YAML
added: v15.0.0
-->
<p>Calling <code>require('crypto').webcrypto</code> returns an instance of the <code>Crypto</code> class. <code>Crypto</code> is a singleton that provides access to the remainder of the crypto API.</p>
<h3 id="crypto.subtle"><code>crypto.subtle</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {SubtleCrypto}</li>
</ul>
<p>Provides access to the <code>SubtleCrypto</code> API.</p>
<h3 id="crypto.getrandomvaluestypedarray"><code>crypto.getRandomValues(typedArray)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>typedArray</code> {Buffer|TypedArray|DataView|ArrayBuffer}</li>
<li>Returns: {Buffer|TypedArray|DataView|ArrayBuffer} Returns <code>typedArray</code>.</li>
</ul>
<p>Generates cryptographically strong random values. The given <code>typedArray</code> is filled with random values, and a reference to <code>typedArray</code> is returned.</p>
<p>An error will be thrown if the given <code>typedArray</code> is larger than 65,536 bytes.</p>
<h2 id="class-cryptokey">Class: <code>CryptoKey</code></h2>
<!-- YAML
added: v15.0.0
-->
<h3 id="cryptokey.algorithm"><code>cryptoKey.algorithm</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li>Type: {AesKeyGenParams|RsaHashedKeyGenParams|EcKeyGenParams|HmacKeyGenParams|NodeDsaKeyGenParams|NodeDhKeyGenParams} <!--lint enable maximum-line-length remark-lint--></li>
</ul>
<p>An object detailing the algorithm for which the key can be used along with additional algorithm-specific parameters.</p>
<p>Read-only.</p>
<h3 id="cryptokey.extractable"><code>cryptoKey.extractable</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {boolean}</li>
</ul>
<p>When <code>true</code>, the {CryptoKey} can be extracted using either <code>subtleCrypto.exportKey()</code> or <code>subtleCrypto.wrapKey()</code>.</p>
<p>Read-only.</p>
<h3 id="cryptokey.type"><code>cryptoKey.type</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} One of <code>'secret'</code>, <code>'private'</code>, or <code>'public'</code>.</li>
</ul>
<p>A string identifying whether the key is a symmetric (<code>'secret'</code>) or asymmetric (<code>'private'</code> or <code>'public'</code>) key.</p>
<h3 id="cryptokey.usages"><code>cryptoKey.usages</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string[]}</li>
</ul>
<p>An array of strings identifying the operations for which the key may be used.</p>
<p>The possible usages are:</p>
<ul>
<li><code>'encrypt'</code> - The key may be used to encrypt data.</li>
<li><code>'decrypt'</code> - The key may be used to decrypt data.</li>
<li><code>'sign'</code> - The key may be used to generate digital signatures.</li>
<li><code>'verify'</code> - The key may be used to verify digital signatures.</li>
<li><code>'deriveKey'</code> - The key may be used to derive a new key.</li>
<li><code>'deriveBits'</code> - The key may be used to derive bits.</li>
<li><code>'wrapKey'</code> - The key may be used to wrap another key.</li>
<li><code>'unwrapKey'</code> - The key may be used to unwrap another key.</li>
</ul>
<p>Valid key usages depend on the key algorithm (identified by <code>cryptokey.algorithm.name</code>).</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 7%" />
<col style="width: 8%" />
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th>Key Type</th>
<th><code>'encrypt'</code></th>
<th><code>'decrypt'</code></th>
<th><code>'sign'</code></th>
<th><code>'verify'</code></th>
<th><code>'deriveKey'</code></th>
<th><code>'deriveBits'</code></th>
<th><code>'wrapKey'</code></th>
<th><code>'unwrapKey'</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'AES-CBC'</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-CTR'</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'AES-GCM'</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-KW'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'ECDH'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'ECDSA'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'HDKF'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'HMAC'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'PBKDF2'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSA-OAEP'</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'RSA-PSS'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSASSA-PKCS1-v1_5'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-DSA'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-DH'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-SCRYPT'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-ED25519'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-ED448'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><sup>1</sup> Node.js-specific extension.</p>
<h2 id="class-cryptokeypair">Class: <code>CryptoKeyPair</code></h2>
<!-- YAML
added: v15.0.0
-->
<p>The <code>CryptoKeyPair</code> is a simple dictionary object with <code>publicKey</code> and <code>privateKey</code> properties, representing an asymmetric key pair.</p>
<h3 id="cryptokeypair.privatekey"><code>cryptoKeyPair.privateKey</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {CryptoKey} A {CryptoKey} whose <code>type</code> will be <code>'private'</code>.</li>
</ul>
<h3 id="cryptokeypair.publickey"><code>cryptoKeyPair.publicKey</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {CryptoKey} A {CryptoKey} whose <code>type</code> will be <code>'public'</code>.</li>
</ul>
<h2 id="class-subtlecrypto">Class: <code>SubtleCrypto</code></h2>
<!-- YAML
added: v15.0.0
-->
<h3 id="subtle.decryptalgorithm-key-data"><code>subtle.decrypt(algorithm, key, data)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>algorithm</code>: {RsaOaepParams|AesCtrParams|AesCbcParams|AesGcmParams}</li>
<li><code>key</code>: {CryptoKey}</li>
<li><code>data</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li>Returns: {Promise} containing {ArrayBuffer}</li>
</ul>
<p>Using the method and parameters specified in <code>algorithm</code> and the keying material provided by <code>key</code>, <code>subtle.decrypt()</code> attempts to decipher the provided <code>data</code>. If successful, the returned promise will be resolved with an {ArrayBuffer} containing the plaintext result.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'RSA-OAEP'</code></li>
<li><code>'AES-CTR'</code></li>
<li><code>'AES-CBC'</code></li>
<li><code>'AES-GCM</code>’</li>
</ul>
<h3 id="subtle.derivebitsalgorithm-basekey-length"><code>subtle.deriveBits(algorithm, baseKey, length)</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li><code>algorithm</code>: {EcdhKeyDeriveParams|HkdfParams|Pbkdf2Params|NodeDhDeriveBitsParams|NodeScryptParams}</li>
<li><code>baseKey</code>: {CryptoKey}</li>
<li><code>length</code>: {number}</li>
<li>Returns: {Promise} containing {ArrayBuffer} <!--lint enable maximum-line-length remark-lint--></li>
</ul>
<p>Using the method and parameters specified in <code>algorithm</code> and the keying material provided by <code>baseKey</code>, <code>subtle.deriveBits()</code> attempts to generate <code>length</code> bits. The Node.js implementation requires that <code>length</code> is a multiple of <code>8</code>. If successful, the returned promise will be resolved with an {ArrayBuffer} containing the generated data.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'ECDH'</code></li>
<li><code>'HKDF'</code></li>
<li><code>'PBKDF2'</code></li>
<li><code>'NODE-DH'</code><sup>1</sup></li>
<li><code>'NODE-SCRYPT'</code><sup>1</sup></li>
</ul>
<p><sup>1</sup> Node.js-specific extension</p>
<h3 id="subtle.derivekeyalgorithm-basekey-derivedkeyalgorithm-extractable-keyusages"><code>subtle.deriveKey(algorithm, baseKey, derivedKeyAlgorithm, extractable, keyUsages)</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li><code>algorithm</code>: {EcdhKeyDeriveParams|HkdfParams|Pbkdf2Params|NodeDhDeriveBitsParams|NodeScryptParams}</li>
<li><code>baseKey</code>: {CryptoKey}</li>
<li><code>derivedKeyAlgorithm</code>: {HmacKeyGenParams|AesKeyGenParams}</li>
<li><code>extractable</code>: {boolean}</li>
<li><code>keyUsages</code>: {string[]} See <a href="#webcrypto_cryptokey_usages">Key usages</a>.</li>
<li>Returns: {Promise} containing {CryptoKey} <!--lint enable maximum-line-length remark-lint--></li>
</ul>
<p>Using the method and parameters specified in <code>algorithm</code>, and the keying material provided by <code>baseKey</code>, <code>subtle.deriveKey()</code> attempts to generate a new {CryptoKey} based on the method and parameters in <code>derivedKeyAlgorithm</code>.</p>
<p>Calling <code>subtle.deriveKey()</code> is equivalent to calling <code>subtle.deriveBits()</code> to generate raw keying material, then passing the result into the <code>subtle.importKey()</code> method using the <code>deriveKeyAlgorithm</code>, <code>extractable</code>, and <code>keyUsages</code> parameters as input.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'ECDH'</code></li>
<li><code>'HKDF'</code></li>
<li><code>'PBKDF2'</code></li>
<li><code>'NODE-DH'</code><sup>1</sup></li>
<li>’<code>NODE-SCRYPT'</code><sup>1</sup></li>
</ul>
<p><sup>1</sup> Node.js-specific extension</p>
<h3 id="subtle.digestalgorithm-data"><code>subtle.digest(algorithm, data)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>algorithm</code>: {string|Object}</li>
<li><code>data</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li>Returns: {Promise} containing {ArrayBuffer}</li>
</ul>
<p>Using the method identified by <code>algorithm</code>, <code>subtle.digest()</code> attempts to generate a digest of <code>data</code>. If successful, the returned promise is resolved with an {ArrayBuffer} containing the computed digest.</p>
<p>If <code>algorithm</code> is provided as a {string}, it must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If <code>algorithm</code> is provided as an {Object}, it must have a <code>name</code> property whose value is one of the above.</p>
<h3 id="subtle.encryptalgorithm-key-data"><code>subtle.encrypt(algorithm, key, data)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>algorithm</code>: {RsaOaepParams|AesCtrParams|AesCbcParams|AesGcmParams}</li>
<li><code>key</code>: {CryptoKey}</li>
<li>Returns: {Promise} containing {ArrayBuffer}</li>
</ul>
<p>Using the method and parameters specified by <code>algorithm</code> and the keying material provided by <code>key</code>, <code>subtle.encrypt()</code> attempts to encipher <code>data</code>. If successful, the returned promise is resolved with an {ArrayBuffer} containing the encrypted result.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'RSA-OAEP'</code></li>
<li><code>'AES-CTR'</code></li>
<li><code>'AES-CBC'</code></li>
<li><code>'AES-GCM</code>’</li>
</ul>
<h3 id="subtle.exportkeyformat-key"><code>subtle.exportKey(format, key)</code></h3>
<!-- YAML
added: v15.0.0
changes:
  - version: v15.9.0
    pr-url: https://github.com/nodejs/node/pull/37203
    description: Removed `'NODE-DSA'` JWK export.
-->
<ul>
<li><code>format</code>: {string} Must be one of <code>'raw'</code>, <code>'pkcs8'</code>, <code>'spki'</code>, <code>'jwk'</code>, or <code>'node.keyObject'</code>.</li>
<li><code>key</code>: {CryptoKey}</li>
<li>Returns: {Promise} containing {ArrayBuffer}, or, if <code>format</code> is <code>'node.keyObject'</code>, a {KeyObject}.</li>
</ul>
<p>Exports the given key into the specified format, if supported.</p>
<p>If the {CryptoKey} is not extractable, the returned promise will reject.</p>
<p>When <code>format</code> is either <code>'pkcs8'</code> or <code>'spki'</code> and the export is successful, the returned promise will be resolved with an {ArrayBuffer} containing the exported key data.</p>
<p>When <code>format</code> is <code>'jwk'</code> and the export is successful, the returned promise will be resolved with a JavaScript object conforming to the <a href="https://tools.ietf.org/html/rfc7517">JSON Web Key</a> specification.</p>
<p>The special <code>'node.keyObject'</code> value for <code>format</code> is a Node.js-specific extension that allows converting a {CryptoKey} into a Node.js {KeyObject}.</p>
<table>
<thead>
<tr class="header">
<th>Key Type</th>
<th><code>'spki'</code></th>
<th><code>'pkcs8'</code></th>
<th><code>'jwk'</code></th>
<th><code>'raw'</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'AES-CBC'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-CTR'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'AES-GCM'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-KW'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'ECDH'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'ECDSA'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'HDKF'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'HMAC'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'PBKDF2'</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSA-OAEP'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'RSA-PSS'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSASSA-PKCS1-v1_5'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-DSA'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-DH'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-SCRYPT'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-ED25519'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'NODE-ED448'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
<p><sup>1</sup> Node.js-specific extension</p>
<h3 id="subtle.generatekeyalgorithm-extractable-keyusages"><code>subtle.generateKey(algorithm, extractable, keyUsages)</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li><code>algorithm</code>: {RsaHashedKeyGenParams|EcKeyGenParams|HmacKeyGenParams|AesKeyGenParams|NodeDsaKeyGenParams|NodeDhKeyGenParams|NodeEdKeyGenParams} <!--lint enable maximum-line-length remark-lint--></li>
<li><code>extractable</code>: {boolean}</li>
<li><code>keyUsages</code>: {string[]} See <a href="#webcrypto_cryptokey_usages">Key usages</a>.</li>
<li>Returns: {Promise} containing {CryptoKey|CryptoKeyPair}</li>
</ul>
<p>Using the method and parameters provided in <code>algorithm</code>, <code>subtle.generateKey()</code> attempts to generate new keying material. Depending the method used, the method may generate either a single {CryptoKey} or a {CryptoKeyPair}.</p>
<p>The {CryptoKeyPair} (public and private key) generating algorithms supported include:</p>
<ul>
<li><code>'RSASSA-PKCS1-v1_5'</code></li>
<li><code>'RSA-PSS'</code></li>
<li><code>'RSA-OAEP'</code></li>
<li><code>'ECDSA'</code></li>
<li><code>'ECDH'</code></li>
<li><code>'NODE-DSA'</code> <sup>1</sup></li>
<li><code>'NODE-DH'</code> <sup>1</sup></li>
<li><code>'NODE-ED25519'</code> <sup>1</sup></li>
<li><code>'NODE-ED448'</code> <sup>1</sup></li>
</ul>
<p>The {CryptoKey} (secret key) generating algorithms supported include:</p>
<ul>
<li><code>'HMAC'</code></li>
<li><code>'AES-CTR'</code></li>
<li><code>'AES-CBC'</code></li>
<li><code>'AES-GCM'</code></li>
<li><code>'AES-KW'</code></li>
</ul>
<p><sup>1</sup> Non-standard Node.js extension</p>
<h3 id="subtle.importkeyformat-keydata-algorithm-extractable-keyusages"><code>subtle.importKey(format, keyData, algorithm, extractable, keyUsages)</code></h3>
<!-- YAML
added: v15.0.0
changes:
  - version: v15.9.0
    pr-url: https://github.com/nodejs/node/pull/37203
    description: Removed `'NODE-DSA'` JWK import.
-->
<ul>
<li><code>format</code>: {string} Must be one of <code>'raw'</code>, <code>'pkcs8'</code>, <code>'spki'</code>, <code>'jwk'</code>, or <code>'node.keyObject'</code>.</li>
<li><code>keyData</code>: {ArrayBuffer|TypedArray|DataView|Buffer|KeyObject} <!--lint disable maximum-line-length remark-lint--></li>
<li><code>algorithm</code>: {RsaHashedImportParams|EcKeyImportParams|HmacImportParams|AesImportParams|Pbkdf2ImportParams|NodeDsaImportParams|NodeDhImportParams|NodeScryptImportParams|NodeEdKeyImportParams} <!--lint enable maximum-line-length remark-lint--></li>
<li><code>extractable</code>: {boolean}</li>
<li><code>keyUsages</code>: {string[]} See <a href="#webcrypto_cryptokey_usages">Key usages</a>.</li>
<li>Returns: {Promise} containing {CryptoKey}</li>
</ul>
<p>The <code>subtle.importKey()</code> method attempts to interpret the provided <code>keyData</code> as the given <code>format</code> to create a {CryptoKey} instance using the provided <code>algorithm</code>, <code>extractable</code>, and <code>keyUsages</code> arguments. If the import is successful, the returned promise will be resolved with the created {CryptoKey}.</p>
<p>The special <code>'node.keyObject'</code> value for <code>format</code> is a Node.js-specific extension that allows converting a Node.js {KeyObject} into a {CryptoKey}.</p>
<p>If importing a <code>'PBKDF2'</code> key, <code>extractable</code> must be <code>false</code>.</p>
<p>The algorithms currently supported include:</p>
<table>
<thead>
<tr class="header">
<th>Key Type</th>
<th><code>'spki'</code></th>
<th><code>'pkcs8'</code></th>
<th><code>'jwk'</code></th>
<th><code>'raw'</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'AES-CBC'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-CTR'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'AES-GCM'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'AES-KW'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'ECDH'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'ECDSA'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'HDKF'</code></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'HMAC'</code></td>
<td></td>
<td></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'PBKDF2'</code></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'RSA-OAEP'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'RSA-PSS'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="even">
<td><code>'RSASSA-PKCS1-v1_5'</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-DSA'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>'NODE-DH'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>'NODE-SCRYPT'</code> <sup>1</sup></td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>'NODE-ED25519'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>'NODE-ED448'</code> <sup>1</sup></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
<p><sup>1</sup> Node.js-specific extension</p>
<h3 id="subtle.signalgorithm-key-data"><code>subtle.sign(algorithm, key, data)</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li><code>algorithm</code>: {RsaSignParams|RsaPssParams|EcdsaParams|HmacParams|NodeDsaSignParams}</li>
<li><code>key</code>: {CryptoKey}</li>
<li><code>data</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li>Returns: {Promise} containing {ArrayBuffer} <!--lint enable maximum-line-length remark-lint--></li>
</ul>
<p>Using the method and parameters given by <code>algorithm</code> and the keying material provided by <code>key</code>, <code>subtle.sign()</code> attempts to generate a cryptographic signature of <code>data</code>. If successful, the returned promise is resolved with an {ArrayBuffer} containing the generated signature.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'RSASSA-PKCS1-v1_5'</code></li>
<li><code>'RSA-PSS'</code></li>
<li><code>'ECDSA'</code></li>
<li><code>'HMAC'</code></li>
<li><code>'NODE-DSA'</code><sup>1</sup></li>
<li><code>'NODE-ED25519'</code><sup>1</sup></li>
<li><code>'NODE-ED448'</code><sup>1</sup></li>
</ul>
<p><sup>1</sup> Non-standard Node.js extension</p>
<h3 id="subtle.unwrapkeyformat-wrappedkey-unwrappingkey-unwrapalgo-unwrappedkeyalgo-extractable-keyusages"><code>subtle.unwrapKey(format, wrappedKey, unwrappingKey, unwrapAlgo, unwrappedKeyAlgo, extractable, keyUsages)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>format</code>: {string} Must be one of <code>'raw'</code>, <code>'pkcs8'</code>, <code>'spki'</code>, or <code>'jwk'</code>.</li>
<li><code>wrappedKey</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li><code>unwrappingKey</code>: {CryptoKey} <!--lint disable maximum-line-length remark-lint--></li>
<li><code>unwrapAlgo</code>: {RsaOaepParams|AesCtrParams|AesCbcParams|AesGcmParams|AesKwParams}</li>
<li><code>unwrappedKeyAlgo</code>: {RsaHashedImportParams|EcKeyImportParams|HmacImportParams|AesImportParams} <!--lint enable maximum-line-length remark-lint--></li>
<li><code>extractable</code>: {boolean}</li>
<li><code>keyUsages</code>: {string[]} See <a href="#webcrypto_cryptokey_usages">Key usages</a>.</li>
<li>Returns: {Promise} containing {CryptoKey}</li>
</ul>
<p>In cryptography, “wrapping a key” refers to exporting and then encrypting the keying material. The <code>subtle.unwrapKey()</code> method attempts to decrypt a wrapped key and create a {CryptoKey} instance. It is equivalent to calling <code>subtle.decrypt()</code> first on the encrypted key data (using the <code>wrappedKey</code>, <code>unwrapAlgo</code>, and <code>unwrappingKey</code> arguments as input) then passing the results in to the <code>subtle.importKey()</code> method using the <code>unwrappedKeyAlgo</code>, <code>extractable</code>, and <code>keyUsages</code> arguments as inputs. If successful, the returned promise is resolved with a {CryptoKey} object.</p>
<p>The wrapping algorithms currently supported include:</p>
<ul>
<li><code>'RSA-OAEP'</code></li>
<li><code>'AES-CTR'</code><sup>1</sup></li>
<li><code>'AES-CBC'</code><sup>1</sup></li>
<li><code>'AES-GCM'</code><sup>1</sup></li>
<li><code>'AES-KW'</code><sup>1</sup></li>
</ul>
<p>The unwrapped key algorithms supported include:</p>
<ul>
<li><code>'RSASSA-PKCS1-v1_5'</code></li>
<li><code>'RSA-PSS'</code></li>
<li><code>'RSA-OAEP'</code></li>
<li><code>'ECDSA'</code></li>
<li><code>'ECDH'</code></li>
<li><code>'HMAC'</code></li>
<li><code>'AES-CTR'</code></li>
<li><code>'AES-CBC'</code></li>
<li><code>'AES-GCM'</code></li>
<li><code>'AES-KW'</code></li>
<li><code>'NODE-DSA'</code><sup>1</sup></li>
<li><code>'NODE-DH'</code><sup>1</sup></li>
</ul>
<p><sup>1</sup> Non-standard Node.js extension</p>
<h3 id="subtle.verifyalgorithm-key-signature-data"><code>subtle.verify(algorithm, key, signature, data)</code></h3>
<!-- YAML
added: v15.0.0
-->
<!--lint disable maximum-line-length remark-lint-->
<ul>
<li><code>algorithm</code>: {RsaSignParams|RsaPssParams|EcdsaParams|HmacParams|NodeDsaSignParams}</li>
<li><code>key</code>: {CryptoKey}</li>
<li><code>signature</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li><code>data</code>: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
<li>Returns: {Promise} containing {boolean} <!--lint enable maximum-line-length remark-lint--></li>
</ul>
<p>Using the method and parameters given in <code>algorithm</code> and the keying material provided by <code>key</code>, <code>subtle.verify()</code> attempts to verify that <code>signature</code> is a valid cryptographic signature of <code>data</code>. The returned promise is resolved with either <code>true</code> or <code>false</code>.</p>
<p>The algorithms currently supported include:</p>
<ul>
<li><code>'RSASSA-PKCS1-v1_5'</code></li>
<li><code>'RSA-PSS'</code></li>
<li><code>'ECDSA'</code></li>
<li><code>'HMAC'</code></li>
<li><code>'NODE-DSA'</code><sup>1</sup></li>
<li><code>'NODE-ED25519'</code><sup>1</sup></li>
<li><code>'NODE-ED448'</code><sup>1</sup></li>
</ul>
<p><sup>1</sup> Non-standard Node.js extension</p>
<h3 id="subtle.wrapkeyformat-key-wrappingkey-wrapalgo"><code>subtle.wrapKey(format, key, wrappingKey, wrapAlgo)</code></h3>
<!-- YAML
added: v15.0.0
-->
<ul>
<li><code>format</code>: {string} Must be one of <code>'raw'</code>, <code>'pkcs8'</code>, <code>'spki'</code>, or <code>'jwk'</code>.</li>
<li><code>key</code>: {CryptoKey}</li>
<li><code>wrappingKey</code>: {CryptoKey}</li>
<li><code>wrapAlgo</code>: {RsaOaepParams|AesCtrParams|AesCbcParams|AesGcmParams|AesKwParams}</li>
<li>Returns: {Promise} containing {ArrayBuffer}</li>
</ul>
<p>In cryptography, “wrapping a key” refers to exporting and then encrypting the keying material. The <code>subtle.wrapKey()</code> method exports the keying material into the format identified by <code>format</code>, then encrypts it using the method and parameters specified by <code>wrapAlgo</code> and the keying material provided by <code>wrappingKey</code>. It is the equivalent to calling <code>subtle.exportKey()</code> using <code>format</code> and <code>key</code> as the arguments, then passing the result to the <code>subtle.encrypt()</code> method using <code>wrappingKey</code> and <code>wrapAlgo</code> as inputs. If successful, the returned promise will be resolved with an {ArrayBuffer} containing the encrypted key data.</p>
<p>The wrapping algorithms currently supported include:</p>
<ul>
<li><code>'RSA-OAEP'</code></li>
<li><code>'AES-CTR'</code></li>
<li><code>'AES-CBC'</code></li>
<li><code>'AES-GCM'</code></li>
<li><code>'AES-KW'</code></li>
</ul>
<h2 id="algorithm-parameters">Algorithm Parameters</h2>
<p>The algorithm parameter objects define the methods and parameters used by the various {SubtleCrypto} methods. While described here as “classes”, they are simple JavaScript dictionary objects.</p>
<h3 id="class-aescbcparams">Class: <code>AesCbcParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aescbcparams.iv"><code>aesCbcParams.iv</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>Provides the initialization vector. It must be exactly 16-bytes in length and should be unpredictable and cryptographically random.</p>
<h4 id="aescbcparams.name"><code>aesCbcParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'AES-CBC'</code>.</li>
</ul>
<h3 id="class-aesctrparams">Class: <code>AesCtrParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aesctrparams.counter"><code>aesCtrParams.counter</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>The initial value of the counter block. This must be exactly 16 bytes long.</p>
<p>The <code>AES-CTR</code> method uses the rightmost <code>length</code> bits of the block as the counter and the remaining bits as the nonce.</p>
<h4 id="aesctrparams.length"><code>aesCtrParams.length</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} The number of bits in the <code>aesCtrParams.counter</code> that are to be used as the counter.</li>
</ul>
<h4 id="aesctrparams.name"><code>aesCtrParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'AES-CTR'</code>.</li>
</ul>
<h3 id="class-aesgcmparams">Class: <code>AesGcmParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aesgcmparams.additionaldata"><code>aesGcmParams.additionalData</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer|undefined}</li>
</ul>
<p>With the AES-GCM method, the <code>additionalData</code> is extra input that is not encrypted but is included in the authentication of the data. The use of <code>additionalData</code> is optional.</p>
<h4 id="aesgcmparams.iv"><code>aesGcmParams.iv</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>The initialization vector must be unique for every encryption operation using a given key. It is recommended by the AES-GCM specification that this contain at least 12 random bytes.</p>
<h4 id="aesgcmparams.name"><code>aesGcmParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'AES-GCM'</code>.</li>
</ul>
<h4 id="aesgcmparams.taglength"><code>aesGcmParams.tagLength</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} The size in bits of the generated authentication tag. This values must be one of <code>32</code>, <code>64</code>, <code>96</code>, <code>104</code>, <code>112</code>, <code>120</code>, or <code>128</code>. <strong>Default:</strong> <code>128</code>.</li>
</ul>
<h3 id="class-aesimportparams">Class: <code>AesImportParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aesimportparams.name"><code>aesImportParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'AES-CTR'</code>, <code>'AES-CBC'</code>, <code>'AES-GCM'</code>, or <code>'AES-KW'</code>.</li>
</ul>
<h3 id="class-aeskeygenparams">Class: <code>AesKeyGenParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aeskeygenparams.length"><code>aesKeyGenParams.length</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The length of the AES key to be generated. This must be either <code>128</code>, <code>192</code>, or <code>256</code>.</p>
<h4 id="aeskeygenparams.name"><code>aesKeyGenParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'AES-CBC'</code>, <code>'AES-CTR'</code>, <code>'AES-GCM'</code>, or <code>'AES-KW'</code></li>
</ul>
<h3 id="class-aeskwparams">Class: <code>AesKwParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="aeskwparams.name"><code>aesKwParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'AES-KW'</code>.</li>
</ul>
<h3 id="class-ecdhkeyderiveparams">Class: <code>EcdhKeyDeriveParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="ecdhkeyderiveparams.name"><code>ecdhKeyDeriveParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'ECDH'</code>.</li>
</ul>
<h4 id="ecdhkeyderiveparams.public"><code>ecdhKeyDeriveParams.public</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {CryptoKey}</li>
</ul>
<p>ECDH key derivation operates by taking as input one parties private key and another parties public key – using both to generate a common shared secret. The <code>ecdhKeyDeriveParams.public</code> property is set to the other parties public key.</p>
<h3 id="class-ecdsaparams">Class: <code>EcdsaParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="ecdsaparams.hash"><code>ecdsaParams.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="ecdsaparams.name"><code>ecdsaParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'ECDSA'</code>.</li>
</ul>
<h3 id="class-eckeygenparams">Class: <code>EcKeyGenParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="eckeygenparams.name"><code>ecKeyGenParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'ECDSA'</code> or <code>'ECDH'</code>.</li>
</ul>
<h4 id="eckeygenparams.namedcurve"><code>ecKeyGenParams.namedCurve</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'P-256'</code>, <code>'P-384'</code>, <code>'P-521'</code>, <code>'NODE-ED25519'</code>, <code>'NODE-ED448'</code>, <code>'NODE-X25519'</code>, or <code>'NODE-X448'</code>.</li>
</ul>
<h3 id="class-eckeyimportparams">Class: <code>EcKeyImportParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="eckeyimportparams.name"><code>ecKeyImportParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'ECDSA'</code> or <code>'ECDH'</code>.</li>
</ul>
<h4 id="eckeyimportparams.namedcurve"><code>ecKeyImportParams.namedCurve</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'P-256'</code>, <code>'P-384'</code>, <code>'P-521'</code>, <code>'NODE-ED25519'</code>, <code>'NODE-ED448'</code>, <code>'NODE-X25519'</code>, or <code>'NODE-X448'</code>.</li>
</ul>
<h3 id="class-hkdfparams">Class: <code>HkdfParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="hkdfparams.hash"><code>hkdfParams.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="hkdfparams.info"><code>hkdfParams.info</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>Provides application-specific contextual input to the HKDF algorithm. This can be zero-length but must be provided.</p>
<h4 id="hkdfparams.name"><code>hkdfParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'HKDF'</code>.</li>
</ul>
<h4 id="hkdfparams.salt"><code>hkdfParams.salt</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>The salt value significantly improves the strength of the HKDF algorithm. It should be random or pseudorandom and should be the same length as the output of the digest function (for instance, if using <code>'SHA-256'</code> as the digest, the salt should be 256-bits of random data).</p>
<h3 id="class-hmacimportparams">Class: <code>HmacImportParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="hmacimportparams.hash">’hmacImportParams.hash`</h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="hmacimportparams.length"><code>hmacImportParams.length</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The optional number of bits in the HMAC key. This is optional and should be omitted for most cases.</p>
<h4 id="hmacimportparams.name"><code>hmacImportParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'HMAC'</code>.</li>
</ul>
<h3 id="class-hmackeygenparams">Class: <code>HmacKeyGenParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="hmackeygenparams.hash"><code>hmacKeyGenParams.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="hmackeygenparams.length"><code>hmacKeyGenParams.length</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The number of bits to generate for the HMAC key. If omitted, the length will be determined by the hash algorithm used. This is optional and should be omitted for most cases.</p>
<h4 id="hmackeygenparams.name"><code>hmacKeyGenParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'HMAC'</code>.</li>
</ul>
<h3 id="class-hmacparams">Class: <code>HmacParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="hmacparams.name"><code>hmacParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'HMAC</code>.</li>
</ul>
<h3 id="class-pbkdf2importparams">Class: <code>Pbkdf2ImportParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="pbkdf2importparams.name"><code>pbkdf2ImportParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'PBKDF2'</code></li>
</ul>
<h3 id="class-pbkdf2params">Class: <code>Pbkdf2Params</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="pbkdb2params.hash"><code>pbkdb2Params.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="pbkdf2params.iterations"><code>pbkdf2Params.iterations</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The number of iterations the PBKDF2 algorithm should make when deriving bits.</p>
<h4 id="pbkdf2params.name"><code>pbkdf2Params.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'PBKDF2'</code>.</li>
</ul>
<h4 id="pbkdf2params.salt"><code>pbkdf2Params.salt</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>Should be at least 16 random or pseudorandom bytes.</p>
<h3 id="class-rsahashedimportparams">Class: <code>RsaHashedImportParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="rsahashedimportparams.hash"><code>rsaHashedImportParams.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="rsahashedimportparams.name"><code>rsaHashedImportParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'RSASSA-PKCS1-v1_5'</code>, <code>'RSA-PSS'</code>, or <code>'RSA-OAEP'</code>.</li>
</ul>
<h3 id="class-rsahashedkeygenparams">Class: <code>RsaHashedKeyGenParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="rsahashedkeygenparams.hash"><code>rsaHashedKeyGenParams.hash</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h4 id="rsahashedkeygenparams.moduluslength"><code>rsaHashedKeyGenParams.modulusLength</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The length in bits of the RSA modulus. As a best practice, this should be at least <code>2048</code>.</p>
<h4 id="rsahashedkeygenparams.name"><code>rsaHashedKeyGenParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be one of <code>'RSASSA-PKCS1-v1_5'</code>, <code>'RSA-PSS'</code>, or <code>'RSA-OAEP'</code>.</li>
</ul>
<h4 id="rsahashedkeygenparams.publicexponent"><code>rsaHashedKeyGenParams.publicExponent</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {Uint8Array}</li>
</ul>
<p>The RSA public exponent. This must be a {Uint8Array} containing a big-endian, unsigned integer that must fit within 32-bits. The {Uint8Array} may contain an arbitrary number of leading zero-bits. The value must be a prime number. Unless there is reason to use a different value, use <code>new Uint8Array([1, 0, 1])</code> (65537) as the public exponent.</p>
<h3 id="class-rsaoaepparams">Class: <code>RsaOaepParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="rsaoaepparams.label">rsaOaepParams.label</h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {ArrayBuffer|TypedArray|DataView|Buffer}</li>
</ul>
<p>An additional collection of bytes that will not be encrypted, but will be bound to the generated ciphertext.</p>
<p>The <code>rsaOaepParams.label</code> parameter is optional.</p>
<h4 id="rsaoaepparams.name">rsaOaepParams.name</h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} must be <code>'RSA-OAEP'</code>.</li>
</ul>
<h3 id="class-rsapssparams">Class: <code>RsaPssParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="rsapssparams.name"><code>rsaPssParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'RSA-PSS'</code>.</li>
</ul>
<h4 id="rsapssparams.saltlength"><code>rsaPssParams.saltLength</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The length (in bytes) of the random salt to use.</p>
<h3 id="class-rsasignparams">Class: <code>RsaSignParams</code></h3>
<!-- YAML
added: v15.0.0
-->
<h4 id="rsasignparams.name"><code>rsaSignParams.name</code></h4>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'RSASSA-PKCS1-v1_5'</code></li>
</ul>
<h2 id="node.js-specific-extensions">Node.js-specific extensions</h2>
<p>The Node.js Web Crypto API extends various aspects of the Web Crypto API. These extensions are consistently identified by prepending names with the <code>node.</code> prefix. For instance, the <code>'node.keyObject'</code> key format can be used with the <code>subtle.exportKey()</code> and <code>subtle.importKey()</code> methods to convert between a WebCrypto {CryptoKey} object and a Node.js {KeyObject}.</p>
<p>Care should be taken when using Node.js-specific extensions as they are not supported by other WebCrypto implementations and reduce the portability of code to other environments.</p>
<h3 id="node-dh-algorithm"><code>NODE-DH</code> Algorithm</h3>
<!-- YAML
added: v15.0.0
-->
<p>The <code>NODE-DH</code> algorithm is the common implementation of Diffie-Hellman key agreement.</p>
<h4 id="class-nodedhimportparams">Class: <code>NodeDhImportParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedhimportparams.name"><code>nodeDhImportParams.name</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'NODE-DH'</code>.</li>
</ul>
<h4 id="class-nodedhkeygenparams">Class: NodeDhKeyGenParams`</h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedhkeygenparams.generator"><code>nodeDhKeyGenParams.generator</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} A custom generator.</li>
</ul>
<h5 id="nodedhkeygenparams.group"><code>nodeDhKeyGenParams.group</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} The Diffie-Hellman group name.</li>
</ul>
<h5 id="nodedhkeygenparams.prime"><code>nodeDhKeyGenParams.prime</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {Buffer} The prime parameter.</li>
</ul>
<h5 id="nodedhkeygenparams.primelength"><code>nodeDhKeyGenParams.primeLength</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} The length in bits of the prime.</li>
</ul>
<h4 id="class-nodedhderivebitsparams">Class: NodeDhDeriveBitsParams</h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedhderivebitsparams.public"><code>nodeDhDeriveBitsParams.public</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {CryptoKey} The other parties public key.</li>
</ul>
<h3 id="node-dsa-algorithm"><code>NODE-DSA</code> Algorithm</h3>
<!-- YAML
added: v15.0.0
-->
<p>The <code>NODE-DSA</code> algorithm is the common implementation of the DSA digital signature algorithm.</p>
<h4 id="class-nodedsaimportparams">Class: <code>NodeDsaImportParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedsaimportparams.hash"><code>nodeDsaImportParams.hash</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h5 id="nodedsaimportparams.name"><code>nodeDsaImportParams.name</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'NODE-DSA'</code>.</li>
</ul>
<h4 id="class-nodedsakeygenparams">Class: <code>NodeDsaKeyGenParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedsakeygenparams.divisorlength"><code>nodeDsaKeyGenParams.divisorLength</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The optional length in bits of the DSA divisor.</p>
<h5 id="nodedsakeygenparams.hash"><code>nodeDsaKeyGenParams.hash</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|Object}</li>
</ul>
<p>If represented as a {string}, the value must be one of:</p>
<ul>
<li><code>'SHA-1'</code></li>
<li><code>'SHA-256'</code></li>
<li><code>'SHA-384'</code></li>
<li><code>'SHA-512'</code></li>
</ul>
<p>If represented as an {Object}, the object must have a <code>name</code> property whose value is one of the above listed values.</p>
<h5 id="nodedsakeygenparams.moduluslength"><code>nodeDsaKeyGenParams.modulusLength</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number}</li>
</ul>
<p>The length in bits of the DSA modulus. As a best practice, this should be at least <code>2048</code>.</p>
<h5 id="nodedsakeygenparams.name"><code>nodeDsaKeyGenParams.name</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'NODE-DSA'</code>.</li>
</ul>
<h4 id="class-nodedsasignparams">Class: <code>NodeDsaSignParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodedsasignparams.name"><code>nodeDsaSignParams.name</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'NODE-DSA'</code></li>
</ul>
<h3 id="node-ed25519-and-node-ed448-algorithms"><code>NODE-ED25519</code> and <code>NODE-ED448</code> Algorithms</h3>
<!-- YAML
added: v15.8.0
-->
<h4 id="class-nodeedkeygenparams">Class: <code>NodeEdKeyGenParams</code></h4>
<!-- YAML
added: v15.8.0
-->
<h5 id="nodeedkeygenparams.name"><code>nodeEdKeyGenParams.name</code></h5>
<!-- YAML
added: v15.8.0
-->
<ul>
<li>Type: {string} Must be one of <code>'NODE-ED25519'</code>, <code>'NODE-ED448'</code> or <code>'ECDH'</code>.</li>
</ul>
<h5 id="nodeedkeygenparams.namedcurve"><code>nodeEdKeyGenParams.namedCurve</code></h5>
<!-- YAML
added: v15.8.0
-->
<ul>
<li>Type: {string} Must be one of <code>'NODE-ED25519'</code>, <code>'NODE-ED448'</code>, <code>'NODE-X25519'</code>, or <code>'NODE-X448'</code>.</li>
</ul>
<h4 id="class-nodeedkeyimportparams">Class: <code>NodeEdKeyImportParams</code></h4>
<!-- YAML
added: v15.8.0
-->
<h5 id="nodeedkeyimportparams.name"><code>nodeEdKeyImportParams.name</code></h5>
<!-- YAML
added: v15.8.0
-->
<ul>
<li>Type: {string} Must be one of <code>'NODE-ED25519'</code> or <code>'NODE-ED448'</code> if importing an <code>Ed25519</code> or <code>Ed448</code> key, or <code>'ECDH'</code> if importing an <code>X25519</code> or <code>X448</code> key.</li>
</ul>
<h5 id="nodeedkeyimportparams.namedcurve"><code>nodeEdKeyImportParams.namedCurve</code></h5>
<!-- YAML
added: v15.8.0
-->
<ul>
<li>Type: {string} Must be one of <code>'NODE-ED25519'</code>, <code>'NODE-ED448'</code>, <code>'NODE-X25519'</code>, or <code>'NODE-X448'</code>.</li>
</ul>
<h5 id="nodeedkeyimportparams.public"><code>nodeEdKeyImportParams.public</code></h5>
<!-- YAML
added: v15.8.0
-->
<ul>
<li>Type: {boolean}</li>
</ul>
<p>The <code>public</code> parameter is used to specify that the <code>'raw'</code> format key is to be interpreted as a public key. <strong>Default:</strong> <code>false</code>.</p>
<h3 id="node-scrypt-algorithm"><code>NODE-SCRYPT</code> Algorithm</h3>
<!-- YAML
added: v15.0.0
-->
<p>The <code>NODE-SCRYPT</code> algorithm is the common implementation of the scrypt key derivation algorithm.</p>
<h4 id="class-nodescryptimportparams">Class: <code>NodeScryptImportParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodescryptimportparams.name"><code>nodeScryptImportParams.name</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} Must be <code>'NODE-SCRYPT'</code>.</li>
</ul>
<h4 id="class-nodescryptparams">Class: <code>NodeScryptParams</code></h4>
<!-- YAML
added: v15.0.0
-->
<h5 id="nodescryptparams.encoding"><code>nodeScryptParams.encoding</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string} The string encoding when <code>salt</code> is a string.</li>
</ul>
<h5 id="nodescryptparams.maxmem"><code>nodeScryptParams.maxmem</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} Memory upper bound. It is an error when (approximately) <code>127 * N * r &gt; maxmem</code>. <strong>Default:</strong> <code>32 * 1024 * 1024</code>.</li>
</ul>
<h5 id="nodescryptparams.n"><code>nodeScryptParams.N</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} The CPU/memory cost parameter. Must e a power of two greater than 1. <strong>Default:</strong> <code>16384</code>.</li>
</ul>
<h5 id="nodescryptparams.p"><code>nodeScryptParams.p</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} Parallelization parameter. <strong>Default:</strong> <code>1</code>.</li>
</ul>
<h5 id="nodescryptparams.r"><code>nodeScryptParams.r</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {number} Block size parameter. <strong>Default:</strong> <code>8</code>.</li>
</ul>
<h5 id="nodescryptparams.salt"><code>nodeScryptParams.salt</code></h5>
<!-- YAML
added: v15.0.0
-->
<ul>
<li>Type: {string|ArrayBuffer|Buffer|TypedArray|DataView}</li>
</ul>
</body>
</html>
