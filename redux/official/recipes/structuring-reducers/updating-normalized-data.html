<!DOCTYPE html>
<html lang="en" dir="ltr">
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=UTF-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="Docusaurus v2.0.0-beta.0" />
    <link
      rel="alternate"
      type="application/rss+xml"
      href="../../blog/rss.xml"
      title="Redux Blog RSS Feed"
    />
    <link
      rel="alternate"
      type="application/atom+xml"
      href="../../blog/atom.xml"
      title="Redux Blog Atom Feed"
    />

    <link
      rel="search"
      type="application/opensearchdescription+xml"
      title="Redux"
      href="../../opensearch.xml"
    />
    <title data-react-helmet="true">Updating Normalized Data | Redux</title>
    <meta
      data-react-helmet="true"
      property="og:url"
      content="https://redux.js.org/recipes/structuring-reducers/updating-normalized-data"
    />
    <meta data-react-helmet="true" name="docsearch:language" content="en" />
    <meta data-react-helmet="true" name="docsearch:version" content="current" />
    <meta
      data-react-helmet="true"
      name="docsearch:docusaurus_tag"
      content="docs-default-current"
    />
    <meta
      data-react-helmet="true"
      property="og:title"
      content="Updating Normalized Data | Redux"
    />
    <meta
      data-react-helmet="true"
      name="description"
      content="Structuring Reducers &gt; Updating Normalized Data: Patterns for updating normalized data"
    />
    <meta
      data-react-helmet="true"
      property="og:description"
      content="Structuring Reducers &gt; Updating Normalized Data: Patterns for updating normalized data"
    />
    <meta
      data-react-helmet="true"
      property="og:image"
      content="https://redux.js.org/img/redux-logo-landscape.png"
    />
    <meta
      data-react-helmet="true"
      name="twitter:image"
      content="https://redux.js.org/img/redux-logo-landscape.png"
    />
    <meta
      data-react-helmet="true"
      name="twitter:card"
      content="summary_large_image"
    />
    <link
      data-react-helmet="true"
      rel="shortcut icon"
      href="../../img/favicon/favicon.ico"
    />
    <link
      data-react-helmet="true"
      rel="canonical"
      href="updating-normalized-data.html"
    />
    <link
      data-react-helmet="true"
      rel="alternate"
      href="updating-normalized-data.html"
      hreflang="en"
    />
    <link
      data-react-helmet="true"
      rel="alternate"
      href="updating-normalized-data.html"
      hreflang="x-default"
    />
    <link
      data-react-helmet="true"
      rel="preconnect"
      href="../../../bh4d9od16a-dsn.algolia.net/index.html"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../assets/css/styles.c1a1aae0.css" />
    <link
      rel="preload"
      href="../../assets/js/runtime_main.443914bd.js"
      as="script"
    />
    <link rel="preload" href="../../assets/js/main.8520a084.js" as="script" />
  </head>
  <body>
    <script>
      !(function () {
        function t(t) {
          document.documentElement.setAttribute("data-theme", t);
        }
        var e = (function () {
          var t = null;
          try {
            t = localStorage.getItem("theme");
          } catch (t) {}
          return t;
        })();
        t(null !== e ? e : "light");
      })();
    </script>
    <div id="__docusaurus">
      <div>
        <a href="#main" class="skipToContent_1oUP">Skip to main content</a>
      </div>
      <nav class="navbar navbar--fixed-top">
        <div class="navbar__inner">
          <div class="navbar__items">
            <button
              aria-label="Navigation bar toggle"
              class="navbar__toggle"
              type="button"
              tabindex="0"
            >
              <svg
                aria-label="Menu"
                width="30"
                height="30"
                viewBox="0 0 30 30"
                role="img"
                focusable="false"
              >
                <title>Menu</title>
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-miterlimit="10"
                  stroke-width="2"
                  d="M4 7h22M4 15h22M4 23h22"
                ></path>
              </svg></button
            ><a class="navbar__brand" href="../../index.html"
              ><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
              /><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"
              /><strong class="navbar__title">Redux</strong></a
            >
          </div>
          <div class="navbar__items navbar__items--right">
            <a
              class="navbar__item navbar__link"
              href="../../introduction/getting-started.html"
              >Getting Started</a
            ><a
              class="navbar__item navbar__link"
              href="../../tutorials/essentials/part-1-overview-concepts.html"
              >Tutorial</a
            ><a
              class="navbar__item navbar__link"
              href="../../api/api-reference.html"
              >API</a
            ><a class="navbar__item navbar__link" href="../../faq.html">FAQ</a
            ><a
              class="navbar__item navbar__link"
              href="../../style-guide/style-guide.html"
              >Best Practices</a
            ><a
              href="../../../github.com/reduxjs/redux.html"
              target="_blank"
              rel="noopener noreferrer"
              class="navbar__item navbar__link"
              >GitHub</a
            ><a
              class="navbar__item navbar__link"
              href="../../introduction/getting-started.html#help-and-discussion"
              >Need help?</a
            >
            <div
              class="
                react-toggle
                displayOnlyInLargeViewport_GrZ2
                react-toggle--disabled
              "
              role="button"
              tabindex="-1"
            >
              <div class="react-toggle-track">
                <div class="react-toggle-track-check">
                  <span class="toggle_71bT">ðŸŒœ</span>
                </div>
                <div class="react-toggle-track-x">
                  <span class="toggle_71bT">ðŸŒž</span>
                </div>
              </div>
              <div class="react-toggle-thumb"></div>
              <input
                type="checkbox"
                class="react-toggle-screenreader-only"
                aria-label="Switch between dark and light mode"
              />
            </div>
            <button
              type="button"
              class="DocSearch DocSearch-Button"
              aria-label="Search"
            >
              <span class="DocSearch-Button-Container"
                ><svg
                  width="20"
                  height="20"
                  class="DocSearch-Search-Icon"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z"
                    stroke="currentColor"
                    fill="none"
                    fill-rule="evenodd"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></path></svg
                ><span class="DocSearch-Button-Placeholder">Search</span></span
              >
            </button>
          </div>
        </div>
        <div role="presentation" class="navbar-sidebar__backdrop"></div>
        <div class="navbar-sidebar">
          <div class="navbar-sidebar__brand">
            <a class="navbar__brand" href="../../index.html"
              ><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
              /><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"
              /><strong class="navbar__title">Redux</strong></a
            >
          </div>
          <div class="navbar-sidebar__items">
            <div class="menu">
              <ul class="menu__list">
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../introduction/getting-started.html"
                    >Getting Started</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../tutorials/essentials/part-1-overview-concepts.html"
                    >Tutorial</a
                  >
                </li>
                <li class="menu__list-item">
                  <a class="menu__link" href="../../api/api-reference.html"
                    >API</a
                  >
                </li>
                <li class="menu__list-item">
                  <a class="menu__link" href="../../faq.html">FAQ</a>
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../style-guide/style-guide.html"
                    >Best Practices</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    href="../../../github.com/reduxjs/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="menu__link"
                    >GitHub</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../introduction/getting-started.html#help-and-discussion"
                    >Need help?</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
      <div class="main-wrapper docs-wrapper doc-page">
        <div class="docPage_31aa">
          <div class="docSidebarContainer_3Kbt" role="complementary">
            <div class="sidebar_15mo">
              <div class="menu menu--responsive thin-scrollbar menu_Bmed">
                <button
                  aria-label="Open menu"
                  aria-haspopup="true"
                  class="button button--secondary button--sm menu__button"
                  type="button"
                >
                  <svg
                    aria-label="Menu"
                    class="sidebarMenuIcon_fgN0"
                    width="24"
                    height="24"
                    viewBox="0 0 30 30"
                    role="img"
                    focusable="false"
                  >
                    <title>Menu</title>
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-miterlimit="10"
                      stroke-width="2"
                      d="M4 7h22M4 15h22M4 23h22"
                    ></path>
                  </svg>
                </button>
                <ul class="menu__list">
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Introduction</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/getting-started.html"
                          >Getting Started with Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/installation.html"
                          >Installation</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/core-concepts.html"
                          >Core Concepts</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/learning-resources.html"
                          >Learning Resources</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/ecosystem.html"
                          >Ecosystem</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/examples.html"
                          >Examples</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Tutorials</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../tutorials/index.html"
                          >Tutorials Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../tutorials/quick-start.html"
                          >Quick Start</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../tutorials/typescript-quick-start.html"
                          >TypeScript Quick Start</a
                        >
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >Redux Essentials</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-1-overview-concepts.html"
                              >Redux Overview and Concepts</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-2-app-structure.html"
                              >Redux App Structure</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-3-data-flow.html"
                              >Basic Redux Data Flow</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-4-using-data.html"
                              >Using Redux Data</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-5-async-logic.html"
                              >Async Logic and Data Fetching</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/essentials/part-6-performance-normalization.html"
                              >Performance and Normalizing Data</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >Redux Fundamentals</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-1-overview.html"
                              >Redux Overview</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-2-concepts-data-flow.html"
                              >Redux Concepts and Data Flow</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-3-state-actions-reducers.html"
                              >State, Actions, and Reducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-4-store.html"
                              >Store</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-5-ui-react.html"
                              >UI and React</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-6-async-logic.html"
                              >Async Logic and Data Fetching</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-7-standard-patterns.html"
                              >Standard Redux Patterns</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../tutorials/fundamentals/part-8-modern-redux.html"
                              >Modern Redux with Redux Toolkit</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item">
                    <a
                      class="menu__link menu__link--sublist menu__link--active"
                      href="#!"
                      >Recipes</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../recipe-index.html"
                          >Recipes: Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../configuring-your-store.html"
                          >Configuring Your Store</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../usage-with-typescript.html"
                          >Usage With TypeScript</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../migrating-to-redux.html"
                          >Migrating to Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../using-object-spread-operator.html"
                          >Using Object Spread Operator</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../reducing-boilerplate.html"
                          >Reducing Boilerplate</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../server-rendering.html"
                          >Server Rendering</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../writing-tests.html"
                          >Writing Tests</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../computing-derived-data.html"
                          >Computing Derived Data</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../implementing-undo-history.html"
                          >Implementing Undo History</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../isolating-redux-sub-apps.html"
                          >Isolating Redux Sub-Apps</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../code-splitting.html"
                          >Code Splitting</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../troubleshooting.html"
                          >Troubleshooting</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="
                            menu__link menu__link--sublist menu__link--active
                          "
                          href="#!"
                          tabindex="0"
                          >Structuring Reducers</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="structuring-reducers.html"
                              >Structuring Reducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="prerequisite-concepts.html"
                              >Prerequisite Concepts</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="basic-reducer-structure.html"
                              >Basic Reducer Structure</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="splitting-reducer-logic.html"
                              >Splitting Reducer Logic</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="refactoring-reducer-example.html"
                              >Refactoring Reducers Example</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="using-combinereducers.html"
                              >Using combineReducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="beyond-combinereducers.html"
                              >Beyond combineReducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="normalizing-state-shape.html"
                              >Normalizing State Shape</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              aria-current="page"
                              class="menu__link menu__link--active active"
                              tabindex="0"
                              href="updating-normalized-data.html"
                              >Updating Normalized Data</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="reusing-reducer-logic.html"
                              >Reusing Reducer Logic</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="immutable-update-patterns.html"
                              >Immutable Update Patterns</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="initializing-state.html"
                              >Initializing State</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Understanding Redux</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >Thinking in Redux</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/motivation.html"
                              >Motivation</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/three-principles.html"
                              >Three Principles</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/glossary.html"
                              >Glossary</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >History and Design</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/history-and-design/prior-art.html"
                              >Prior Art</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/history-and-design/middleware.html"
                              >Middleware</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!">FAQ</a>
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq.html"
                          >FAQ Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/general.html"
                          >General</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/reducers.html"
                          >Reducers</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/organizing-state.html"
                          >Organizing State</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/store-setup.html"
                          >Store Setup</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/actions.html"
                          >Actions</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/immutable-data.html"
                          >Immutable Data</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/code-structure.html"
                          >Code Structure</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/performance.html"
                          >Performance</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/design-decisions.html"
                          >Design Decisions</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/react-redux.html"
                          >React Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/miscellaneous.html"
                          >Miscellaneous</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Style Guide</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../style-guide/style-guide.html"
                          >Style Guide: Best Practices</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >API Reference</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/api-reference.html"
                          >API Reference</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/createstore.html"
                          >createStore</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/store.html"
                          >Store</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/combinereducers.html"
                          >combineReducers</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/applymiddleware.html"
                          >applyMiddleware</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/bindactioncreators.html"
                          >bindActionCreators</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/compose.html"
                          >compose</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Redux Toolkit</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../redux-toolkit/overview.html"
                          >Redux Toolkit: Overview</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <main class="docMainContainer_3ufF">
            <div class="container padding-vert--lg docItemWrapper_3FMP">
              <div class="row">
                <div class="col docItemCol_3FnS">
                  <div class="docItemContainer_33ec">
                    <article>
                      <div class="markdown">
                        <h1>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="managing-normalized-data"
                          ></a
                          >Managing Normalized Data<a
                            class="hash-link"
                            href="#managing-normalized-data"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h1>
                        <p>
                          As mentioned in
                          <a href="normalizing-state-shape.html"
                            >Normalizing State Shape</a
                          >, the Normalizr library is frequently used to
                          transform nested response data into a normalized shape
                          suitable for integration into the store. However, that
                          doesn&#x27;t address the issue of executing further
                          updates to that normalized data as it&#x27;s being
                          used elsewhere in the application. There are a variety
                          of different approaches that you can use, based on
                          your own preference. We&#x27;ll use the example of
                          handling mutations for Comments on a Post.
                        </p>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="standard-approaches"
                          ></a
                          >Standard Approaches<a
                            class="hash-link"
                            href="#standard-approaches"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="simple-merging"
                          ></a
                          >Simple Merging<a
                            class="hash-link"
                            href="#simple-merging"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          One approach is to merge the contents of the action
                          into the existing state. In this case, we can use deep
                          recursive merge, not just a shallow copy, to allow for
                          actions with partial items to update stored items. The
                          Lodash <code>merge</code> function can handle this for
                          us:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">merge</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;lodash/merge&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >commentsById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter"> </span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >entities</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&amp;&amp;</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >entities</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >comments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >merge</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >entities</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >comments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >byId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          This requires the least amount of work on the reducer
                          side, but does require that the action creator
                          potentially do a fair amount of work to organize the
                          data into the correct shape before the action is
                          dispatched. It also doesn&#x27;t handle trying to
                          delete an item.
                        </p>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="slice-reducer-composition"
                          ></a
                          >Slice Reducer Composition<a
                            class="hash-link"
                            href="#slice-reducer-composition"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          If we have a nested tree of slice reducers, each slice
                          reducer will need to know how to respond to this
                          action appropriately. We will need to include all the
                          relevant data in the action. We need to update the
                          correct Post object with the comment&#x27;s ID, create
                          a new Comment object using that ID as a key, and
                          include the Comment&#x27;s ID in the list of all
                          Comment IDs. Here&#x27;s how the pieces for this might
                          fit together:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// actions.js</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">postId</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter">
                                    commentText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Generate a unique ID for this
                                    comment</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> commentId </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >generateId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;comment&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> postId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> commentText</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// reducers/posts.js</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> payload </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> action</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> postId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> commentId </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> payload</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Look up the correct post, to simplify
                                    the rest of the code</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> post </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span class="token plain">postId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token spread operator"
                                    style="color: #f8f8f2"
                                    >...</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Update our Post object with a new
                                    &quot;comments&quot; array</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span class="token plain">postId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token spread operator"
                                    style="color: #f8f8f2"
                                    >...</span
                                  ><span class="token plain">post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> comments</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >comments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >concat</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >postsById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter"> </span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >allPosts</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter"> </span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// omitted - no work to be done for this
                                    example</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    postsReducer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >combineReducers</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> byId</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> postsById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> allIds</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> allPosts</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// reducers/comments.js</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addCommentEntry</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> payload </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> action</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> commentText </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> payload</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Create our new Comment object</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> comment </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> id</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> text</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> commentText </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Insert the new Comment object into the
                                    updated lookup table</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token spread operator"
                                    style="color: #f8f8f2"
                                    >...</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span class="token plain">commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> comment</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >commentsById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter"> </span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addCommentEntry</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addCommentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> payload </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> action</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> commentId </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> payload</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Just append the new Comment&#x27;s ID to
                                    the list of all IDs</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >concat</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >allComments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter"> </span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addCommentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    commentsReducer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >combineReducers</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> byId</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> commentsById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> allIds</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> allComments</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          The example is a bit long, because it&#x27;s showing
                          how all the different slice reducers and case reducers
                          fit together. Note the delegation involved here. The
                          <code>postsById</code> slice reducer delegates the
                          work for this case to <code>addComment</code>, which
                          inserts the new Comment&#x27;s ID into the correct
                          Post item. Meanwhile, both the
                          <code>commentsById</code> and
                          <code>allComments</code> slice reducers have their own
                          case reducers, which update the Comments lookup table
                          and list of all Comment IDs appropriately.
                        </p>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="other-approaches"
                          ></a
                          >Other Approaches<a
                            class="hash-link"
                            href="#other-approaches"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="task-based-updates"
                          ></a
                          >Task-Based Updates<a
                            class="hash-link"
                            href="#task-based-updates"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          Since reducers are just functions, there&#x27;s an
                          infinite number of ways to split up this logic. While
                          using slice reducers is the most common, it&#x27;s
                          also possible to organize behavior in a more
                          task-oriented structure. Because this will often
                          involve more nested updates, you may want to use an
                          immutable update utility library like
                          <a
                            href="../../../github.com/debitoor/dot-prop-immutable.html"
                            target="_blank"
                            rel="noopener noreferrer"
                            >dot-prop-immutable</a
                          >
                          or
                          <a
                            href="../../../github.com/mariocasciaro/object-path-immutable.html"
                            target="_blank"
                            rel="noopener noreferrer"
                            >object-path-immutable</a
                          >
                          to simplify the update statements. Here&#x27;s an
                          example of what that might look like:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">posts</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&quot;./postsReducer&quot;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">comments</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&quot;./commentsReducer&quot;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">dotProp</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&quot;dot-prop-immutable&quot;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"
                                    >combineReducers</span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&quot;redux&quot;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports"
                                    >reduceReducers</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&quot;reduce-reducers&quot;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    combinedReducer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >combineReducers</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> posts</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> comments</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain">payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain">postId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> commentText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// State here is the entire combined
                                    state</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    updatedWithPostState </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> dotProp</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >set</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token template-string string"
                                    style="color: #a6e22e"
                                    >posts.byId.</span
                                  ><span
                                    class="
                                      token
                                      template-string
                                      interpolation interpolation-punctuation
                                      punctuation
                                    "
                                    style="color: #f8f8f2"
                                    >${</span
                                  ><span
                                    class="token template-string interpolation"
                                    >postId</span
                                  ><span
                                    class="
                                      token
                                      template-string
                                      interpolation interpolation-punctuation
                                      punctuation
                                    "
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token template-string string"
                                    style="color: #a6e22e"
                                    >.comments</span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token parameter">comments</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> comments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >concat</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    updatedWithCommentsTable </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> dotProp</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >set</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">
                                    updatedWithPostState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token template-string string"
                                    style="color: #a6e22e"
                                    >comments.byId.</span
                                  ><span
                                    class="
                                      token
                                      template-string
                                      interpolation interpolation-punctuation
                                      punctuation
                                    "
                                    style="color: #f8f8f2"
                                    >${</span
                                  ><span
                                    class="token template-string interpolation"
                                    >commentId</span
                                  ><span
                                    class="
                                      token
                                      template-string
                                      interpolation interpolation-punctuation
                                      punctuation
                                    "
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain">id </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> text </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> commentText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    updatedWithCommentsList </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> dotProp</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >set</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">
                                    updatedWithCommentsTable</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token template-string string"
                                    style="color: #a6e22e"
                                    >comments.allIds</span
                                  ><span
                                    class="
                                      token
                                      template-string template-punctuation
                                      string
                                    "
                                    style="color: #a6e22e"
                                    >`</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token parameter">allIds</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> allIds</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >concat</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">commentId</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain">
                                    updatedWithCommentsList</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    featureReducers </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >createReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token constant"
                                    style="color: #f92672"
                                    >ADD_COMMENT</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> rootReducer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >reduceReducers</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">
                                    combinedReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">
                                    featureReducers</span
                                  >
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >;</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          This approach makes it very clear what&#x27;s
                          happening for the
                          <code>&quot;ADD_COMMENTS&quot;</code> case, but it
                          does require nested updating logic, and some specific
                          knowledge of the state tree shape. Depending on how
                          you want to compose your reducer logic, this may or
                          may not be desired.
                        </p>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="redux-orm"
                          ></a
                          >Redux-ORM<a
                            class="hash-link"
                            href="#redux-orm"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          The
                          <a
                            href="../../../github.com/redux-orm/redux-orm.html"
                            target="_blank"
                            rel="noopener noreferrer"
                            >Redux-ORM</a
                          >
                          library provides a very useful abstraction layer for
                          managing normalized data in a Redux store. It allows
                          you to declare Model classes and define relations
                          between them. It can then generate the empty
                          &quot;tables&quot; for your data types, act as a
                          specialized selector tool for looking up the data, and
                          perform immutable updates on that data.
                        </p>
                        <p>
                          There&#x27;s a couple ways Redux-ORM can be used to
                          perform updates. First, the Redux-ORM docs suggest
                          defining reducer functions on each Model subclass,
                          then including the auto-generated combined reducer
                          function into your store:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// models.js</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> </span
                                  ><span class="token maybe-class-name"
                                    >Model</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> fk</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> attr</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token constant"
                                    style="color: #f92672"
                                    >ORM</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux-orm&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >class</span
                                  ><span class="token plain"> </span
                                  ><span class="token class-name">Post</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >extends</span
                                  ><span class="token plain"> </span
                                  ><span class="token class-name">Model</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >static</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >get</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fields</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> id</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >attr</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> name</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >attr</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >static</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >reducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">action</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> Post</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;CREATE_POST&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token maybe-class-name"
                                    >Post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >create</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >break</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span class="token maybe-class-name"
                                    >Post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >modelName</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Post&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >class</span
                                  ><span class="token plain"> </span
                                  ><span class="token class-name">Comment</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >extends</span
                                  ><span class="token plain"> </span
                                  ><span class="token class-name">Model</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >static</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >get</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fields</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> id</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >attr</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> text</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >attr</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Define a foreign key relation - one Post
                                    can have many Comments</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> postId</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fk</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> to</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Post&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// must be the same as Post.modelName</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >as</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;post&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// name for accessor (comment.post)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> relatedName</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;comments&#x27;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// name for backward accessor
                                    (post.comments)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >static</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >reducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">action</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> Comment</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token maybe-class-name"
                                    >Comment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >create</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >break</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span class="token maybe-class-name"
                                    >Comment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >modelName</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Comment&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Create an ORM instance and hook up the
                                    Post and Comment models</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> orm </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >new</span
                                  ><span class="token plain"> </span
                                  ><span class="token class-name">ORM</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">orm</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >register</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token maybe-class-name"
                                    >Post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span class="token maybe-class-name"
                                    >Comment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// main.js</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    createStore</span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token imports">
                                    combineReducers </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    createReducer </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux-orm&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> orm </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./models&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> rootReducer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >combineReducers</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Insert the auto-generated Redux-ORM
                                    reducer. This will</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// initialize our model &quot;tables&quot;,
                                    and hook up the reducer</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// logic we defined on each Model
                                    subclass</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> entities</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >createReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">orm</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Dispatch an action to create a Post
                                    instance</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;CREATE_POST&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> id</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >1</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> name</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Test Post Please Ignore&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Dispatch an action to create a Comment
                                    instance as a child of that Post</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;ADD_COMMENT&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> id</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >123</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> text</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;This is a comment&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> postId</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >1</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          The Redux-ORM library maintains relationships between
                          models for you. Updates are by default applied
                          immutably, simplifying the update process.
                        </p>
                        <p>
                          Another variation on this is to use Redux-ORM as an
                          abstraction layer within a single case reducer:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> orm </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./models&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Assume this case reducer is being used
                                    in our &quot;entities&quot; slice
                                    reducer,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// and we do not have reducers defined on
                                    our Redux-ORM Model subclasses</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >addComment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter"
                                    >entitiesState</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Start an immutable session</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> session </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> orm</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">entitiesState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      property-access
                                      maybe-class-name
                                    "
                                    >Comment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >create</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// The internal state reference has now
                                    changed</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >state</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          By using the session interface you can now use
                          relationship accessors to directly access referenced
                          models:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> session </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> orm</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >entities</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> comment </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> session</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      property-access
                                      maybe-class-name
                                    "
                                    >Comment</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >first</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Comment instance</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> post </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> comment </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Post instance</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >comments</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >filter</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">c</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> c</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >text</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;This is a comment&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >count</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// 1</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Overall, Redux-ORM provides a very useful set of
                          abstractions for defining relations between data
                          types, creating the &quot;tables&quot; in our state,
                          retrieving and denormalizing relational data, and
                          applying immutable updates to relational data.
                        </p>
                      </div>
                    </article>
                    <div class="margin-vert--lg">
                      <nav
                        class="pagination-nav"
                        aria-label="Docs pages navigation"
                      >
                        <div class="pagination-nav__item">
                          <a
                            class="pagination-nav__link"
                            href="normalizing-state-shape.html"
                            ><div class="pagination-nav__sublabel">
                              Previous
                            </div>
                            <div class="pagination-nav__label">
                              Â« Normalizing State Shape
                            </div></a
                          >
                        </div>
                        <div
                          class="
                            pagination-nav__item pagination-nav__item--next
                          "
                        >
                          <a
                            class="pagination-nav__link"
                            href="reusing-reducer-logic.html"
                            ><div class="pagination-nav__sublabel">Next</div>
                            <div class="pagination-nav__label">
                              Reusing Reducer Logic Â»
                            </div></a
                          >
                        </div>
                      </nav>
                    </div>
                  </div>
                </div>
                <div class="col col--3">
                  <div class="tableOfContents_35-E thin-scrollbar">
                    <ul
                      class="table-of-contents table-of-contents__left-border"
                    >
                      <li>
                        <a
                          href="#standard-approaches"
                          class="table-of-contents__link"
                          >Standard Approaches</a
                        >
                        <ul>
                          <li>
                            <a
                              href="#simple-merging"
                              class="table-of-contents__link"
                              >Simple Merging</a
                            >
                          </li>
                          <li>
                            <a
                              href="#slice-reducer-composition"
                              class="table-of-contents__link"
                              >Slice Reducer Composition</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li>
                        <a
                          href="#other-approaches"
                          class="table-of-contents__link"
                          >Other Approaches</a
                        >
                        <ul>
                          <li>
                            <a
                              href="#task-based-updates"
                              class="table-of-contents__link"
                              >Task-Based Updates</a
                            >
                          </li>
                          <li>
                            <a href="#redux-orm" class="table-of-contents__link"
                              >Redux-ORM</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </main>
        </div>
      </div>
      <footer class="footer">
        <div class="container">
          <div class="row footer__links">
            <div class="col footer__col">
              <h4 class="footer__title">Docs</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../introduction/getting-started.html"
                    >Getting Started</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../tutorials/essentials/part-1-overview-concepts.html"
                    >Tutorial</a
                  >
                </li>
                <li class="footer__item">
                  <a class="footer__link-item" href="../../faq.html">FAQ</a>
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../api/api-reference.html"
                    >API Reference</a
                  >
                </li>
              </ul>
            </div>
            <div class="col footer__col">
              <h4 class="footer__title">Community</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    href="../../../discord.com/invite/0ZcbPKXt5bZ6au5t.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >Reactiflux Discord</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    href="../../../stackoverflow.com/questions/tagged/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >Stack Overflow</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../introduction/getting-started.html#help-and-discussion"
                    >Feedback</a
                  >
                </li>
              </ul>
            </div>
            <div class="col footer__col">
              <h4 class="footer__title">More</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    href="../../../github.com/reduxjs/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >GitHub</a
                  >
                </li>
                <li class="footer__item">
                  <a href="../../../www.netlify.com/index.html">
                    <img
                      src="../../../www.netlify.com/img/global/badges/netlify-color-accent.svg"
                      alt="Deploys by Netlify"
                    />
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="footer__bottom text--center">
            <div class="margin-bottom--sm">
              <a
                href="../../index.html"
                target="_blank"
                rel="noopener noreferrer"
                class="footerLogoLink_MyFc"
                ><img
                  src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                  alt="Redux Logo"
                  class="
                    themedImage_1VuW themedImage--light_3UqQ
                    footer__logo
                  " /><img
                  src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                  alt="Redux Logo"
                  class="themedImage_1VuW themedImage--dark_hz6m footer__logo"
              /></a>
            </div>
            <div class="footer__copyright">
              Copyright Â© 2015â€“2021 Dan Abramov and the Redux documentation
              authors.
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="../../assets/js/runtime_main.443914bd.js"></script>
    <script src="../../assets/js/main.8520a084.js"></script>
  </body>
</html>
