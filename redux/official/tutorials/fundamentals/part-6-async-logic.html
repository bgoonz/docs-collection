<!DOCTYPE html>
<html lang="en" dir="ltr">
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=UTF-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="Docusaurus v2.0.0-beta.0" />
    <link
      rel="alternate"
      type="application/rss+xml"
      href="../../blog/rss.xml"
      title="Redux Blog RSS Feed"
    />
    <link
      rel="alternate"
      type="application/atom+xml"
      href="../../blog/atom.xml"
      title="Redux Blog Atom Feed"
    />

    <link
      rel="search"
      type="application/opensearchdescription+xml"
      title="Redux"
      href="../../opensearch.xml"
    />
    <title data-react-helmet="true">
      Redux Fundamentals, Part 6: Async Logic and Data Fetching | Redux
    </title>
    <meta
      data-react-helmet="true"
      property="og:url"
      content="https://redux.js.org/tutorials/fundamentals/part-6-async-logic"
    />
    <meta data-react-helmet="true" name="docsearch:language" content="en" />
    <meta data-react-helmet="true" name="docsearch:version" content="current" />
    <meta
      data-react-helmet="true"
      name="docsearch:docusaurus_tag"
      content="docs-default-current"
    />
    <meta
      data-react-helmet="true"
      property="og:title"
      content="Redux Fundamentals, Part 6: Async Logic and Data Fetching | Redux"
    />
    <meta
      data-react-helmet="true"
      name="description"
      content="The official Redux Fundamentals tutorial: learn how to use async logic with Redux"
    />
    <meta
      data-react-helmet="true"
      property="og:description"
      content="The official Redux Fundamentals tutorial: learn how to use async logic with Redux"
    />
    <meta
      data-react-helmet="true"
      property="og:image"
      content="https://redux.js.org/img/redux-logo-landscape.png"
    />
    <meta
      data-react-helmet="true"
      name="twitter:image"
      content="https://redux.js.org/img/redux-logo-landscape.png"
    />
    <meta
      data-react-helmet="true"
      name="twitter:card"
      content="summary_large_image"
    />
    <link
      data-react-helmet="true"
      rel="shortcut icon"
      href="../../img/favicon/favicon.ico"
    />
    <link
      data-react-helmet="true"
      rel="canonical"
      href="part-6-async-logic.html"
    />
    <link
      data-react-helmet="true"
      rel="alternate"
      href="part-6-async-logic.html"
      hreflang="en"
    />
    <link
      data-react-helmet="true"
      rel="alternate"
      href="part-6-async-logic.html"
      hreflang="x-default"
    />
    <link
      data-react-helmet="true"
      rel="preconnect"
      href="../../../bh4d9od16a-dsn.algolia.net/index.html"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../assets/css/styles.c1a1aae0.css" />
    <link
      rel="preload"
      href="../../assets/js/runtime_main.443914bd.js"
      as="script"
    />
    <link rel="preload" href="../../assets/js/main.8520a084.js" as="script" />
  </head>
  <body>
    <script>
      !(function () {
        function t(t) {
          document.documentElement.setAttribute("data-theme", t);
        }
        var e = (function () {
          var t = null;
          try {
            t = localStorage.getItem("theme");
          } catch (t) {}
          return t;
        })();
        t(null !== e ? e : "light");
      })();
    </script>
    <div id="__docusaurus">
      <div>
        <a href="#main" class="skipToContent_1oUP">Skip to main content</a>
      </div>
      <nav class="navbar navbar--fixed-top">
        <div class="navbar__inner">
          <div class="navbar__items">
            <button
              aria-label="Navigation bar toggle"
              class="navbar__toggle"
              type="button"
              tabindex="0"
            >
              <svg
                aria-label="Menu"
                width="30"
                height="30"
                viewBox="0 0 30 30"
                role="img"
                focusable="false"
              >
                <title>Menu</title>
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-miterlimit="10"
                  stroke-width="2"
                  d="M4 7h22M4 15h22M4 23h22"
                ></path>
              </svg></button
            ><a class="navbar__brand" href="../../index.html"
              ><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
              /><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"
              /><strong class="navbar__title">Redux</strong></a
            >
          </div>
          <div class="navbar__items navbar__items--right">
            <a
              class="navbar__item navbar__link"
              href="../../introduction/getting-started.html"
              >Getting Started</a
            ><a
              class="navbar__item navbar__link"
              href="../essentials/part-1-overview-concepts.html"
              >Tutorial</a
            ><a
              class="navbar__item navbar__link"
              href="../../api/api-reference.html"
              >API</a
            ><a class="navbar__item navbar__link" href="../../faq.html">FAQ</a
            ><a
              class="navbar__item navbar__link"
              href="../../style-guide/style-guide.html"
              >Best Practices</a
            ><a
              href="../../../github.com/reduxjs/redux.html"
              target="_blank"
              rel="noopener noreferrer"
              class="navbar__item navbar__link"
              >GitHub</a
            ><a
              class="navbar__item navbar__link"
              href="../../introduction/getting-started.html#help-and-discussion"
              >Need help?</a
            >
            <div
              class="
                react-toggle
                displayOnlyInLargeViewport_GrZ2
                react-toggle--disabled
              "
              role="button"
              tabindex="-1"
            >
              <div class="react-toggle-track">
                <div class="react-toggle-track-check">
                  <span class="toggle_71bT">🌜</span>
                </div>
                <div class="react-toggle-track-x">
                  <span class="toggle_71bT">🌞</span>
                </div>
              </div>
              <div class="react-toggle-thumb"></div>
              <input
                type="checkbox"
                class="react-toggle-screenreader-only"
                aria-label="Switch between dark and light mode"
              />
            </div>
            <button
              type="button"
              class="DocSearch DocSearch-Button"
              aria-label="Search"
            >
              <span class="DocSearch-Button-Container"
                ><svg
                  width="20"
                  height="20"
                  class="DocSearch-Search-Icon"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z"
                    stroke="currentColor"
                    fill="none"
                    fill-rule="evenodd"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></path></svg
                ><span class="DocSearch-Button-Placeholder">Search</span></span
              >
            </button>
          </div>
        </div>
        <div role="presentation" class="navbar-sidebar__backdrop"></div>
        <div class="navbar-sidebar">
          <div class="navbar-sidebar__brand">
            <a class="navbar__brand" href="../../index.html"
              ><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
              /><img
                src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                alt="Redux Logo"
                class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"
              /><strong class="navbar__title">Redux</strong></a
            >
          </div>
          <div class="navbar-sidebar__items">
            <div class="menu">
              <ul class="menu__list">
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../introduction/getting-started.html"
                    >Getting Started</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../essentials/part-1-overview-concepts.html"
                    >Tutorial</a
                  >
                </li>
                <li class="menu__list-item">
                  <a class="menu__link" href="../../api/api-reference.html"
                    >API</a
                  >
                </li>
                <li class="menu__list-item">
                  <a class="menu__link" href="../../faq.html">FAQ</a>
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../style-guide/style-guide.html"
                    >Best Practices</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    href="../../../github.com/reduxjs/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="menu__link"
                    >GitHub</a
                  >
                </li>
                <li class="menu__list-item">
                  <a
                    class="menu__link"
                    href="../../introduction/getting-started.html#help-and-discussion"
                    >Need help?</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
      <div class="main-wrapper docs-wrapper doc-page">
        <div class="docPage_31aa">
          <div class="docSidebarContainer_3Kbt" role="complementary">
            <div class="sidebar_15mo">
              <div class="menu menu--responsive thin-scrollbar menu_Bmed">
                <button
                  aria-label="Open menu"
                  aria-haspopup="true"
                  class="button button--secondary button--sm menu__button"
                  type="button"
                >
                  <svg
                    aria-label="Menu"
                    class="sidebarMenuIcon_fgN0"
                    width="24"
                    height="24"
                    viewBox="0 0 30 30"
                    role="img"
                    focusable="false"
                  >
                    <title>Menu</title>
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-miterlimit="10"
                      stroke-width="2"
                      d="M4 7h22M4 15h22M4 23h22"
                    ></path>
                  </svg>
                </button>
                <ul class="menu__list">
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Introduction</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/getting-started.html"
                          >Getting Started with Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/installation.html"
                          >Installation</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/core-concepts.html"
                          >Core Concepts</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/learning-resources.html"
                          >Learning Resources</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/ecosystem.html"
                          >Ecosystem</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../introduction/examples.html"
                          >Examples</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item">
                    <a
                      class="menu__link menu__link--sublist menu__link--active"
                      href="#!"
                      >Tutorials</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a class="menu__link" tabindex="0" href="../index.html"
                          >Tutorials Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../quick-start.html"
                          >Quick Start</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="0"
                          href="../typescript-quick-start.html"
                          >TypeScript Quick Start</a
                        >
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="0"
                          >Redux Essentials</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-1-overview-concepts.html"
                              >Redux Overview and Concepts</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-2-app-structure.html"
                              >Redux App Structure</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-3-data-flow.html"
                              >Basic Redux Data Flow</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-4-using-data.html"
                              >Using Redux Data</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-5-async-logic.html"
                              >Async Logic and Data Fetching</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../essentials/part-6-performance-normalization.html"
                              >Performance and Normalizing Data</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="
                            menu__link menu__link--sublist menu__link--active
                          "
                          href="#!"
                          tabindex="0"
                          >Redux Fundamentals</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-1-overview.html"
                              >Redux Overview</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-2-concepts-data-flow.html"
                              >Redux Concepts and Data Flow</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-3-state-actions-reducers.html"
                              >State, Actions, and Reducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-4-store.html"
                              >Store</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-5-ui-react.html"
                              >UI and React</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              aria-current="page"
                              class="menu__link menu__link--active active"
                              tabindex="0"
                              href="part-6-async-logic.html"
                              >Async Logic and Data Fetching</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-7-standard-patterns.html"
                              >Standard Redux Patterns</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="0"
                              href="part-8-modern-redux.html"
                              >Modern Redux with Redux Toolkit</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Recipes</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/recipe-index.html"
                          >Recipes: Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/configuring-your-store.html"
                          >Configuring Your Store</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/usage-with-typescript.html"
                          >Usage With TypeScript</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/migrating-to-redux.html"
                          >Migrating to Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/using-object-spread-operator.html"
                          >Using Object Spread Operator</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/reducing-boilerplate.html"
                          >Reducing Boilerplate</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/server-rendering.html"
                          >Server Rendering</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/writing-tests.html"
                          >Writing Tests</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/computing-derived-data.html"
                          >Computing Derived Data</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/implementing-undo-history.html"
                          >Implementing Undo History</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/isolating-redux-sub-apps.html"
                          >Isolating Redux Sub-Apps</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/code-splitting.html"
                          >Code Splitting</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../recipes/troubleshooting.html"
                          >Troubleshooting</a
                        >
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >Structuring Reducers</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/structuring-reducers.html"
                              >Structuring Reducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/prerequisite-concepts.html"
                              >Prerequisite Concepts</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/basic-reducer-structure.html"
                              >Basic Reducer Structure</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/splitting-reducer-logic.html"
                              >Splitting Reducer Logic</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/refactoring-reducer-example.html"
                              >Refactoring Reducers Example</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/using-combinereducers.html"
                              >Using combineReducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/beyond-combinereducers.html"
                              >Beyond combineReducers</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/normalizing-state-shape.html"
                              >Normalizing State Shape</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/updating-normalized-data.html"
                              >Updating Normalized Data</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/reusing-reducer-logic.html"
                              >Reusing Reducer Logic</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/immutable-update-patterns.html"
                              >Immutable Update Patterns</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../recipes/structuring-reducers/initializing-state.html"
                              >Initializing State</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Understanding Redux</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >Thinking in Redux</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/motivation.html"
                              >Motivation</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/three-principles.html"
                              >Three Principles</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/thinking-in-redux/glossary.html"
                              >Glossary</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li class="menu__list-item menu__list-item--collapsed">
                        <a
                          class="menu__link menu__link--sublist"
                          href="#!"
                          tabindex="-1"
                          >History and Design</a
                        >
                        <ul class="menu__list">
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/history-and-design/prior-art.html"
                              >Prior Art</a
                            >
                          </li>
                          <li class="menu__list-item">
                            <a
                              class="menu__link"
                              tabindex="-1"
                              href="../../understanding/history-and-design/middleware.html"
                              >Middleware</a
                            >
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!">FAQ</a>
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq.html"
                          >FAQ Index</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/general.html"
                          >General</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/reducers.html"
                          >Reducers</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/organizing-state.html"
                          >Organizing State</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/store-setup.html"
                          >Store Setup</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/actions.html"
                          >Actions</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/immutable-data.html"
                          >Immutable Data</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/code-structure.html"
                          >Code Structure</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/performance.html"
                          >Performance</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/design-decisions.html"
                          >Design Decisions</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/react-redux.html"
                          >React Redux</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../faq/miscellaneous.html"
                          >Miscellaneous</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Style Guide</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../style-guide/style-guide.html"
                          >Style Guide: Best Practices</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >API Reference</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/api-reference.html"
                          >API Reference</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/createstore.html"
                          >createStore</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/store.html"
                          >Store</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/combinereducers.html"
                          >combineReducers</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/applymiddleware.html"
                          >applyMiddleware</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/bindactioncreators.html"
                          >bindActionCreators</a
                        >
                      </li>
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../api/compose.html"
                          >compose</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="menu__list-item menu__list-item--collapsed">
                    <a class="menu__link menu__link--sublist" href="#!"
                      >Redux Toolkit</a
                    >
                    <ul class="menu__list">
                      <li class="menu__list-item">
                        <a
                          class="menu__link"
                          tabindex="-1"
                          href="../../redux-toolkit/overview.html"
                          >Redux Toolkit: Overview</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <main class="docMainContainer_3ufF">
            <div class="container padding-vert--lg docItemWrapper_3FMP">
              <div class="row">
                <div class="col docItemCol_3FnS">
                  <div class="docItemContainer_33ec">
                    <article>
                      <div class="markdown">
                        <h1>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="redux-fundamentals-part-6-async-logic-and-data-fetching"
                          ></a
                          >Redux Fundamentals, Part 6: Async Logic and Data
                          Fetching<a
                            class="hash-link"
                            href="#redux-fundamentals-part-6-async-logic-and-data-fetching"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h1>
                        <div
                          class="admonition admonition-tip alert alert--success"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="12"
                                  height="16"
                                  viewBox="0 0 12 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"
                                  ></path></svg></span
                              >What You&#x27;ll Learn
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <ul>
                              <li>
                                How the Redux data flow works with async data
                              </li>
                              <li>
                                How to use Redux middleware for async logic
                              </li>
                              <li>Patterns for handling async request state</li>
                            </ul>
                          </div>
                        </div>
                        <div
                          class="admonition admonition-info alert alert--info"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="14"
                                  height="16"
                                  viewBox="0 0 14 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"
                                  ></path></svg></span
                              >Prerequisites
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <ul>
                              <li>
                                Familiarity with using AJAX requests to fetch
                                and update data from a server
                              </li>
                              <li>
                                Understanding asynchronous logic in JS,
                                including Promises
                              </li>
                            </ul>
                          </div>
                        </div>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="introduction"
                          ></a
                          >Introduction<a
                            class="hash-link"
                            href="#introduction"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          In
                          <a href="part-5-ui-react.html">Part 5: UI and React</a
                          >, we saw how to use the React-Redux library to let
                          our React components interact with a Redux store,
                          including calling <code>useSelector</code> to read
                          Redux state, calling <code>useDispatch</code> to give
                          us access to the <code>dispatch</code> function, and
                          wrapping our app in a
                          <code>&lt;Provider&gt;</code> component to give those
                          hooks access to the store.
                        </p>
                        <p>
                          So far, all the data we&#x27;ve worked with has been
                          directly inside of our React+Redux client application.
                          However, most real applications need to work with data
                          from a server, by making HTTP API calls to fetch and
                          save items.
                        </p>
                        <p>
                          In this section, we&#x27;ll update our todo app to
                          fetch the todos from an API, and add new todos by
                          saving them to the API.
                        </p>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="example-rest-api-and-client"
                          ></a
                          >Example REST API and Client<a
                            class="hash-link"
                            href="#example-rest-api-and-client"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          To keep the example project isolated but realistic,
                          the initial project setup already included a fake
                          in-memory REST API for our data (configured using
                          <a
                            href="../../../miragejs.com/index.html"
                            target="_blank"
                            rel="noopener noreferrer"
                            >the Mirage.js mock API tool</a
                          >). The API uses <code>/fakeApi</code> as the base URL
                          for the endpoints, and supports the typical
                          <code>GET/POST/PUT/DELETE</code> HTTP methods for
                          <code>/fakeApi/todos</code>. It&#x27;s defined in
                          <code>src/api/server.js</code>.
                        </p>
                        <p>
                          The project also includes a small HTTP API client
                          object that exposes <code>client.get()</code> and
                          <code>client.post()</code> methods, similar to popular
                          HTTP libraries like <code>axios</code>. It&#x27;s
                          defined in <code>src/api/client.js</code>.
                        </p>
                        <p>
                          We&#x27;ll use the <code>client</code> object to make
                          HTTP calls to our in-memory fake REST API for this
                          section.
                        </p>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="redux-middleware-and-side-effects"
                          ></a
                          >Redux Middleware and Side Effects<a
                            class="hash-link"
                            href="#redux-middleware-and-side-effects"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          By itself, a Redux store doesn&#x27;t know anything
                          about async logic. It only knows how to synchronously
                          dispatch actions, update the state by calling the root
                          reducer function, and notify the UI that something has
                          changed. Any asynchronicity has to happen outside the
                          store.
                        </p>
                        <p>
                          Earlier, we said that Redux reducers must never
                          contain &quot;side effects&quot;.
                          <strong
                            >A &quot;side effect&quot; is any change to state or
                            behavior that can be seen outside of returning a
                            value from a function</strong
                          >. Some common kinds of side effects are things like:
                        </p>
                        <ul>
                          <li>Logging a value to the console</li>
                          <li>Saving a file</li>
                          <li>Setting an async timer</li>
                          <li>Making an AJAX HTTP request</li>
                          <li>
                            Modifying some state that exists outside of a
                            function, or mutating arguments to a function
                          </li>
                          <li>
                            Generating random numbers or unique random IDs (such
                            as <code>Math.random()</code> or
                            <code>Date.now()</code>)
                          </li>
                        </ul>
                        <p>
                          However, any real app will need to do these kinds of
                          things <em>somewhere</em>. So, if we can&#x27;t put
                          side effects in reducers, where <em>can</em> we put
                          them?
                        </p>
                        <p>
                          <strong
                            >Redux middleware were designed to enable writing
                            logic that has side effects</strong
                          >.
                        </p>
                        <p>
                          As we said
                          <a href="part-4-store.html#middleware-use-cases"
                            >in Part 4</a
                          >, a Redux middleware can do <em>anything</em> when it
                          sees a dispatched action: log something, modify the
                          action, delay the action, make an async call, and
                          more. Also, since middleware form a pipeline around
                          the real <code>store.dispatch</code> function, this
                          also means that we could actually pass something that
                          <em>isn&#x27;t</em> a plain action object to
                          <code>dispatch</code>, as long as a middleware
                          intercepts that value and doesn&#x27;t let it reach
                          the reducers.
                        </p>
                        <p>
                          Middleware also have access to
                          <code>dispatch</code> and <code>getState</code>. That
                          means you could write some async logic in a
                          middleware, and still have the ability to interact
                          with the Redux store by dispatching actions.
                        </p>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="using-middleware-to-enable-async-logic"
                          ></a
                          >Using Middleware to Enable Async Logic<a
                            class="hash-link"
                            href="#using-middleware-to-enable-async-logic"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          Let&#x27;s look at a couple examples of how middleware
                          can enable us to write some kind of async logic that
                          interacts with the Redux store.
                        </p>
                        <p>
                          One possibility is writing a middleware that looks for
                          specific action types, and runs async logic when it
                          sees those actions, like these examples:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> client </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;../api/client&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >delayedActionMiddleware</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">storeAPI</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">next</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">action</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todoAdded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >setTimeout</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Delay this action by one second</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >next</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >1000</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >next</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >fetchTodosMiddleware</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">storeAPI</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">next</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">action</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/fetchTodos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Make an API call to fetch todos from the
                                    server</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >get</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >then</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">todos</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Dispatch an action with the todos we
                                    received</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> storeAPI</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> todos </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >next</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <div
                          class="admonition admonition-info alert alert--info"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="14"
                                  height="16"
                                  viewBox="0 0 14 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"
                                  ></path></svg></span
                              >info
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <p>
                              For more details on why and how Redux uses
                              middleware for async logic, see these
                              StackOverflow answers by Redux creator Dan
                              Abramov:
                            </p>
                            <ul>
                              <li>
                                <a
                                  href="../../../stackoverflow.com/questions/35411423/how-to-dispatch-a-redux-action-with-a-timeout/35415559.html#35415559"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >&quot;How to dispatch a Redux action with a
                                  timeout?&quot;</a
                                >
                              </li>
                              <li>
                                <a
                                  href="../../../stackoverflow.com/questions/34570758/why-do-we-need-middleware-for-async-flow-in-redux/34599594.html#34599594"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >&quot;Why do we need middleware for async
                                  flow?&quot;</a
                                >
                              </li>
                            </ul>
                          </div>
                        </div>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="writing-an-async-function-middleware"
                          ></a
                          >Writing an Async Function Middleware<a
                            class="hash-link"
                            href="#writing-an-async-function-middleware"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          Both of the middleware in that last section were very
                          specific and only do one thing. It would be nice if we
                          had a way to write <em>any</em> async logic ahead of
                          time, separate from the middleware itself, and still
                          have access to <code>dispatch</code> and
                          <code>getState</code> so that we can interact with the
                          store.
                        </p>
                        <p>
                          <strong
                            >What if we wrote a middleware that let us pass a
                            <em>function</em> to <code>dispatch</code>, instead
                            of an action object</strong
                          >? We could have our middleware check to see if the
                          &quot;action&quot; is actually a function instead, and
                          if it&#x27;s a function, call the function right away.
                          That would let us write async logic in separate
                          functions, outside of the middleware definition.
                        </p>
                        <p>Here&#x27;s what that middleware might look like:</p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            Example async function middleware
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >asyncFunctionMiddleware</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">storeAPI</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">next</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">action</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// If the &quot;action&quot; is actually a
                                    function instead...</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >typeof</span
                                  ><span class="token plain"> action </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;function&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// then call the function and pass
                                    `dispatch` and `getState` as arguments</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">storeAPI</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> storeAPI</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Otherwise, it&#x27;s a normal action -
                                    send it onwards</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >next</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>And then we could use that middleware like this:</p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    middlewareEnhancer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >applyMiddleware</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"
                                    >asyncFunctionMiddleware</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> store </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >createStore</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">rootReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain">
                                    middlewareEnhancer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Write a function that has `dispatch` and
                                    `getState` as arguments</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >fetchSomeData</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Make an async HTTP request</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >get</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >then</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">todos</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Dispatch an action with the todos we
                                    received</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> todos </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Check the updated store state after
                                    dispatching</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> allTodos </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token console class-name"
                                    >console</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >log</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Number of todos after loading:
                                    &#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> allTodos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >length</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Pass the _function_ we wrote to
                                    `dispatch`</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">fetchSomeData</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// logs: &#x27;Number of todos after
                                    loading: ###&#x27;</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Again, notice that
                          <strong
                            >this &quot;async function middleware&quot; let us
                            pass a <em>function</em> to
                            <code>dispatch</code>!</strong
                          >
                          Inside that function, we were able to write some async
                          logic (an HTTP request), then dispatch a normal action
                          object when the request completed.
                        </p>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="redux-async-data-flow"
                          ></a
                          >Redux Async Data Flow<a
                            class="hash-link"
                            href="#redux-async-data-flow"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          So how do middleware and async logic affect the
                          overall data flow of a Redux app?
                        </p>
                        <p>
                          Just like with a normal action, we first need to
                          handle a user event in the application, such as a
                          click on a button. Then, we call
                          <code>dispatch()</code>, and pass in
                          <em>something</em>, whether it be a plain action
                          object, a function, or some other value that a
                          middleware can look for.
                        </p>
                        <p>
                          Once that dispatched value reaches a middleware, it
                          can make an async call, and then dispatch a real
                          action object when the async call completes.
                        </p>
                        <p>
                          Earlier, we saw
                          <a
                            href="part-2-concepts-data-flow.html#redux-application-data-flow"
                            >a diagram that represents the normal synchronous
                            Redux data flow</a
                          >. When we add async logic to a Redux app, we add an
                          extra step where middleware can run logic like AJAX
                          requests, then dispatch actions. That makes the async
                          data flow look like this:
                        </p>
                        <p>
                          <img
                            alt="Redux async data flow diagram"
                            src="../../../d33wubrfki0l68.cloudfront.net/08d01ed85246d3ece01963408572f3f6dfb49d41/4bc12/assets/images/reduxasyncdataflowdiagram-d97ff38a0f4da0f327163170ccc"
                          />
                        </p>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="using-the-redux-thunk-middleware"
                          ></a
                          >Using the Redux Thunk Middleware<a
                            class="hash-link"
                            href="#using-the-redux-thunk-middleware"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          As it turns out, Redux already has an official version
                          of that &quot;async function middleware&quot;, called
                          the
                          <a
                            href="../../../github.com/reduxjs/redux-thunk.html"
                            target="_blank"
                            rel="noopener noreferrer"
                            ><strong
                              >Redux &quot;Thunk&quot; middleware</strong
                            ></a
                          >. The thunk middleware allows us to write functions
                          that get <code>dispatch</code> and
                          <code>getState</code> as arguments. The thunk
                          functions can have any async logic we want inside, and
                          that logic can dispatch actions and read the store
                          state as needed.
                        </p>
                        <p>
                          <strong
                            >Writing async logic as thunk functions allows us to
                            reuse that logic without knowing what Redux store
                            we&#x27;re using ahead of time</strong
                          >.
                        </p>
                        <div
                          class="admonition admonition-info alert alert--info"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="14"
                                  height="16"
                                  viewBox="0 0 14 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"
                                  ></path></svg></span
                              >info
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <p>
                              The word &quot;thunk&quot; is a programming term
                              that means
                              <a
                                href="../../../en.wikipedia.org/wiki/Thunk.html"
                                target="_blank"
                                rel="noopener noreferrer"
                                >&quot;a piece of code that does some delayed
                                work&quot;</a
                              >. For more details, see these posts:
                            </p>
                            <ul>
                              <li>
                                <a
                                  href="../../../daveceddia.com/what-is-a-thunk/index.html"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >What the heck is a thunk?</a
                                >
                              </li>
                              <li>
                                <a
                                  href="../../../medium.com/fullstack-academy/thunks-in-redux-the-basics-85e538a3fe60.html"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >Thunks in Redux: the basics</a
                                >
                              </li>
                            </ul>
                          </div>
                        </div>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="configuring-the-store"
                          ></a
                          >Configuring the Store<a
                            class="hash-link"
                            href="#configuring-the-store"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          The Redux thunk middleware is available on NPM as a
                          package called <code>redux-thunk</code>. We need to
                          install that package to use it in our app:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly bash">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-bash
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token function"
                                    style="color: #e6d874"
                                    >npm</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >install</span
                                  ><span class="token plain"> redux-thunk</span>
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Once it&#x27;s installed, we can update the Redux
                          store in our todo app to use that middleware:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/store.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    createStore</span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token imports">
                                    applyMiddleware </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports"
                                    >thunkMiddleware</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux-thunk&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    composeWithDevTools </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;redux-devtools-extension&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">rootReducer</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./reducer&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    composedEnhancer </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >composeWithDevTools</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >applyMiddleware</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"
                                    >thunkMiddleware</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// The store now has the ability to accept
                                    thunk functions in `dispatch`</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> store </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >createStore</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">rootReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain">
                                    composedEnhancer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span class="token plain"> store</span>
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="fetching-todos-from-a-server"
                          ></a
                          >Fetching Todos from a Server<a
                            class="hash-link"
                            href="#fetching-todos-from-a-server"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          Right now our todo entries can only exist in the
                          client&#x27;s browser. We need a way to load a list of
                          todos from the server when the app starts up.
                        </p>
                        <p>
                          We&#x27;ll start by writing a thunk function that
                          makes an AJAX call to our
                          <code>/fakeApi/todos</code> endpoint to request an
                          array of todo objects, and then dispatch an action
                          containing that array as the payload. Since this is
                          related to the todos feature in general, we&#x27;ll
                          write the thunk function in the
                          <code>todosSlice.js</code> file:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/todos/todosSlice.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> client </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;../../api/client&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    initialState </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >todosReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter">
                                    initialState</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// omit reducer logic</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Thunk function</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >async</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fetchTodos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> response </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >await</span
                                  ><span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >get</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;/fakeApi/todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> response</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          We only want to make this API call once, when the
                          application loads for the first time. There&#x27;s a
                          few places we <em>could</em> put this:
                        </p>
                        <ul>
                          <li>
                            In the <code>&lt;App&gt;</code> component, in a
                            <code>useEffect</code> hook
                          </li>
                          <li>
                            In the <code>&lt;TodoList&gt;</code> component, in a
                            <code>useEffect</code> hook
                          </li>
                          <li>
                            In the <code>index.js</code> file directly, right
                            after we import the store
                          </li>
                        </ul>
                        <p>
                          For now, let&#x27;s try putting this directly in
                          <code>index.js</code>:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/index.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports maybe-class-name"
                                    >React</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;react&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports maybe-class-name"
                                    >ReactDOM</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;react-dom&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> </span
                                  ><span class="token imports maybe-class-name"
                                    >Provider</span
                                  ><span class="token imports"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;react-redux&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./index.css&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports maybe-class-name"
                                    >App</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./App&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./api/server&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports">store</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./store&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    fetchTodos </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;./features/todos/todosSlice&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">fetchTodos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span class="token maybe-class-name"
                                    >ReactDOM</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >render</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&lt;</span
                                  ><span class="token maybe-class-name"
                                    >React</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      property-access
                                      maybe-class-name
                                    "
                                    >StrictMode</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&gt;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&lt;</span
                                  ><span class="token maybe-class-name"
                                    >Provider</span
                                  ><span class="token plain"> store</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain">store</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&gt;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&lt;</span
                                  ><span class="token maybe-class-name"
                                    >App</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >/</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&gt;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&lt;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >/</span
                                  ><span class="token maybe-class-name"
                                    >Provider</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&gt;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&lt;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >/</span
                                  ><span class="token maybe-class-name"
                                    >React</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      property-access
                                      maybe-class-name
                                    "
                                    >StrictMode</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&gt;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token dom variable"
                                    style="color: #f8f8f2"
                                    >document</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >getElementById</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;root&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          If we reload the page, there&#x27;s no visible change
                          in the UI. However, if we open up the Redux DevTools
                          extension, we should now see that a
                          <code>&#x27;todos/todosLoaded&#x27;</code> action was
                          dispatched, and it should contain some todo objects
                          that were generated by our fake server API:
                        </p>
                        <p>
                          <img
                            alt="Devtools - todosLoaded action contents"
                            src="../../../d33wubrfki0l68.cloudfront.net/c96c315f5e60b87fa093e49d8d30a5a1fb66c580/9fd52/assets/images/devtools-todosloaded-action-0f8f36d9f37404a85e5cbc20b"
                          />
                        </p>
                        <p>
                          Notice that even though we&#x27;ve dispatched an
                          action, nothing&#x27;s happening to change the state.
                          <strong
                            >We need to handle this action in our todos reducer
                            to have the state updated.</strong
                          >
                        </p>
                        <p>
                          Let&#x27;s add a case to the reducer to load this data
                          into the store. Since we&#x27;re fetching the data
                          from the server, we want to completely replace any
                          existing todos, so we can return the
                          <code>action.payload</code> array to make it be the
                          new todos <code>state</code> value:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/todos/todosSlice.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> client </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;../../api/client&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    initialState </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >todosReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter">
                                    initialState</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// omit other reducer cases</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Replace the existing state entirely by
                                    returning the new value</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >payload</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >async</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fetchTodos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> response </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >await</span
                                  ><span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >get</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;/fakeApi/todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> response</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Since dispatching an action immediately updates the
                          store, we can also call <code>getState</code> in the
                          thunk to read the updated state value after we
                          dispatch. For example, we could log the number of
                          total todos to the console before and after
                          dispatching the
                          <code>&#x27;todos/todosLoaded&#x27;</code> action:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >async</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >fetchTodos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> response </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >await</span
                                  ><span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >get</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;/fakeApi/todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> stateBefore </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token console class-name"
                                    >console</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >log</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Todos before dispatch: &#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> stateBefore</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >length</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todosLoaded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> response</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> stateAfter </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span class="token console class-name"
                                    >console</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >log</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;Todos after dispatch: &#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> stateAfter</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todos</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >length</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <h3>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="saving-todo-items"
                          ></a
                          >Saving Todo Items<a
                            class="hash-link"
                            href="#saving-todo-items"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h3>
                        <p>
                          We also need to update the server whenever we try to
                          create a new todo item. Instead of dispatching the
                          <code>&#x27;todos/todoAdded&#x27;</code> action right
                          away, we should make an API call to the server with
                          the initial data, wait for the server to send back a
                          copy of the newly saved todo item, and
                          <em>then</em> dispatch an action with that todo item.
                        </p>
                        <p>
                          However, if we start trying to write this logic as a
                          thunk function, we&#x27;re going to run into a
                          problem: since we&#x27;re writing the thunk as a
                          separate function in the
                          <code>todosSlice.js</code> file, the code that makes
                          the API call doesn&#x27;t know what the new todo text
                          is supposed to be:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/todos/todosSlice.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >async</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >saveNewTodo</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// ❌ We need to have the text of the new
                                    todo, but where is it coming from?</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> initialTodo </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> text </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> response </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >await</span
                                  ><span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;/fakeApi/todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> todo</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> initialTodo </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todoAdded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> response</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todo</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          We need a way to write one function that accepts
                          <code>text</code> as its parameter, but then creates
                          the actual thunk function so that it can use the
                          <code>text</code> value to make the API call. Our
                          outer function should then return the thunk function
                          so that we can pass to <code>dispatch</code> in our
                          component.
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/todos/todosSlice.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Write a synchronous outer function that
                                    receives the `text` parameter:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >saveNewTodo</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">text</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// And then creates and returns the async
                                    thunk function:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >async</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >saveNewTodoThunk</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">dispatch</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> getState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// ✅ Now we can use the text value and
                                    send it to the server</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> initialTodo </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> text </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> response </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >await</span
                                  ><span class="token plain"> client</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >post</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;/fakeApi/todos&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> todo</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> initialTodo </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"> type</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todoAdded&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> payload</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> response</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >todo</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Now we can use this in our
                          <code>&lt;Header&gt;</code> component:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/header/Header.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span class="token imports maybe-class-name"
                                    >React</span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token imports"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports"> useState </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;react&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    useDispatch </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;react-redux&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >import</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token imports">
                                    saveNewTodo </span
                                  ><span
                                    class="token imports punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >from</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;../todos/todosSlice&#x27;</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="
                                      token
                                      function-variable function
                                      maybe-class-name
                                    "
                                    style="color: #e6d874"
                                    >Header</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span class="token plain">text</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> setText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >useState</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> dispatch </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >useDispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >handleChange</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">e</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >setText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">e</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >target</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >value</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >handleKeyDown</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">e</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// If the user pressed the Enter key:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> trimmedText </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> text</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >trim</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">e</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >which</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >13</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&amp;&amp;</span
                                  ><span class="token plain"> trimmedText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Create the thunk function with the text
                                    the user wrote</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    saveNewTodoThunk </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >saveNewTodo</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">trimmedText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Then dispatch the thunk function
                                    itself</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain"
                                    >saveNewTodoThunk</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >setText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// omit rendering output</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Since we know we&#x27;re going to immediately pass the
                          thunk function to <code>dispatch</code> in the
                          component, we can skip creating the temporary
                          variable. Instead, we can call
                          <code>saveNewTodo(text)</code>, and pass the resulting
                          thunk function straight to <code>dispatch</code>:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/header/Header.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function-variable function"
                                    style="color: #e6d874"
                                    >handleKeyDown</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span class="token parameter">e</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token arrow operator"
                                    style="color: #f8f8f2"
                                    >=&gt;</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// If the user pressed the Enter key:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain"> trimmedText </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> text</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span
                                    class="
                                      token
                                      method
                                      function
                                      property-access
                                    "
                                    style="color: #e6d874"
                                    >trim</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >if</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">e</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >which</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >===</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token number"
                                    style="color: #ae81ff"
                                    >13</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >&amp;&amp;</span
                                  ><span class="token plain"> trimmedText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Create the thunk function and
                                    immediately dispatch it</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >dispatch</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >saveNewTodo</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">trimmedText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >setText</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;&#x27;</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>
                          Now the component doesn&#x27;t actually know that
                          it&#x27;s even dispatching a thunk function - the
                          <code>saveNewTodo</code> function is encapsulating
                          what&#x27;s actually happening. The
                          <code>&lt;Header&gt;</code> component only knows that
                          it needs to dispatch <em>some value</em> when the user
                          presses enter.
                        </p>
                        <p>
                          This pattern of writing a function to prepare
                          something that will get passed to
                          <code>dispatch</code> is called
                          <strong>the &quot;action creator&quot; pattern</strong
                          >, and we&#x27;ll talk about that more in
                          <a href="part-7-standard-patterns.html"
                            >the next section</a
                          >.
                        </p>
                        <p>
                          We can now see the updated
                          <code>&#x27;todos/todoAdded&#x27;</code> action being
                          dispatched:
                        </p>
                        <p>
                          <img
                            alt="Devtools - async todoAdded action contents"
                            src="../../../d33wubrfki0l68.cloudfront.net/52ab1ed7f21b4f57d190500e45138ed0a6b47f09/dd472/assets/images/devtools-async-todoadded-action-b3eac966d8c8110fc96f4"
                          />
                        </p>
                        <p>
                          The last thing we need to change here is updating our
                          todos reducer. When we make a POST request to
                          <code>/fakeApi/todos</code>, the server will return a
                          completely new todo object (including a new ID value).
                          That means our reducer doesn&#x27;t have to calculate
                          a new ID, or fill out the other fields - it only needs
                          to create a new <code>state</code> array that includes
                          the new todo item:
                        </p>
                        <div class="codeBlockContainer_K1bP">
                          <div
                            style="color: #f8f8f2; background-color: #272822"
                            class="codeBlockTitle_eoMF"
                          >
                            src/features/todos/todosSlice.js
                          </div>
                          <div class="codeBlockContent_hGly js">
                            <div
                              tabindex="0"
                              class="
                                prism-code
                                language-js
                                codeBlock_23N8
                                thin-scrollbar
                                codeBlockWithTitle_2JqI
                              "
                            >
                              <div
                                class="codeBlockLines_39YC"
                                style="
                                  color: #f8f8f2;
                                  background-color: #272822;
                                "
                              >
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >const</span
                                  ><span class="token plain">
                                    initialState </span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span
                                    class="token plain"
                                    style="display: inline-block"
                                  >
                                  </span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >export</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >function</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token function"
                                    style="color: #e6d874"
                                    >todosReducer</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token parameter">state </span
                                  ><span
                                    class="token parameter operator"
                                    style="color: #f8f8f2"
                                    >=</span
                                  ><span class="token parameter">
                                    initialState</span
                                  ><span
                                    class="token parameter punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token parameter"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >switch</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >(</span
                                  ><span class="token plain">action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >type</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >)</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword"
                                    style="color: #f92672"
                                    >case</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token string"
                                    style="color: #a6e22e"
                                    >&#x27;todos/todoAdded&#x27;</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >{</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// Return a new todos state array with the
                                    new todo item at the end</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >[</span
                                  ><span
                                    class="token spread operator"
                                    style="color: #f8f8f2"
                                    >...</span
                                  ><span class="token plain">state</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >,</span
                                  ><span class="token plain"> action</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >.</span
                                  ><span class="token property-access"
                                    >payload</span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >]</span
                                  ><span class="token plain"></span>
                                </div>
                                <div
                                  class="
                                    token-line
                                    docusaurus-highlight-code-line
                                  "
                                  style="color: #f8f8f2"
                                >
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token comment"
                                    style="color: #c6cad2"
                                    >// omit other cases</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword module"
                                    style="color: #f92672"
                                    >default</span
                                  ><span
                                    class="token operator"
                                    style="color: #f8f8f2"
                                    >:</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token keyword control-flow"
                                    style="color: #f92672"
                                    >return</span
                                  ><span class="token plain"> state</span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"> </span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  ><span class="token plain"></span>
                                </div>
                                <div class="token-line" style="color: #f8f8f2">
                                  <span class="token plain"></span
                                  ><span
                                    class="token punctuation"
                                    style="color: #f8f8f2"
                                    >}</span
                                  >
                                </div>
                              </div>
                            </div>
                            <button
                              type="button"
                              aria-label="Copy code to clipboard"
                              class="copyButton_Ue-o"
                            >
                              Copy
                            </button>
                          </div>
                        </div>
                        <p>And now adding a new todo will work correctly:</p>
                        <p>
                          <img
                            alt="Devtools - async todoAdded state diff"
                            src="../../../d33wubrfki0l68.cloudfront.net/7b06b4966e3cfc821fed6c95c21ba0d4c4013b0b/e9fb9/assets/images/devtools-async-todoadded-diff-5f18f236969280dec2dad1a"
                          />
                        </p>
                        <div
                          class="admonition admonition-tip alert alert--success"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="12"
                                  height="16"
                                  viewBox="0 0 12 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"
                                  ></path></svg></span
                              >tip
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <p>
                              Thunk functions can be used for both asynchronous
                              <em>and</em> synchronous logic. Thunks provide a
                              way to write any reusable logic that needs access
                              to <code>dispatch</code> and
                              <code>getState</code>.
                            </p>
                          </div>
                        </div>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="what-youve-learned"
                          ></a
                          >What You&#x27;ve Learned<a
                            class="hash-link"
                            href="#what-youve-learned"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          We&#x27;ve now succesfully updated our todo app so
                          that we can fetch a list of todo items and save new
                          todo items, using &quot;thunk&quot; functions to make
                          the AJAX calls to our fake server API.
                        </p>
                        <p>
                          In the process, we saw how Redux middleware are used
                          to let us make async calls and interact with the store
                          by dispatching actions with after the async calls have
                          completed.
                        </p>
                        <p>Here&#x27;s what the current app looks like:</p>
                        <iframe
                          class="codesandbox"
                          src="../../../codesandbox.io/embed/github/reduxjs/redux-fundamentals-example-app/tree/checkpoint-6-asyncThunks/indexcb39.html?fontsize=14&amp;hidenavigation=1&amp;theme=dark&amp;runonclick=1"
                          title="redux-fundamentals-example-app"
                          allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
                          sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
                        ></iframe>
                        <div
                          class="admonition admonition-tip alert alert--success"
                        >
                          <div class="admonition-heading">
                            <h5>
                              <span class="admonition-icon"
                                ><svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="12"
                                  height="16"
                                  viewBox="0 0 12 16"
                                >
                                  <path
                                    fill-rule="evenodd"
                                    d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"
                                  ></path></svg></span
                              >Summary
                            </h5>
                          </div>
                          <div class="admonition-content">
                            <ul>
                              <li>
                                <strong
                                  >Redux middleware were designed to enable
                                  writing logic that has side effects</strong
                                >
                                <ul>
                                  <li>
                                    &quot;Side effects&quot; are code that
                                    changes state/behavior outside a function,
                                    like AJAX calls, modifying function
                                    arguments, or generating random values
                                  </li>
                                </ul>
                              </li>
                              <li>
                                <strong
                                  >Middleware add an extra step to the standard
                                  Redux data flow</strong
                                >
                                <ul>
                                  <li>
                                    Middleware can intercept other values passed
                                    to <code>dispatch</code>
                                  </li>
                                  <li>
                                    Middleware have access to
                                    <code>dispatch</code> and
                                    <code>getState</code>, so they can dispatch
                                    more actions as part of async logic
                                  </li>
                                </ul>
                              </li>
                              <li>
                                <strong
                                  >The Redux &quot;Thunk&quot; middleware lets
                                  us pass functions to
                                  <code>dispatch</code></strong
                                >
                                <ul>
                                  <li>
                                    &quot;Thunk&quot; functions let us write
                                    async logic ahead of time, without knowing
                                    what Redux store is being used
                                  </li>
                                  <li>
                                    A Redux thunk function receives
                                    <code>dispatch</code> and
                                    <code>getState</code> as arguments, and can
                                    dispatch actions like &quot;this data was
                                    received from an API response&quot;
                                  </li>
                                </ul>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <h2>
                          <a
                            aria-hidden="true"
                            tabindex="-1"
                            class="anchor enhancedAnchor_2LWZ"
                            id="whats-next"
                          ></a
                          >What&#x27;s Next?<a
                            class="hash-link"
                            href="#whats-next"
                            title="Direct link to heading"
                            >#</a
                          >
                        </h2>
                        <p>
                          We&#x27;ve now covered all the core pieces of how to
                          use Redux! You&#x27;ve seen how to:
                        </p>
                        <ul>
                          <li>
                            Write reducers that update state based on dispatched
                            actions,
                          </li>
                          <li>
                            Create and configure a Redux store with a reducer,
                            enhancers, and middleware
                          </li>
                          <li>
                            Use middleware to write async logic that dispatches
                            actions
                          </li>
                        </ul>
                        <p>
                          In
                          <a href="part-7-standard-patterns.html"
                            >Part 7: Standard Redux Patterns</a
                          >, we&#x27;ll look at several code patterns that are
                          typically used by real-world Redux apps to make our
                          code more consistent and scale better as the
                          application grows.
                        </p>
                      </div>
                    </article>
                    <div class="margin-vert--lg">
                      <nav
                        class="pagination-nav"
                        aria-label="Docs pages navigation"
                      >
                        <div class="pagination-nav__item">
                          <a
                            class="pagination-nav__link"
                            href="part-5-ui-react.html"
                            ><div class="pagination-nav__sublabel">
                              Previous
                            </div>
                            <div class="pagination-nav__label">
                              « Redux Fundamentals, Part 5: UI and React
                            </div></a
                          >
                        </div>
                        <div
                          class="
                            pagination-nav__item pagination-nav__item--next
                          "
                        >
                          <a
                            class="pagination-nav__link"
                            href="part-7-standard-patterns.html"
                            ><div class="pagination-nav__sublabel">Next</div>
                            <div class="pagination-nav__label">
                              Redux Fundamentals, Part 7: Standard Redux
                              Patterns »
                            </div></a
                          >
                        </div>
                      </nav>
                    </div>
                  </div>
                </div>
                <div class="col col--3">
                  <div class="tableOfContents_35-E thin-scrollbar">
                    <ul
                      class="table-of-contents table-of-contents__left-border"
                    >
                      <li>
                        <a href="#introduction" class="table-of-contents__link"
                          >Introduction</a
                        >
                        <ul>
                          <li>
                            <a
                              href="#example-rest-api-and-client"
                              class="table-of-contents__link"
                              >Example REST API and Client</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li>
                        <a
                          href="#redux-middleware-and-side-effects"
                          class="table-of-contents__link"
                          >Redux Middleware and Side Effects</a
                        >
                        <ul>
                          <li>
                            <a
                              href="#using-middleware-to-enable-async-logic"
                              class="table-of-contents__link"
                              >Using Middleware to Enable Async Logic</a
                            >
                          </li>
                          <li>
                            <a
                              href="#writing-an-async-function-middleware"
                              class="table-of-contents__link"
                              >Writing an Async Function Middleware</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li>
                        <a
                          href="#redux-async-data-flow"
                          class="table-of-contents__link"
                          >Redux Async Data Flow</a
                        >
                      </li>
                      <li>
                        <a
                          href="#using-the-redux-thunk-middleware"
                          class="table-of-contents__link"
                          >Using the Redux Thunk Middleware</a
                        >
                        <ul>
                          <li>
                            <a
                              href="#configuring-the-store"
                              class="table-of-contents__link"
                              >Configuring the Store</a
                            >
                          </li>
                          <li>
                            <a
                              href="#fetching-todos-from-a-server"
                              class="table-of-contents__link"
                              >Fetching Todos from a Server</a
                            >
                          </li>
                          <li>
                            <a
                              href="#saving-todo-items"
                              class="table-of-contents__link"
                              >Saving Todo Items</a
                            >
                          </li>
                        </ul>
                      </li>
                      <li>
                        <a
                          href="#what-youve-learned"
                          class="table-of-contents__link"
                          >What You&#39;ve Learned</a
                        >
                      </li>
                      <li>
                        <a href="#whats-next" class="table-of-contents__link"
                          >What&#39;s Next?</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </main>
        </div>
      </div>
      <footer class="footer">
        <div class="container">
          <div class="row footer__links">
            <div class="col footer__col">
              <h4 class="footer__title">Docs</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../introduction/getting-started.html"
                    >Getting Started</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../essentials/part-1-overview-concepts.html"
                    >Tutorial</a
                  >
                </li>
                <li class="footer__item">
                  <a class="footer__link-item" href="../../faq.html">FAQ</a>
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../api/api-reference.html"
                    >API Reference</a
                  >
                </li>
              </ul>
            </div>
            <div class="col footer__col">
              <h4 class="footer__title">Community</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    href="../../../discord.com/invite/0ZcbPKXt5bZ6au5t.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >Reactiflux Discord</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    href="../../../stackoverflow.com/questions/tagged/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >Stack Overflow</a
                  >
                </li>
                <li class="footer__item">
                  <a
                    class="footer__link-item"
                    href="../../introduction/getting-started.html#help-and-discussion"
                    >Feedback</a
                  >
                </li>
              </ul>
            </div>
            <div class="col footer__col">
              <h4 class="footer__title">More</h4>
              <ul class="footer__items">
                <li class="footer__item">
                  <a
                    href="../../../github.com/reduxjs/redux.html"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer__link-item"
                    >GitHub</a
                  >
                </li>
                <li class="footer__item">
                  <a href="../../../www.netlify.com/index.html">
                    <img
                      src="../../../www.netlify.com/img/global/badges/netlify-color-accent.svg"
                      alt="Deploys by Netlify"
                    />
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="footer__bottom text--center">
            <div class="margin-bottom--sm">
              <a
                href="../../index.html"
                target="_blank"
                rel="noopener noreferrer"
                class="footerLogoLink_MyFc"
                ><img
                  src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                  alt="Redux Logo"
                  class="
                    themedImage_1VuW themedImage--light_3UqQ
                    footer__logo
                  " /><img
                  src="../../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
                  alt="Redux Logo"
                  class="themedImage_1VuW themedImage--dark_hz6m footer__logo"
              /></a>
            </div>
            <div class="footer__copyright">
              Copyright © 2015–2021 Dan Abramov and the Redux documentation
              authors.
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="../../assets/js/runtime_main.443914bd.js"></script>
    <script src="../../assets/js/main.8520a084.js"></script>
  </body>
</html>
