<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Testing your app</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Testing your app</h1>
    </header>
    <h2 id="testing-apps">Testing apps</h2>
    <p>
      You can use a draft {% data variables.product.prodname_marketplace %}
      listing to simulate each of the billing flows. A listing in the draft
      state means that it has not been submitted for approval. Any purchases you
      make using a draft {% data variables.product.prodname_marketplace %}
      listing will <em>not</em> create real transactions, and GitHub will not
      charge your credit card. Note that you can only simulate purchases for
      plans published in the draft listing and not for draft plans. For more
      information, see “<a
        href="/developers/github-marketplace/drafting-a-listing-for-your-app"
        >Drafting a listing for your app</a
      >” and “<a
        href="/developers/github-marketplace/using-the-github-marketplace-api-in-your-app"
        >Using the {% data variables.product.prodname_marketplace %} API in your
        app</a
      >.”
    </p>
    <h3 id="using-a-development-app-with-a-draft-listing-to-test-changes">
      Using a development app with a draft listing to test changes
    </h3>
    <p>
      A {% data variables.product.prodname_marketplace %} listing can only be
      associated with a single app registration, and each app can only access
      its own {% data variables.product.prodname_marketplace %} listing. For
      these reasons, we recommend configuring a separate development app, with
      the same configuration as your production app, and creating a
      <em>draft</em> {% data variables.product.prodname_marketplace %} listing
      that you can use for testing. The draft {% data
      variables.product.prodname_marketplace %} listing allows you to test
      changes without affecting the active users of your production app. You
      will never have to submit your development {% data
      variables.product.prodname_marketplace %} listing, since you will only use
      it for testing.
    </p>
    <p>
      Because you can only create draft {% data
      variables.product.prodname_marketplace %} listings for public apps, you
      must make your development app public. Public apps are not discoverable
      outside of published {% data variables.product.prodname_marketplace %}
      listings as long as you don’t share the app’s URL. A Marketplace listing
      in the draft state is only visible to the app’s owner.
    </p>
    <p>
      Once you have a development app with a draft listing, you can use it to
      test changes you make to your app while integrating with the {% data
      variables.product.prodname_marketplace %} API and webhooks.
    </p>
    <p>{% warning %}</p>
    <p>
      Do not make test purchases with an app that is live in {% data
      variables.product.prodname_marketplace %}.
    </p>
    <p>{% endwarning %}</p>
    <h3 id="simulating-marketplace-purchase-events">
      Simulating Marketplace purchase events
    </h3>
    <p>
      Your testing scenarios may require setting up listing plans that offer
      free trials and switching between free and paid subscriptions. Because
      downgrades and cancellations don’t take effect until the next billing
      cycle, GitHub provides a developer-only feature to “Apply Pending Change”
      to force <code>changed</code> and <code>cancelled</code> plan actions to
      take effect immediately. You can access
      <strong>Apply Pending Change</strong> for apps with
      <em>draft</em> Marketplace listings in
      https://github.com/settings/billing#pending-cycle:
    </p>
    <figure>
      <img
        src="/assets/images/github-apps/github-apps-apply-pending-changes.png"
        alt="Apply pending change"
      />
      <figcaption>Apply pending change</figcaption>
    </figure>
    <h2 id="testing-apis">Testing APIs</h2>
    <p>
      For most {% data variables.product.prodname_marketplace %} API endpoints,
      we also provide stubbed API endpoints that return hard-coded, fake data
      you can use for testing. To receive stubbed data, you must specify stubbed
      URLs, which include <code>/stubbed</code> in the route (for example,
      <code>/user/marketplace_purchases/stubbed</code>). For a list of endpoints
      that support this stubbed-data approach, see
      <a href="/rest/reference/apps#github-marketplace"
        >{% data variables.product.prodname_marketplace %} endpoints</a
      >.
    </p>
    <h2 id="testing-webhooks">Testing webhooks</h2>
    <p>
      GitHub provides tools for testing your deployed payloads. For more
      information, see “<a href="/webhooks/testing/">Testing webhooks</a>.”
    </p>
  </body>
</html>
