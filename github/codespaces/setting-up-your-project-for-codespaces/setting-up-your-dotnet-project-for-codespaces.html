<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Setting up your C# (.NET) project for Codespaces</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Setting up your C# (.NET) project for Codespaces</h1>
</header>
<p>{% data reusables.codespaces.release-stage %}</p>
<h2 id="introduction">Introduction</h2>
<p>This guide shows you how to set up your C# (.NET) project in {% data variables.product.prodname_codespaces %}. It will take you through an example of opening your project in a codespace, and adding and modifying a dev container configuration from a template.</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>You should have an existing C# (.NET) project in a repository on {% data variables.product.prodname_dotcom_the_website %}. If you don’t have a project, you can try this tutorial with the following example: https://github.com/2percentsilk/dotnet-quickstart.</li>
<li>You must have {% data variables.product.prodname_codespaces %} enabled for your organization.</li>
</ul>
<h2 id="step-1-open-your-project-in-a-codespace">Step 1: Open your project in a codespace</h2>
<ol type="1">
<li>Navigate to your project’s repository. Use the {% octicon “download” aria-label=“The download icon” %} <strong>Code</strong> drop-down menu, and select <strong>Open with Codespaces</strong>. If you don’t see this option, your project isn’t available for {% data variables.product.prodname_codespaces %}.</li>
</ol>
<figure>
<img src="/assets/images/help/codespaces/open-with-codespaces-button.png" alt="Open with Codespaces button" /><figcaption>Open with Codespaces button</figcaption>
</figure>
<ol start="2" type="1">
<li>To create a new codespace, click {% octicon “plus” aria-label=“The plus icon” %} <strong>New codespace</strong>. <img src="/assets/images/help/codespaces/new-codespace-button.png" alt="New codespace button" /></li>
</ol>
<p>When you create a codespace, your project is created on a remote VM that is dedicated to you. By default, the container for your codespace has many languages and runtimes including .NET. It also includes a common set of tools like git, wget, rsync, openssh, and nano.</p>
<p>You can customize your codespace by adjusting the amount of vCPUs and RAM, <a href="/codespaces/setting-up-your-codespace/personalizing-codespaces-for-your-account">adding dotfiles to personalize your environment</a>, or by modifying the tools and scripts installed.</p>
<p>{% data variables.product.prodname_codespaces %} uses a file called <code>devcontainer.json</code> to store configurations. On launch {% data variables.product.prodname_codespaces %} uses the file to install any tools, dependencies, or other set up that might be needed for the project. For more information, see “<a href="/codespaces/setting-up-your-codespace/configuring-codespaces-for-your-project">Configuring Codespaces for your project</a>.”</p>
<h2 id="step-2-add-a-dev-container-to-your-codespace-from-a-template">Step 2: Add a dev container to your codespace from a template</h2>
<p>The default codespaces container comes with the latest .NET version and common tools preinstalled. However, we encourage you to set up a custom container so you can tailor the tools and scripts that run as part of codespace creation to your project’s needs and ensure a fully reproducible environment for all {% data variables.product.prodname_codespaces %} users in your repository.</p>
<p>To set up your project with a custom container, you will need to use a <code>devcontainer.json</code> file to define the environment. In {% data variables.product.prodname_codespaces %} you can add this either from a template or you can create your own. For more information on dev containers, see “<a href="/codespaces/setting-up-your-codespace/configuring-codespaces-for-your-project">Configuring Codespaces for your project</a>.”</p>
<p>{% data reusables.codespaces.command-palette-container %} 2. For this example, click <strong>C# (.NET)</strong>. If you need additional features you can select any container that’s specific to C# (.NET) or a combination of tools such as C# (.NET) and MS SQL. <img src="/assets/images/help/codespaces/add-dotnet-prebuilt-container.png" alt="Select C# (.NET) option from the list" /> 3. Click the recommended version of .NET. <img src="/assets/images/help/codespaces/add-dotnet-version.png" alt=".NET version selection" /> 4. Accept the default option to add Node.js to your customization. <img src="/assets/images/help/codespaces/dotnet-options.png" alt="Add Node.js selection" /> {% data reusables.codespaces.rebuild-command %}</p>
<h3 id="anatomy-of-your-dev-container">Anatomy of your dev container</h3>
<p>Adding the C# (.NET) dev container template adds a <code>.devcontainer</code> folder to the root of your project’s repository with the following files:</p>
<ul>
<li><code>devcontainer.json</code></li>
<li>Dockerfile</li>
</ul>
<p>The newly added <code>devcontainer.json</code> file defines a few properties that are described after the sample.</p>
<h4 id="devcontainer.json">devcontainer.json</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;C# (.NET)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">&quot;build&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">        <span class="dt">&quot;dockerfile&quot;</span><span class="fu">:</span> <span class="st">&quot;Dockerfile&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">        <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="fu">{</span> </a>
<a class="sourceLine" id="cb1-6" title="6">            <span class="er">//</span> <span class="er">Update</span> <span class="er">&#39;VARIANT&#39;</span> <span class="er">to</span> <span class="er">pick</span> <span class="er">a</span> <span class="er">.NET</span> <span class="er">Core</span> <span class="er">version</span><span class="fu">:</span> <span class="fl">2.1</span><span class="fu">,</span> <span class="er">3.1</span><span class="fu">,</span> <span class="er">5.0</span></a>
<a class="sourceLine" id="cb1-7" title="7">            <span class="dt">&quot;VARIANT&quot;</span><span class="fu">:</span> <span class="st">&quot;5.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-8" title="8">            <span class="er">//</span> <span class="er">Options</span></a>
<a class="sourceLine" id="cb1-9" title="9">            <span class="dt">&quot;INSTALL_NODE&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-10" title="10">            <span class="dt">&quot;NODE_VERSION&quot;</span><span class="fu">:</span> <span class="st">&quot;lts/*&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-11" title="11">            <span class="dt">&quot;INSTALL_AZURE_CLI&quot;</span><span class="fu">:</span> <span class="st">&quot;false&quot;</span></a>
<a class="sourceLine" id="cb1-12" title="12">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="er">//</span> <span class="er">Set</span> <span class="er">*default*</span> <span class="er">container</span> <span class="er">specific</span> <span class="er">settings.json</span> <span class="er">values</span> <span class="er">on</span> <span class="er">container</span> <span class="er">create.</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="dt">&quot;settings&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-17" title="17">        <span class="dt">&quot;terminal.integrated.shell.linux&quot;</span><span class="fu">:</span> <span class="st">&quot;/bin/bash&quot;</span></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20">    <span class="er">//</span> <span class="er">Add</span> <span class="er">the</span> <span class="er">IDs</span> <span class="er">of</span> <span class="er">extensions</span> <span class="er">you</span> <span class="er">want</span> <span class="er">installed</span> <span class="er">when</span> <span class="er">the</span> <span class="er">container</span> <span class="er">is</span> <span class="er">created.</span></a>
<a class="sourceLine" id="cb1-21" title="21">    <span class="dt">&quot;extensions&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-22" title="22">        <span class="st">&quot;ms-dotnettools.csharp&quot;</span></a>
<a class="sourceLine" id="cb1-23" title="23">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-24" title="24"></a>
<a class="sourceLine" id="cb1-25" title="25">    <span class="er">//</span> <span class="er">Use</span> <span class="er">&#39;forwardPorts&#39;</span> <span class="er">to</span> <span class="er">make</span> <span class="er">a</span> <span class="er">list</span> <span class="er">of</span> <span class="er">ports</span> <span class="er">inside</span> <span class="er">the</span> <span class="er">container</span> <span class="er">available</span> <span class="er">locally.</span></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="er">//</span> <span class="dt">&quot;forwardPorts&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">5000</span><span class="ot">,</span> <span class="dv">5001</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-27" title="27"></a>
<a class="sourceLine" id="cb1-28" title="28">    <span class="er">//</span> <span class="er">[Optional]</span> <span class="er">To</span> <span class="er">reuse</span> <span class="er">of</span> <span class="er">your</span> <span class="er">local</span> <span class="er">HTTPS</span> <span class="er">dev</span> <span class="er">cert</span><span class="fu">:</span></a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="er">//</span></a>
<a class="sourceLine" id="cb1-30" title="30">    <span class="er">//</span> <span class="dv">1</span><span class="er">.</span> <span class="er">Export</span> <span class="er">it</span> <span class="er">locally</span> <span class="er">using</span> <span class="er">this</span> <span class="er">command:</span></a>
<a class="sourceLine" id="cb1-31" title="31">    <span class="er">//</span>    <span class="er">*</span> <span class="er">Windows</span> <span class="er">PowerShell:</span></a>
<a class="sourceLine" id="cb1-32" title="32">    <span class="er">//</span>        <span class="er">dotnet</span> <span class="er">dev-certs</span> <span class="er">https</span> <span class="er">--trust;</span> <span class="er">dotnet</span> <span class="er">dev-certs</span> <span class="er">https</span> <span class="er">-ep</span> <span class="st">&quot;$env:USERPROFILE/.aspnet/https/aspnetapp.pfx&quot;</span> <span class="er">-p</span> <span class="st">&quot;SecurePwdGoesHere&quot;</span></a>
<a class="sourceLine" id="cb1-33" title="33">    <span class="er">//</span>    <span class="er">*</span> <span class="er">macOS/Linux</span> <span class="er">terminal:</span></a>
<a class="sourceLine" id="cb1-34" title="34">    <span class="er">//</span>        <span class="er">dotnet</span> <span class="er">dev-certs</span> <span class="er">https</span> <span class="er">--trust;</span> <span class="er">dotnet</span> <span class="er">dev-certs</span> <span class="er">https</span> <span class="er">-ep</span> <span class="st">&quot;${HOME}/.aspnet/https/aspnetapp.pfx&quot;</span> <span class="er">-p</span> <span class="st">&quot;SecurePwdGoesHere&quot;</span></a>
<a class="sourceLine" id="cb1-35" title="35">    <span class="er">//</span> </a>
<a class="sourceLine" id="cb1-36" title="36">    <span class="er">//</span> <span class="dv">2</span><span class="er">.</span> <span class="er">Uncomment</span> <span class="er">these</span> <span class="er">&#39;remoteEnv&#39;</span> <span class="er">lines:</span></a>
<a class="sourceLine" id="cb1-37" title="37">    <span class="er">//</span>    <span class="st">&quot;remoteEnv&quot;</span><span class="er">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-38" title="38">    <span class="er">//</span>        <span class="dt">&quot;ASPNETCORE_Kestrel__Certificates__Default__Password&quot;</span><span class="fu">:</span> <span class="st">&quot;SecurePwdGoesHere&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-39" title="39">    <span class="er">//</span>        <span class="dt">&quot;ASPNETCORE_Kestrel__Certificates__Default__Path&quot;</span><span class="fu">:</span> <span class="st">&quot;/home/vscode/.aspnet/https/aspnetapp.pfx&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="er">//</span>    <span class="fu">},</span></a>
<a class="sourceLine" id="cb1-41" title="41">    <span class="er">//</span></a>
<a class="sourceLine" id="cb1-42" title="42">    <span class="er">//</span> <span class="er">3.</span> <span class="er">Do</span> <span class="er">one</span> <span class="er">of</span> <span class="er">the</span> <span class="er">following</span> <span class="er">depending</span> <span class="er">on</span> <span class="er">your</span> <span class="er">scenario</span><span class="fu">:</span></a>
<a class="sourceLine" id="cb1-43" title="43">    <span class="er">//</span>    <span class="er">*</span> <span class="er">When</span> <span class="er">using</span> <span class="er">GitHub</span> <span class="er">Codespaces</span> <span class="er">and/or</span> <span class="er">Remote</span> <span class="er">-</span> <span class="er">Containers:</span></a>
<a class="sourceLine" id="cb1-44" title="44">    <span class="er">//</span>      <span class="dv">1</span><span class="er">.</span> <span class="er">Start</span> <span class="er">the</span> <span class="er">container</span></a>
<a class="sourceLine" id="cb1-45" title="45">    <span class="er">//</span>      <span class="dv">2</span><span class="er">.</span> <span class="er">Drag</span> <span class="er">~/.aspnet/https/aspnetapp.pfx</span> <span class="er">into</span> <span class="er">the</span> <span class="er">root</span> <span class="er">of</span> <span class="er">the</span> <span class="er">file</span> <span class="er">explorer</span></a>
<a class="sourceLine" id="cb1-46" title="46">    <span class="er">//</span>      <span class="dv">3</span><span class="er">.</span> <span class="er">Open</span> <span class="er">a</span> <span class="er">terminal</span> <span class="er">in</span> <span class="er">VS</span> <span class="er">Code</span> <span class="er">and</span> <span class="er">run</span> <span class="st">&quot;mkdir -p /home/vscode/.aspnet/https &amp;&amp; mv aspnetapp.pfx /home/vscode/.aspnet/https&quot;</span></a>
<a class="sourceLine" id="cb1-47" title="47">    <span class="er">//</span></a>
<a class="sourceLine" id="cb1-48" title="48">    <span class="er">//</span>    <span class="er">*</span> <span class="er">If</span> <span class="er">only</span> <span class="er">using</span> <span class="er">Remote</span> <span class="er">-</span> <span class="er">Containers</span> <span class="er">with</span> <span class="er">a</span> <span class="er">local</span> <span class="er">container</span><span class="fu">,</span> <span class="er">uncomment</span> <span class="er">this</span> <span class="er">line</span> <span class="er">instead</span><span class="fu">:</span></a>
<a class="sourceLine" id="cb1-49" title="49">    <span class="er">//</span>      <span class="st">&quot;mounts&quot;</span><span class="er">:</span> <span class="ot">[</span> <span class="st">&quot;source=${env:HOME}${env:USERPROFILE}/.aspnet/https,target=/home/vscode/.aspnet/https,type=bind&quot;</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-50" title="50"></a>
<a class="sourceLine" id="cb1-51" title="51">    <span class="er">//</span> <span class="er">Use</span> <span class="er">&#39;postCreateCommand&#39;</span> <span class="er">to</span> <span class="er">run</span> <span class="er">commands</span> <span class="er">after</span> <span class="er">the</span> <span class="er">container</span> <span class="er">is</span> <span class="er">created.</span></a>
<a class="sourceLine" id="cb1-52" title="52">    <span class="er">//</span> <span class="dt">&quot;postCreateCommand&quot;</span><span class="fu">:</span> <span class="st">&quot;dotnet restore&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-53" title="53"></a>
<a class="sourceLine" id="cb1-54" title="54">    <span class="er">//</span> <span class="er">Comment</span> <span class="er">out</span> <span class="er">connect</span> <span class="er">as</span> <span class="er">root</span> <span class="er">instead.</span> <span class="er">More</span> <span class="er">info</span><span class="fu">:</span> <span class="er">https://aka.ms/vscode-remote/containers/non-root.</span></a>
<a class="sourceLine" id="cb1-55" title="55">    <span class="st">&quot;remoteUser&quot;</span><span class="er">:</span> <span class="st">&quot;vscode&quot;</span></a>
<a class="sourceLine" id="cb1-56" title="56"><span class="fu">}</span></a></code></pre></div>
<ul>
<li><strong>Name</strong> - You can name our dev container anything, this is just the default.</li>
<li><strong>Build</strong> - The build properties.
<ul>
<li><strong>Dockerfile</strong> - In the build object, <code>dockerfile</code> is a reference to the Dockerfile that was also added from the template.</li>
<li><strong>Args</strong>
<ul>
<li><strong>Variant</strong>: This file only contains one build argument, which is the .NET Core version that we want to use.</li>
</ul></li>
</ul></li>
<li><strong>Settings</strong> - These are {% data variables.product.prodname_vscode %} settings.
<ul>
<li><strong>Terminal.integrated.shell.linux</strong> - While bash is the default here, you could use other terminal shells by modifying this.</li>
</ul></li>
<li><strong>Extensions</strong> - These are extensions included by default.
<ul>
<li><strong>ms-dotnettools.csharp</strong> - The Microsoft C# extension provides rich support for developing in C#, including features such as IntelliSense, linting, debugging, code navigation, code formatting, refactoring, variable explorer, test explorer, and more.</li>
</ul></li>
<li><strong>forwardPorts</strong> - Any ports listed here will be forwarded automatically.</li>
<li><strong>postCreateCommand</strong> - If you want to run anything after you land in your codespace that’s not defined in the Dockerfile, like <code>dotnet restore</code>, you can do that here.</li>
<li><strong>remoteUser</strong> - By default, you’re running as the vscode user, but you can optionally set this to root.</li>
</ul>
<h4 id="dockerfile">Dockerfile</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># [Choice] .NET version: 5.0, 3.1, 2.1</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="ex">ARG</span> VARIANT=<span class="st">&quot;5.0&quot;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ex">FROM</span> mcr.microsoft.com/vscode/devcontainers/dotnetcore:0-<span class="va">${VARIANT}</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co"># [Option] Install Node.js</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="ex">ARG</span> INSTALL_NODE=<span class="st">&quot;true&quot;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="ex">ARG</span> NODE_VERSION=<span class="st">&quot;lts/*&quot;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="ex">RUN</span> if [ <span class="st">&quot;</span><span class="va">${INSTALL_NODE}</span><span class="st">&quot;</span> = <span class="st">&quot;true&quot;</span> ]<span class="kw">;</span> <span class="kw">then</span> <span class="fu">su</span> vscode -c <span class="st">&quot;umask 0002 &amp;&amp; . /usr/local/share/nvm/nvm.sh &amp;&amp; nvm install </span><span class="va">${NODE_VERSION}</span><span class="st"> 2&gt;&amp;1&quot;</span><span class="kw">;</span> <span class="kw">fi</span></a>
<a class="sourceLine" id="cb2-9" title="9"></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co"># [Option] Install Azure CLI</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="ex">ARG</span> INSTALL_AZURE_CLI=<span class="st">&quot;false&quot;</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="ex">COPY</span> library-scripts/azcli-debian.sh /tmp/library-scripts/</a>
<a class="sourceLine" id="cb2-13" title="13"><span class="ex">RUN</span> if [ <span class="st">&quot;</span><span class="va">$INSTALL_AZURE_CLI</span><span class="st">&quot;</span> = <span class="st">&quot;true&quot;</span> ]<span class="kw">;</span> <span class="kw">then</span> <span class="fu">bash</span> /tmp/library-scripts/azcli-debian.sh<span class="kw">;</span> <span class="kw">fi</span> <span class="kw">\</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> clean -y <span class="kw">&amp;&amp;</span> <span class="fu">rm</span> -rf /var/lib/apt/lists/* /tmp/library-scripts</a>
<a class="sourceLine" id="cb2-15" title="15"></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co"># [Optional] Uncomment this section to install additional OS packages.</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co"># RUN apt-get update &amp;&amp; export DEBIAN_FRONTEND=noninteractive \</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#     &amp;&amp; apt-get -y install --no-install-recommends &lt;your-package-list-here&gt;</span></a>
<a class="sourceLine" id="cb2-19" title="19"></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="co"># [Optional] Uncomment this line to install global node packages.</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="co"># RUN su vscode -c &quot;source /usr/local/share/nvm/nvm.sh &amp;&amp; npm install -g &lt;your-package-here&gt;&quot; 2&gt;&amp;1</span></a></code></pre></div>
<p>You can use the Dockerfile to add additional container layers to specify OS packages, node versions, or global packages we want included in our container.</p>
<h2 id="step-3-modify-your-devcontainer.json-file">Step 3: Modify your devcontainer.json file</h2>
<p>With your dev container added and a basic understanding of what everything does, you can now make changes to configure it for your environment. In this example, you’ll add properties to install extensions and restore your project dependencies when your codespace launches.</p>
<ol type="1">
<li>In the Explorer, expand the <code>.devcontainer</code> folder and select the <code>devcontainer.json</code> file from the tree to open it.</li>
</ol>
<figure>
<img src="/assets/images/help/codespaces/devcontainers-options.png" alt="“Codespaces: Rebuild Container” in the command palette" /><figcaption>“Codespaces: Rebuild Container” in the command palette</figcaption>
</figure>
<ol start="2" type="1">
<li>Update your the <code>extensions</code> list in your <code>devcontainer.json</code> file to add a few extensions that are useful when working with your project.</li>
</ol>
<pre class="json{:copy}"><code>&quot;extensions&quot;: [
        &quot;ms-dotnettools.csharp&quot;,
        &quot;streetsidesoftware.code-spell-checker&quot;,
    ],</code></pre>
<ol start="3" type="1">
<li>Uncomment the <code>postCreateCommand</code> to restore dependencies as part of the codespace setup process.</li>
</ol>
<pre class="json{:copy}"><code>// Use &#39;postCreateCommand&#39; to run commands after the container is created.
&quot;postCreateCommand&quot;: &quot;dotnet restore&quot;,</code></pre>
<p>{% data reusables.codespaces.rebuild-command %}</p>
<p>Rebuilding inside your codespace ensures your changes work as expected before you commit the changes to the repository. If something does result in a failure, you’ll be placed in a codespace with a recovery container that you can rebuild from to keep adjusting your container.</p>
<ol start="5" type="1">
<li><p>Check your changes were successfully applied by verifying the “Code Spell Checker” extension was installed.</p>
<figure>
<img src="/assets/images/help/codespaces/dotnet-extensions.png" alt="Extensions list" /><figcaption>Extensions list</figcaption>
</figure></li>
</ol>
<h2 id="step-4-run-your-application">Step 4: Run your application</h2>
<p>In the previous section, you used the <code>postCreateCommand</code> to install a set of packages via the <code>dotnet restore</code> command. With our dependencies now installed, we can run our application.</p>
<ol type="1">
<li><p>Run your application by pressing <code>F5</code> or entering <code>dotnet watch run</code> in your terminal.</p></li>
<li><p>When your project starts, you should see a toast in the bottom right corner with a prompt to connect to the port your project uses.</p></li>
</ol>
<figure>
<img src="/assets/images/help/codespaces/python-port-forwarding.png" alt="Port forwarding toast" /><figcaption>Port forwarding toast</figcaption>
</figure>
<h2 id="step-5-commit-your-changes">Step 5: Commit your changes</h2>
<p>{% data reusables.codespaces.committing-link-to-procedure %}</p>
<h2 id="next-steps">Next steps</h2>
<p>You should now be ready start developing your C# (.NET) project in {% data variables.product.prodname_codespaces %}. Here are some additional resources for more advanced scenarios.</p>
<ul>
<li><a href="/codespaces/working-with-your-codespace/managing-encrypted-secrets-for-codespaces">Managing encrypted secrets for {% data variables.product.prodname_codespaces %}</a></li>
<li><a href="/codespaces/working-with-your-codespace/managing-gpg-verification-for-codespaces">Managing GPG verification for {% data variables.product.prodname_codespaces %}</a></li>
<li><a href="/codespaces/developing-in-codespaces/forwarding-ports-in-your-codespace">Forwarding ports in your codespace</a></li>
</ul>
</body>
</html>
