
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
    <link rel="stylesheet" href="/css/main.css?v=027b9bfb7f7d7">
  

  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>SMS OTP form best practices</title>
<meta name="description" content="Asking a user to provide an OTP (one-time password) delivered via SMS is a common way to confirm a user's phone number. This post provides you with the best practices to build an SMS OTP form with great user experience. " />

<link rel="canonical" href="https://web.dev/sms-otp-form/" />

<meta itemprop="name" content="SMS OTP form best practices" />
<meta itemprop="description" content="Asking a user to provide an OTP (one-time password) delivered via SMS is a common way to confirm a user's phone number. This post provides you with the best practices to build an SMS OTP form with great user experience. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/sms-otp-form/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="SMS OTP form best practices" />
<meta property="og:description" content="Asking a user to provide an OTP (one-time password) delivered via SMS is a common way to confirm a user's phone number. This post provides you with the best practices to build an SMS OTP form with great user experience. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A neon chat bubble sign." />
<meta property="tag" content="identity" />
<meta property="tag" content="security" />
<meta property="tag" content="forms" />
<meta property="tag" content="otp" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="SMS OTP form best practices" />
<meta name="twitter:description" content="Asking a user to provide an OTP (one-time password) delivered via SMS is a common way to confirm a user's phone number. This post provides you with the best practices to build an SMS OTP form with great user experience. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>








<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=0f933f1159ed7', 'module');




  loadScript('/js/content.js?v=42764a9f3dd1', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    



<web-header class="header-default" role="navigation">
  <button data-open-drawer-button class="w-button--svg w-button--round" aria-label="Open menu">
    








  










  <svg class="icon " role="img" aria-label="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>


    <span class="w-tooltip w-tooltip--left">Open menu</span>
  </button>

  <a
    href="/"
    class="header-default__logo-link gc-analytics-event"
    data-category="Site-Wide Custom Events"
    data-label="Site logo"
  >
    <img class="header-default__logo" width="125" height="30" src="/images/lockup.svg" alt="web.dev" />
  </a>

  <div class="header-default__middle">
    <div class="header-default__links">
      <a
        href="/learn/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
      >
        Learn
      </a>

      <a
        href="/measure/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
      >
        Measure
      </a>

      <a
        href="/blog/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
      >
        Blog
      </a>

      <a
        href="/about/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About"
      >
        About
      </a>
    </div>
    <web-search results-id="search-main-results"></web-search>
    <web-search-results id="search-main-results"></web-search-results>
  </div>

  <web-profile-switcher-container></web-profile-switcher-container>
</web-header>



<web-navigation-drawer class="drawer-default" type="modal">
  <nav data-drawer-container>
    <div class="drawer-default__contents">
      <div class="drawer-default__header">
        <button
          data-drawer-close-button
          class="drawer-default__hide w-button--svg w-button--round"
          aria-label="Close"
        >
          








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


          <span class="w-tooltip">Close</span>
        </button>
        <a
          href="/"
          class="gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Site logo"
        >
          <img
            width="125"
            height="30"
            class="drawer-default__logo"
            src="/images/lockup.svg"
            alt="web.dev"
          />
        </a>
      </div>
      <a
        href="/learn/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Learn"
      >
        Learn
      </a>
      <a
        href="/measure/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Measure"
      >
        Measure
      </a>
      <a
        href="/blog/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Blog"
      >
        Blog
      </a>
      <a
        href="/about/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: About"
      >
        About
      </a>
    </div>
  </nav>
</web-navigation-drawer>

<main>
  <div id="content">
    
      
    
    


<div class="guide-landing-page">
  
  

  
    <img     alt="A neon chat bubble sign."     class="w-hero w-hero--cover"     decoding="auto"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/J3XT84NDBPLlsRN0PhLl.jpg?auto=format&w=1600 1600w"          width="1600"   />
  

  <web-table-of-contents>
    <h2 class="w-toc__header">
      <a href="#sms-otp-form-best-practices" class="w-toc__header--link">
        SMS OTP form best practices
      </a>
    </h2>
    <div class="w-toc__list">
        <ul><li><a href="#checklist">Checklist</a></li><li><a href="#use-the-lessinputgreater-element">Use the &lt;input&gt; element</a></li><li><a href="#type"text"">type=&quot;text&quot;</a></li><li><a href="#inputmode"numeric"">inputmode=&quot;numeric&quot;</a></li><li><a href="#autocomplete"one-time-code"">autocomplete=&quot;one-time-code&quot;</a></li><li><a href="#format">Format the SMS text</a></li><li><a href="#use-the-webotp-api">Use the WebOTP API</a></li></ul></div>
  </web-table-of-contents>
  <web-table-of-contents-button></web-table-of-contents-button>

  
  <div class="w-actions">
    <share-action authors="@agektmr"
      class="gc-analytics-event w-actions__fab w-actions__fab--share"
      data-category="web.dev"
      data-label="share"
      data-action="click"
      data-icon="share"
      tabindex="0"
      role="button"
    >
      <span>Share</span>
    </share-action>
    <a class="w-actions__fab w-actions__fab--subscribe gc-analytics-event" data-category="web.dev" data-label="view-subscribe" data-action="click" href="/newsletter/">
  <span>subscribe</span>
</a>

  </div>

  <div class="w-layout-container--narrow w-post-content">
    <header class="w-article-header">
      
        <div class="w-post-breadcrumbs">
          <ul class="w-breadcrumbs">
  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link w-breadcrumbs__link--left-justify gc-analytics-event"
      data-category="web.dev"
      data-label="post, home breadcrumb"
      data-action="click"
      href="/"
    >
      Home
    </a>
  </li>

  <svg
    class="w-breadcrumbs__icon"
    xmlns="http://www.w3.org/2000/svg"
    height="24"
    viewBox="0 0 24 24"
    width="24"
    aria-hidden="true"
  >
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" />
  </svg>

  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link gc-analytics-event"
      data-category="web.dev"
      data-label="post, path breadcrumb"
      data-action="click"
      href=/blog
    >
      All articles
    </a>
  </li>
</ul>
        </div>
      

      <h1 id="sms-otp-form-best-practices" class="w-article-header__headline">SMS OTP form best practices</h1>
      
        <p class="w-article-header__subhead w-mb--non">
          Learn how to optimize your SMS OTP form and improve user experience.
        </p>
      

      
        <div class="w-author__published">
          <time>Dec 9, 2020</time>
           <span class="w-author__separator">•</span> Updated <time>Dec 9, 2020</time> 
        </div>
      
      

      
        <div class="w-authors w-mt--xl w-pt--sm">
          
            <div class="w-author">
  <a href="/authors/agektmr/"><img     alt="Eiji Kitamura"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/Mh9DRmQhjlroJM9JDqsu.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /></a>
  <div
    class="w-author__info"
    style="display: flex; flex-direction: column; justify-content: center;"
  >
    <cite class="w-author__name">
      <a class="w-author__name-link" href="/authors/agektmr/">Eiji Kitamura</a>
    </cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/agektmr"
          >Twitter</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/agektmr">GitHub</a>
      </li>
      
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://blog.agektmr.com">Blog</a>
      </li>
    </ul>
  </div>
</div>
          
        </div>
      
    </header>

    

    <div class="youtube">  <lite-youtube    videoid="sU4MpWYrGSI"      >  </lite-youtube></div>
<p>Asking a user to provide the OTP (one time password) delivered via SMS is a common
way to confirm a user's phone number. There are a few use cases for SMS OTP:</p>
<ul>
<li><strong>Two-factor authentication.</strong> In addition to username and password, SMS OTP can be
used as a strong signal that the account is owned by the person who received the
SMS OTP.</li>
<li><strong>Phone number verification.</strong> Some services use a phone number as the user's
primary identifier. In such services, users can enter their phone number and the
OTP received via SMS to prove their identity. Sometimes it's combined with a PIN
to constitute a two-factor authentication.</li>
<li><strong>Account recovery.</strong> When a user loses access to their account, there needs
to be a way to recover it. Sending an email to their registered email address or
an SMS OTP to their phone number are common account recovery methods.</li>
<li><strong>Payment confirmation</strong> In payment systems, some banks or credit card
issuers request additional authentication from the payer for security reasons.
SMS OTP is commonly used for that purpose.</li>
</ul>
<p>This post explains best practices to build an SMS OTP form for the above use
cases.</p>
<div class="w-aside w-aside--caution">
<p><strong>Caution</strong>:
While this post discusses SMS OTP form best practices, be aware that SMS OTP is
not the most secure method of authentication by itself because phone
numbers can be recycled and sometimes hijacked. And <a href="https://youtu.be/kGGMgEfSzMw?t=1133" rel="noopener">the concept of OTP
itself is not phishing resistant</a>.</p>
<p>If you are looking for better security, consider using
<a href="https://www.w3.org/TR/webauthn-2/" rel="noopener">WebAuthn</a>. Learn more about it from the talk
&quot;<a href="https://goo.gle/webauthn-video" rel="noopener">What's new in sign-up &amp; sign-in</a>&quot; at the
Chrome Dev Summit 2019 and build a reauthentication experience using a biometric
sensor with &quot;<a href="https://goo.gle/WebAuthnReauthCodelab" rel="noopener">Build your first WebAuthn app</a>&quot;
codelab.</p>
</div>
<h2 id="checklist">Checklist <a class="w-headline-link" href="#checklist">#</a></h2>
<p>To provide the best user experience with the SMS OTP, follow these steps:</p>
<ul>
<li>Use the <code>&lt;input&gt;</code> element with:
<ul>
<li><code>type=&quot;text&quot;</code></li>
<li><code>inputmode=&quot;numeric&quot;</code></li>
<li><code>autocomplete=&quot;one-time-code&quot;</code></li>
</ul>
</li>
<li>Use <code>@BOUND_DOMAIN #OTP_CODE</code> as the last line of the OTP SMS message.</li>
<li>Use the <a href="/web-otp/">WebOTP API</a>.</li>
</ul>
<h2 id="use-the-lessinputgreater-element">Use the <code>&lt;input&gt;</code> element <a class="w-headline-link" href="#use-the-lessinputgreater-element">#</a></h2>
<p>Using a form with an <code>&lt;input&gt;</code> element is the most important best practice you
can follow because it works in all browsers. Even if other suggestions from
this post don't work in some browser, the user will still be able to enter and submit the OTP
manually.</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/verify-otp<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><br>         <span class="token attr-name">inputmode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>numeric<span class="token punctuation">"</span></span><br>         <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>one-time-code<span class="token punctuation">"</span></span><br>         <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>\d{6}<span class="token punctuation">"</span></span><br>         <span class="token attr-name">required</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><p>The following are a few ideas to ensure an input field gets the best out of
browser functionality.</p>
<h3 id="type&quot;text&quot;"><code>type=&quot;text&quot;</code> <a class="w-headline-link" href="#type&quot;text&quot;">#</a></h3>
<p>Since OTPs are usually five or six digit numbers, using
<code>type=&quot;number&quot;</code> for an input field might seem intuitive because it changes the mobile
keyboard to numbers only. This is not recommended because the browser expects an
input field to be a countable number rather than a sequence of multiple numbers,
which can cause unexpected behavior. Using <code>type=&quot;number&quot;</code> causes up and down
buttons to be displayed beside the input field; pressing these buttons
increments or decrements the number and may remove preceding zeros.</p>
<p>Use <code>type=&quot;text&quot;</code> instead. This won't turn the mobile keyboard into numbers
only, but that is fine because the next tip for using <code>inputmode=&quot;numeric&quot;</code> does
that job.</p>
<h3 id="inputmode&quot;numeric&quot;"><code>inputmode=&quot;numeric&quot;</code> <a class="w-headline-link" href="#inputmode&quot;numeric&quot;">#</a></h3>
<p>Use <a href="https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode" rel="noopener"><code>inputmode=&quot;numeric&quot;</code></a>
to change the mobile keyboard to numbers only.</p>
<p>Some websites use <code>type=&quot;tel&quot;</code> for OTP input fields since it also
turns the mobile keyboard to numbers only (including <code>*</code> and <code>#</code>) when
focused. This hack was used in the past when <code>inputmode=&quot;numeric&quot;</code>
wasn't widely supported. Since <a href="https://github.com/mdn/browser-compat-data/pull/6782" rel="noopener">Firefox started supporting
<code>inputmode=&quot;numeric&quot;</code></a>,
there's no need to use the semantically incorrect <code>type=&quot;tel&quot;</code> hack.</p>
<h3 id="autocomplete&quot;one-time-code&quot;"><code>autocomplete=&quot;one-time-code&quot;</code> <a class="w-headline-link" href="#autocomplete&quot;one-time-code&quot;">#</a></h3>
<p><a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/autocomplete" rel="noopener"><code>autocomplete</code></a>
attribute lets developers specify what permission the browser
has to provide autocomplete assistance and informs the browser about the
type of information expected in the field.</p>
<p>With <code>autocomplete=&quot;one-time-code&quot;</code> whenever a user receives an SMS message while a
form is open, the operating system will parse the OTP in the SMS heuristically and
the keyboard will suggest the OTP for the user to enter. It works only on Safari 12 and
later on iOS, iPadOS, and macOS, but we strongly recommend using it, because it is an
easy way to improve the SMS OTP experience on those platforms.</p>
<figure class="w-figure" style="width:300px; margin:auto;">
  <video controls autoplay loop muted class="w-screenshot">
    <source src="https://storage.googleapis.com/web-dev-assets/sms-otp-form/ios-safari.webm" type="video/webm">
    <source src="https://storage.googleapis.com/web-dev-assets/sms-otp-form/ios-safari.mp4" type="video/mp4">
  </video>
  <figcaption class="w-figcaption">
    `autocomplete="one-time-code"` in action.
  </figcaption>
</figure>
<p><code>autocomplete=&quot;one-time-code&quot;</code> improves the user experience, but there's more you
can do by <a href="#format">ensuring that the SMS message complies with the origin-bound message
format</a>.</p>
<div class="w-aside w-aside--note">
<p>Optional attributes:</p>
<ul>
<li>
<p><a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/pattern" rel="noopener"><code>pattern</code></a>
specifies the format that the entered OTP must match. Use regular expressions to specify
the matching pattern, for example, <code>\d{6}</code> constrains the OTP to a six digit string. Learn more about the
<code>pattern</code> attribute in [Use JavaScript for more complex real-time validation]
(https://developers.google.com/web/fundamentals/design-and-ux/input/forms#use_javascript_for_more_complex_real-time_validation)</p>
</li>
<li>
<p><a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/required" rel="noopener"><code>required</code></a>
indicates that a field is required.</p>
</li>
</ul>
<p>For more general form best practices, <a href="/authors/samdutton/">Sam Dutton</a>'s
<a href="/sign-in-form-best-practices/">Sign-in form best practices</a> is a great starting
point.</p>
</div>
<h2 id="format">Format the SMS text <a class="w-headline-link" href="#format">#</a></h2>
<p>Enhance the user experience of entering an OTP by aligning with
<a href="https://wicg.github.io/sms-one-time-codes/" rel="noopener">the origin-bound one-time codes delivered via SMS</a>
specification.</p>
<p>The format rule is simple: Finish the SMS message with the receiver domain
preceded with <code>@</code> and the OTP preceded with <code>#</code>.</p>
<p>For example:</p>
<web-copy-code><pre class="language-text"><code class="language-text">Your OTP is 123456<br><br>@web-otp.glitch.me #123456</code></pre>
</web-copy-code><p>Using a standard format for OTP messages makes extraction
of codes from them easier and more reliable. Associating OTP codes with
websites makes it harder to trick users into providing a code to malicious sites.</p>
<div class="w-aside w-aside--note">
<p>The precise rules are:</p>
<ul>
<li>The message begins with (optional) human-readable text that contains a four to
ten character alphanumeric string with at least one number, leaving the last
line for the URL and the OTP.</li>
<li>The domain part of the URL of the website that invoked the API must be
preceded by <code>@</code>.</li>
<li>The URL must contain a pound sign (&quot;<code>#</code>&quot;) followed by the OTP.</li>
</ul>
<p>Make sure the number of characters doesn't exceed 140 in total.</p>
<p>To learn more about Chrome specific rules, read <a href="/web-otp/#format">Format the SMS message section
of WebOTP API post</a>.</p>
</div>
<p>Using this format provides a couple of benefits:</p>
<ul>
<li>The OTP will be bound to the domain. If the user is on domains other than
the one specified in the SMS message, the OTP suggestion won't appear.
This also mitigates the risk of phishing attacks and potential account hijacks.</li>
<li>Browser will now be able to reliably extract the OTP without depending on
mysterious and flaky heuristics.</li>
</ul>
<p>When a website uses <code>autocomplete=&quot;one-time-code&quot;</code>, Safari with iOS 14 or later
will suggest the OTP following the above rules.</p>
<div class="w-aside w-aside--note">
<p>If the user is on a desktop with macOS Big Sur with the same iCloud account set
up as on iOS, the OTP received on the iOS device will be
available on the desktop Safari as well.</p>
<p>To learn more about other benefits and nuances of the availability on Apple
platforms, read <a href="https://developer.apple.com/news/?id=z0i801mg" rel="noopener">Enhance SMS-delivered code security with domain-bound
codes</a>.</p>
</div>
<p>This SMS message format also benefits browsers other than Safari. Chrome, Opera,
and Vivaldi on Android also support the origin-bound one-time codes rule with
the WebOTP API, though not through <code>autocomplete=&quot;one-time-code&quot;</code>.</p>
<h2 id="use-the-webotp-api">Use the WebOTP API <a class="w-headline-link" href="#use-the-webotp-api">#</a></h2>
<p><a href="https://wicg.github.io/web-otp/" rel="noopener">The WebOTP API</a> provides access to the OTP
received in an SMS message. By calling
<a href="https://developer.mozilla.org/docs/Web/API/CredentialsContainer/get" rel="noopener"><code>navigator.credentials.get()</code></a>
with <code>otp</code> type (<code>OTPCredential</code>) where <code>transport</code> includes <code>sms</code>, the website
will wait for an SMS that complies with the origin-bound one-time codes to be
delivered and granted access by the user. Once the OTP is passed to JavaScript,
the website can use it in a form or POST it directly to the server.</p>
<div class="w-aside w-aside--caution">
<p><strong>Caution</strong>:
The WebOTP API requires a secure origin (HTTPS).</p>
</div>
<web-copy-code><pre class="language-js"><code class="language-js">navigator<span class="token punctuation">.</span>credentials<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  otp<span class="token operator">:</span> <span class="token punctuation">{</span>transport<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'sms'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">otp</span> <span class="token operator">=></span> input<span class="token punctuation">.</span>value <span class="token operator">=</span> otp<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><figure class="w-figure" style="width:300px; margin:auto;">
  <video controls autoplay loop muted class="w-screenshot">
    <source src="https://storage.googleapis.com/web-dev-assets/sms-otp-form/android-chrome.webm" type="video/webm">
    <source src="https://storage.googleapis.com/web-dev-assets/sms-otp-form/android-chrome.mp4" type="video/mp4">
  </video>
  <figcaption class="w-figcaption">
    WebOTP API in action.
  </figcaption>
</figure>
<p>Learn how to use the WebOTP API in detail in <a href="/web-otp/">Verify phone numbers on the web
with the WebOTP API</a> or copy and paste the following snippet. (Make
sure the <code>&lt;form&gt;</code> element has an <code>action</code> and <code>method</code> attribute properly set.)</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Feature detection</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'OTPCredential'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input[autocomplete="one-time-code"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>input<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><br>    <span class="token comment">// Cancel the WebOTP API if the form is submitted manually.</span><br>    <span class="token keyword">const</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> form <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>form<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token comment">// Cancel the WebOTP API.</span><br>        ac<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token comment">// Invoke the WebOTP API</span><br>    navigator<span class="token punctuation">.</span>credentials<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>      otp<span class="token operator">:</span> <span class="token punctuation">{</span> transport<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'sms'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      signal<span class="token operator">:</span> ac<span class="token punctuation">.</span>signal<br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">otp</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      input<span class="token punctuation">.</span>value <span class="token operator">=</span> otp<span class="token punctuation">.</span>code<span class="token punctuation">;</span><br>      <span class="token comment">// Automatically submit the form when an OTP is obtained.</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>form<span class="token punctuation">)</span> form<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Photo by <a href="https://unsplash.com/photos/mZNRsYE9Qi4" rel="noopener">Jason Leung</a> on
<a href="https://unsplash.com" rel="noopener">Unsplash</a>.</p>


    

    
  <div class="w-chips ">
    
      
    
      
    
      
        
        <a class="w-chip" href="/tags/identity/">Identity</a>
      
    
      
        
        <a class="w-chip" href="/tags/security/">Security</a>
      
    
      
        
        <a class="w-chip" href="/tags/forms/">Forms</a>
      
    
      
    
  </div>


    <div class="w-post-github-link w-mt--l w-mb--l">
      <span class="w-mr--sm">
        
        Last updated: <time>Dec 9, 2020</time>
        
      </span>
      <a
        href="https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/blog/sms-otp-form/index.md"
      >
        Improve article
      </a>
       
    </div>

    
    <web-feedback additional-questions=""></web-feedback>
  </div>

  
    
    <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back
      w-article-navigation__link--single gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/blog"
  >
    Return to all articles
  </a>
</nav>
  
</div>

  </div>
</main>
<footer class="w-footer">
  <nav class="w-footer__linkboxes">
    <ul class="w-footer__linkboxes-list">
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Contribute</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
              class="w-footer__linkbox-link" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              File a bug
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/googlechrome/web.dev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              View source
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Related content</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://blog.chromium.org/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Chrome updates
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              Web Fundamentals
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/showcase/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
              Case studies
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://devwebfeed.appspot.com/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">
              DevWeb Content Firehose
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/podcasts/" class="w-footer__linkbox-link"
              data-category="Podcasts" data-label="Footer Link (index 5)">
              Podcasts
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/shows/" class="w-footer__linkbox-link"
              data-category="Shows" data-label="Footer Link (index 6)">
              Shows
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Connect</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://www.twitter.com/@ChromiumDev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Twitter
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://www.youtube.com/user/ChromeDevelopers" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              YouTube
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="w-footer__utility">
    <nav class="w-footer__utility-nav">
      <a href="https://developers.google.com/" class="w-footer__utility-logo-link"
        data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
        <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
          alt="Google Developers" />
      </a>
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developer.chrome.com/home"
            data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
            Chrome
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Firebase Link">
            Firebase
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Google Cloud Platform Link">
            Google Cloud Platform
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developers.google.com/products"
            data-category="Site-Wide Custom Events" data-label="Footer All products Link">
            All products
          </a>
        </li>
      </ul>
      <web-language-select current="en"></web-language-select>
    </nav>
    <nav class="w-footer__utility-nav">
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://policies.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Terms and Privacy link">
            Terms &amp; Privacy
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="/community-guidelines/" data-category="Site-Wide Custom Events"
            data-label="Footer Community Guidelines link">
            Community Guidelines
          </a>
        </li>
      </ul>
      <div class="w-footer__license">
        <p>
          Except as otherwise noted, the content of this page is licensed
          under the
          <a href="https://creativecommons.org/licenses/by/4.0/">
          Creative Commons Attribution 4.0 License</a>,
          and code samples are licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">
          Apache 2.0 License</a>. For details, see the
          <a href="https://developers.google.com/site-policies">
          Google Developers Site Policies</a>.
        </p>
      </div>
    </nav>
  </div>
</footer>

  </body>
</html>
