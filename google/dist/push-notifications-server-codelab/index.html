<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/css/main.css?v=59ef0a03134a8" />

    <link
      rel="preload"
      as="font"
      crossorigin
      href="/fonts/material-icons/regular.woff2"
    />

    <link
      rel="preload"
      as="font"
      crossorigin
      href="/fonts/google-sans/regular/latin.woff2"
    />
    <link
      rel="preload"
      as="font"
      crossorigin
      href="/fonts/google-sans/bold/latin.woff2"
    />

    <meta name="theme-color" content="#fff" />

    <title>Codelab: Build a push notification server</title>
    <meta
      name="description"
      content="A step-by-step interactive tutorial that shows you how to build a server that manages push notification subscriptions and sends web push protocol requests to a push service. "
    />

    <link
      rel="canonical"
      href="https://web.dev/push-notifications-server-codelab/"
    />

    <meta itemprop="name" content="Codelab: Build a push notification server" />
    <meta
      itemprop="description"
      content="A step-by-step interactive tutorial that shows you how to build a server that manages push notification subscriptions and sends web push protocol requests to a push service. "
    />
    <meta
      itemprop="image"
      content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:url"
      content="https://web.dev/push-notifications-server-codelab/"
    />
    <meta property="og:site_name" content="web.dev" />
    <meta
      property="og:title"
      content="Codelab: Build a push notification server"
    />
    <meta
      property="og:description"
      content="A step-by-step interactive tutorial that shows you how to build a server that manages push notification subscriptions and sends web push protocol requests to a push service. "
    />
    <meta
      property="og:image"
      content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto"
    />
    <meta property="og:image:alt" content="" />
    <meta property="tag" content="notifications" />
    <meta property="tag" content="progressive-web-apps" />
    <meta property="tag" content="mobile" />
    <meta property="tag" content="network" />
    <meta property="tag" content="capabilities" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Codelab: Build a push notification server"
    />
    <meta
      name="twitter:description"
      content="A step-by-step interactive tutorial that shows you how to build a server that manages push notification subscriptions and sends web push protocol requests to a push service. "
    />
    <meta
      name="twitter:image"
      content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto"
    />
    <link
      rel="alternate"
      href="/feed.xml"
      type="application/atom+xml"
      data-title="web.dev feed"
    />

    <link rel="manifest" href="/manifest.webmanifest" />

    <link rel="shortcut icon" href="/images/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="mask-icon"
      color="#0054ff"
      href="/images/safari-pinned-tab.svg"
    />

    <script>
      window.ga =
        window.ga ||
        function () {
          (ga.q = ga.q || []).push(arguments);
        };
      ga.l = +new Date();
      ga("create", "UA-126406676-2");
      ga("set", "transport", "beacon");
      ga("set", "anonymizeIp", true);
      ga("set", "page", window.location.pathname);
      ga("set", "dimension5", "4");
      ga("send", "pageview");
    </script>

    <script>
      function loadScript(url, type) {
        const s = document.createElement("script");
        s.src = url;
        if (type) {
          s.type = type;
        }
        if (type === "module") {
          s.async = false; // Preserve load order.
          const pre = document.createElement("link");
          pre.rel = "modulepreload";
          pre.href = url;
          document.head.append(pre);
          // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
          window.addEventListener("DOMContentLoaded", () => {
            document.head.append(s);
          });
        } else {
          document.head.append(s);
        }
      }
      loadScript("/js/app.js?v=cba034ae81bff", "module");

      loadScript("/js/content.js?v=415fe5a621243", "module");

      loadScript("https://www.google-analytics.com/analytics.js", null);
    </script>
  </head>
  <body class="unresolved">
    <web-snackbar-container></web-snackbar-container>

    <web-header class="header-default" role="navigation">
      <button
        data-open-drawer-button
        class="w-button--svg w-button--round"
        aria-label="Open menu"
      >
        <svg
          class="icon"
          role="img"
          aria-label="menu"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          height="24"
          width="24"
        >
          <path d="M0 0h24v24H0z" fill="none" />
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
        </svg>

        <span class="w-tooltip w-tooltip--left">Open menu</span>
      </button>

      <a
        href="/"
        class="header-default__logo-link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Site logo"
      >
        <img
          class="header-default__logo"
          width="125"
          height="30"
          src="/images/lockup.svg"
          alt="web.dev"
        />
      </a>

      <div class="header-default__middle">
        <div class="header-default__links">
          <a
            href="/learn/"
            class="header-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Tab: Learn"
          >
            Learn
          </a>

          <a
            href="/measure/"
            class="header-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Tab: Measure"
          >
            Measure
          </a>

          <a
            href="/blog/"
            class="header-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Tab: Blog"
          >
            Blog
          </a>

          <a
            href="/about/"
            class="header-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Tab: About"
          >
            About
          </a>
        </div>
        <web-search results-id="search-main-results"></web-search>
        <web-search-results id="search-main-results"></web-search-results>
      </div>

      <web-profile-switcher-container></web-profile-switcher-container>
    </web-header>

    <web-navigation-drawer class="drawer-default" type="modal">
      <nav data-drawer-container>
        <div class="drawer-default__contents">
          <div class="drawer-default__header">
            <button
              data-drawer-close-button
              class="drawer-default__hide w-button--svg w-button--round"
              aria-label="Close"
            >
              <svg
                class="icon"
                role="img"
                aria-label="close"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                height="24"
                width="24"
              >
                <path d="M0 0h24v24H0z" fill="none" />
                <path
                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                />
              </svg>

              <span class="w-tooltip">Close</span>
            </button>
            <a
              href="/"
              class="gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Site logo"
            >
              <img
                width="125"
                height="30"
                class="drawer-default__logo"
                src="/images/lockup.svg"
                alt="web.dev"
              />
            </a>
          </div>
          <a
            href="/learn/"
            class="drawer-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="SideNav: Learn"
          >
            Learn
          </a>
          <a
            href="/measure/"
            class="drawer-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="SideNav: Measure"
          >
            Measure
          </a>
          <a
            href="/blog/"
            class="drawer-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="SideNav: Blog"
          >
            Blog
          </a>
          <a
            href="/about/"
            class="drawer-default__link gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="SideNav: About"
          >
            About
          </a>
        </div>
      </nav>
    </web-navigation-drawer>

    <main>
      <div id="content">
        <div class="codelab-landing-page">
          <web-codelab glitch="push-notifications-server-codelab-incomplete">
            <div class="web-codelab__instructions">
              <h1 class="w-headline w-headline--two web-codelab__headline">
                Codelab: Build a push notification server
              </h1>

              <div class="w-author__published">
                <time>Nov 11, 2020</time>
                <span class="w-author__separator">•</span> Updated
                <time>Dec 6, 2020</time>
              </div>

              <div class="w-authors w-mt--xl w-pt--sm">
                <div class="w-author">
                  <a href="/authors/kaycebasques/"
                    ><img
                      alt="Kayce Basques"
                      class="w-author__image"
                      decoding="async"
                      height="64"
                      loading="lazy"
                      sizes="(min-width: 64px) 64px, calc(100vw - 48px)"
                      src="https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?auto=format&fit=crop&h=64&w=64"
                      srcset="
                        https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,
                        https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,
                        https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,
                        https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,
                        https://web-dev.imgix.net/image/admin/7GdPR4YDRHSS6llepBOd.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x
                      "
                      width="64"
                  /></a>
                  <div
                    class="w-author__info"
                    style="
                      display: flex;
                      flex-direction: column;
                      justify-content: center;
                    "
                  >
                    <cite class="w-author__name">
                      <a
                        class="w-author__name-link"
                        href="/authors/kaycebasques/"
                        >Kayce Basques</a
                      >
                    </cite>
                    <ul class="w-author__link-list">
                      <li class="w-author__link-listitem">
                        <a
                          class="w-author__link"
                          href="https://twitter.com/kaycebasques"
                          >Twitter</a
                        >
                      </li>
                      <li class="w-author__link-listitem">
                        <a
                          class="w-author__link"
                          href="https://github.com/kaycebasques"
                          >GitHub</a
                        >
                      </li>
                      <li class="w-author__link-listitem">
                        <a
                          class="w-author__link"
                          href="https://glitch.com/@kaycebasques"
                          >Glitch</a
                        >
                      </li>
                      <li class="w-author__link-listitem">
                        <a class="w-author__link" href="https://kayce.basqu.es/"
                          >Blog</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="w-author">
                  <a href="/authors/katejeffreys/"
                    ><img
                      alt="Kate Jeffreys"
                      class="w-author__image"
                      decoding="async"
                      height="64"
                      loading="lazy"
                      sizes="(min-width: 64px) 64px, calc(100vw - 48px)"
                      src="https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?auto=format&fit=crop&h=64&w=64"
                      srcset="
                        https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,
                        https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,
                        https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,
                        https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,
                        https://web-dev.imgix.net/image/admin/InS6CReujIoGmjKuOTaA.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x
                      "
                      width="64"
                  /></a>
                  <div
                    class="w-author__info"
                    style="
                      display: flex;
                      flex-direction: column;
                      justify-content: center;
                    "
                  >
                    <cite class="w-author__name">
                      <a
                        class="w-author__name-link"
                        href="/authors/katejeffreys/"
                        >Kate Jeffreys</a
                      >
                    </cite>
                  </div>
                </div>
              </div>

              <p>
                This codelab shows you, step-by-step, how to build a push
                notification server. By the end of the codelab you'll have a
                server that:
              </p>
              <ul>
                <li>
                  Keeps track of push notification subscriptions (i.e. the
                  server creates a new database record when a client opts in to
                  push notifications, and it deletes an existing database record
                  when a client opts out)
                </li>
                <li>Sends a push notification to a single client</li>
                <li>Sends a push notification to all subscribed clients</li>
              </ul>
              <p>
                This codelab is focused on helping you learn by doing and
                doesn't talk about concepts much. Check out
                <a href="/push-notifications-overview/#how"
                  >How do push notifications work?</a
                >
                to learn about push notification concepts.
              </p>
              <p>
                The client code of this codelab is already complete. You'll only
                be implementing the server in this codelab. To learn how to
                implement a push notification client, check out
                <a href="/push-notifications-client-codelab"
                  >Codelab: Build a push notification client</a
                >.
              </p>
              <p>
                Check out
                <a
                  href="https://push-notifications-server-codelab-complete.glitch.me/"
                  rel="noopener"
                  >push-notifications-server-codelab-complete</a
                >
                (<a
                  href="https://glitch.com/edit/#!/push-notifications-server-codelab-complete"
                  rel="noopener"
                  >source</a
                >) to see the complete code.
              </p>
              <h2 id="browser-compatibility">
                Browser compatibility
                <a class="w-headline-link" href="#browser-compatibility">#</a>
              </h2>
              <p>
                This codelab is known to work with the following operating
                system and browser combinations:
              </p>
              <ul>
                <li>Windows: Chrome, Edge</li>
                <li>macOS: Chrome, Firefox</li>
                <li>Android: Chrome, Firefox</li>
              </ul>
              <p>
                This codelab is known to <strong>not</strong> work with the
                following operating systems (or operating system and browser
                combinations):
              </p>
              <ul>
                <li>macOS: Brave, Edge, Safari</li>
                <li>iOS</li>
              </ul>
              <h2 id="stack">
                Application stack <a class="w-headline-link" href="#stack">#</a>
              </h2>
              <ul>
                <li>
                  The server is built on top of
                  <a href="https://expressjs.com/" rel="noopener">Express.js</a
                  >.
                </li>
                <li>
                  The
                  <a
                    href="https://www.npmjs.com/package/web-push"
                    rel="noopener"
                    >web-push</a
                  >
                  Node.js library handles all of the push notification logic.
                </li>
                <li>
                  Subscription data is written to a JSON file using
                  <a href="https://www.npmjs.com/package/lowdb" rel="noopener"
                    >lowdb</a
                  >.
                </li>
              </ul>
              <p>
                You don't have to use any of these technologies to implement
                push notifications. We chose these technologies because they
                provide a reliable codelab experience.
              </p>
              <h2 id="setup">
                Setup <a class="w-headline-link" href="#setup">#</a>
              </h2>
              <h3 id="remix">
                Get an editable copy of the code
                <a class="w-headline-link" href="#remix">#</a>
              </h3>
              <p>
                The code editor that you see to the right of these instructions
                will be called the <strong>Glitch UI</strong> throughout this
                codelab.
              </p>
              <ol>
                <li>
                  Click <strong>Remix to Edit</strong> to make the project
                  editable.
                </li>
              </ol>
              <h3 id="authentication">
                Set up authentication
                <a class="w-headline-link" href="#authentication">#</a>
              </h3>
              <p>
                Before you can get push notifications working, you need to set
                up your server and client with authentication keys. See
                <a href="/push-notifications-overview/#sign"
                  >Sign your web push protocol requests</a
                >
                to learn why.
              </p>
              <ol>
                <li>
                  Open the Glitch terminal by clicking
                  <strong>Tools</strong> and then clicking
                  <strong>Terminal</strong>.
                </li>
                <li>
                  In the terminal, run
                  <code>npx web-push generate-vapid-keys</code>. Copy the
                  private key and public key values.
                </li>
                <li>
                  Open <code>.env</code> and update
                  <code>VAPID_PUBLIC_KEY</code> and
                  <code>VAPID_PRIVATE_KEY</code>. Set
                  <code>VAPID_SUBJECT</code> to
                  <code>mailto:test@test.test</code>. All of these values should
                  be wrapped in double quotes. After making your updates, your
                  <code>.env</code> file should look similar to this:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-text"
                ><code class="language-text">VAPID_PUBLIC_KEY="BKiwTvD9HA…"<br>VAPID_PRIVATE_KEY="4mXG9jBUaU…"<br>VAPID_SUBJECT="mailto:test@test.test"</code></pre>
              </web-copy-code>
              <ol>
                <li>Close the Glitch terminal.</li>
              </ol>
              <div class="w-aside w-aside--gotchas">
                <strong>Gotchas!</strong>
                <p>
                  Environment variable values (the stuff in <code>.env</code>)
                  are unique to a single Glitch project. If you remix your
                  project, the values in <code>.env</code> won't get copied
                  over.
                </p>
              </div>
              <ol>
                <li>Open <code>public/index.js</code>.</li>
                <li>
                  Replace <code>VAPID_PUBLIC_KEY_VALUE_HERE</code> with the
                  value of your public key.
                </li>
              </ol>
              <h2 id="manage">
                Manage subscriptions
                <a class="w-headline-link" href="#manage">#</a>
              </h2>
              <p>
                Your client handles most of the subscription process. The main
                things your server needs to do are save new push notification
                subscriptions and delete old subscriptions. These subscriptions
                are what enable you to push messages to clients in the future.
                See
                <a href="/push-notifications-overview/#subscription"
                  >Subscribe the client to push notifications</a
                >
                for more context about the subscription process.
              </p>
              <h3 id="save">
                Save new subscription information
                <a class="w-headline-link" href="#save">#</a>
              </h3>
              <ol>
                <li>
                  To preview the site, press <strong>View App</strong>. Then
                  press
                  <strong>Fullscreen</strong>
                  <img
                    src="/images/glitch/fullscreen.svg"
                    alt="fullscreen"
                    style="
                      padding: 4px 8px;
                      opacity: 0.5;
                      border: 1px solid #c3c3c3;
                      border-radius: 5px;
                    "
                  />.
                </li>
              </ol>
              <div class="w-aside w-aside--key-term">
                <p>
                  <strong>Key Term</strong>: We'll refer to the tab that you
                  just opened as the <strong>app tab</strong>.
                </p>
              </div>
              <ol>
                <li>
                  Click <strong>Register service worker</strong> in the app tab.
                  In the status box you should see a message similar to this:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-text"
                ><code class="language-text">Service worker registered. Scope: https://desert-cactus-sunset.glitch.me/</code></pre>
              </web-copy-code>
              <ol>
                <li>
                  In the app tab click <strong>Subscribe to push</strong>. Your
                  browser or operating system will probably ask you if you want
                  to let the website send you push notifications. Click
                  <strong>Allow</strong> (or whatever equivalent phrase your
                  browser/OS uses). In the status box you should see a message
                  similar to this:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-text"
                ><code class="language-text">Service worker subscribed to push.  Endpoint: https://fcm.googleapis.com/fcm/send/…</code></pre>
              </web-copy-code>
              <div class="w-aside w-aside--note">
                <p>
                  The endpoint URL changes depending on what browser you're
                  using. For example, on Firefox the URL starts with
                  <code>https://updates.push.services.mozilla.com/…</code>.
                </p>
              </div>
              <ol>
                <li>
                  Go back to your code by clicking
                  <strong>View Source</strong> in the Glitch UI.
                </li>
                <li>
                  Open the Glitch Logs by clicking <strong>Tools</strong> and
                  then clicking <strong>Logs</strong>. You should see
                  <code>/add-subscription</code> followed by some data.
                  <code>/add-subscription</code> is the URL that the client
                  sends a
                  <a
                    href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST"
                    rel="noopener"
                    >POST</a
                  >
                  request to when it wants to subscribe to push notifications.
                  The data that follows is the client's subscription information
                  that you need to save.
                </li>
                <li>Open <code>server.js</code>.</li>
                <li>
                  Update the <code>/add-subscription</code> route handler logic
                  with the following code:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="highlight-line">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/add-subscription'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'/add-subscription'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><ins class="highlight-line highlight-line-add">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Subscribing </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'subscriptions'</span><span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><span class="highlight-line">  response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
              </web-copy-code>
              <div class="w-aside w-aside--note">
                <p>
                  The database writes to <code>.data/db.json</code>. To inspect
                  this file in Glitch, click <strong>Tools</strong>, then click
                  <strong>Terminal</strong>, then run
                  <code>cat .data/db.json</code> in the Terminal.
                  <code>.data/db.json</code> is deleted every time that you edit
                  your app. This is because Glitch runs the
                  <code>start</code> script in <code>package.json</code> every
                  time you edit your app, and that script includes a call to
                  <code>rm .data/db.json</code>.
                </p>
              </div>
              <h3 id="delete-old-subscription-information">
                Delete old subscription information
                <a
                  class="w-headline-link"
                  href="#delete-old-subscription-information"
                  >#</a
                >
              </h3>
              <ol>
                <li>Go back to the app tab.</li>
                <li>Click <strong>Unsubscribe from push</strong>.</li>
                <li>
                  Look at the Glitch Logs again. You should see
                  <code>/remove-subscription</code> followed by the client's
                  subscription information.
                </li>
                <li>
                  Update the <code>/remove-subscription</code> route handler
                  logic with the following code:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="highlight-line">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/remove-subscription'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'/remove-subscription'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><ins class="highlight-line highlight-line-add">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unsubscribing </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'subscriptions'</span><span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>endpoint<span class="token operator">:</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>endpoint<span class="token punctuation">}</span><span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><span class="highlight-line">  response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
              </web-copy-code>
              <h2 id="send-notifications">
                Send notifications
                <a class="w-headline-link" href="#send-notifications">#</a>
              </h2>
              <p>
                As explained in
                <a href="/push-notifications-overview/#send"
                  >Send a push message</a
                >, your server doesn't actually send the push messages directly
                to clients. Rather, it relies on a push service to do that. Your
                server basically just kicks off the process of pushing messages
                to clients by making web service requests (web push protocol
                requests) to a web service (the push service) owned by the
                browser vendor that your user uses.
              </p>
              <ol>
                <li>
                  Update the <code>/notify-me</code> route handler logic with
                  the following code:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="highlight-line">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/notify-me'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'/notify-me'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><ins class="highlight-line highlight-line-add">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Notifying </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token keyword">const</span> subscription <span class="token operator">=</span> </ins><br><ins class="highlight-line highlight-line-add">      db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'subscriptions'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>endpoint<span class="token operator">:</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>endpoint<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token function">sendNotifications</span><span class="token punctuation">(</span><span class="token punctuation">[</span>subscription<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><span class="highlight-line">  response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
              </web-copy-code>
              <ol>
                <li>
                  Update the <code>sendNotifications()</code> function with the
                  following code:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">sendNotifications</span><span class="token punctuation">(</span><span class="token parameter">subscriptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><del class="highlight-line highlight-line-remove">  <span class="token comment">// TODO</span></del><br><ins class="highlight-line highlight-line-add">  <span class="token comment">// Create the notification content.</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token keyword">const</span> notification <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">    title<span class="token operator">:</span> <span class="token string">"Hello, Notifications!"</span><span class="token punctuation">,</span></ins><br><ins class="highlight-line highlight-line-add">    options<span class="token operator">:</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">      body<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ID: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token punctuation">}</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token comment">// Customize how the push service should attempt to deliver the push message.</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token comment">// And provide authentication information.</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token constant">TTL</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span></ins><br><ins class="highlight-line highlight-line-add">    vapidDetails<span class="token operator">:</span> vapidDetails</ins><br><ins class="highlight-line highlight-line-add">  <span class="token punctuation">}</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token comment">// Send a push message to each client specified in the subscriptions array.</span></ins><br><ins class="highlight-line highlight-line-add">  subscriptions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">subscription</span> <span class="token operator">=></span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token keyword">const</span> endpoint <span class="token operator">=</span> subscription<span class="token punctuation">.</span>endpoint<span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token keyword">const</span> id <span class="token operator">=</span> endpoint<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> endpoint<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">    webpush<span class="token punctuation">.</span><span class="token function">sendNotification</span><span class="token punctuation">(</span>subscription<span class="token punctuation">,</span> notification<span class="token punctuation">,</span> options<span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=></span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Endpoint ID: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token punctuation">.</span>statusCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">      <span class="token punctuation">}</span><span class="token punctuation">)</span></ins><br><ins class="highlight-line highlight-line-add">      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Endpoint ID: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
              </web-copy-code>
              <ol>
                <li>
                  Update the <code>/notify-all</code> route handler logic with
                  the following code:
                </li>
              </ol>
              <web-copy-code>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="highlight-line">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/notify-all'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><del class="highlight-line highlight-line-remove">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'/notify-all'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><del class="highlight-line highlight-line-remove">  response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></del><br><ins class="highlight-line highlight-line-add">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Notifying all subscribers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token keyword">const</span> subscriptions <span class="token operator">=</span></ins><br><ins class="highlight-line highlight-line-add">      db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'subscriptions'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token keyword">if</span> <span class="token punctuation">(</span>subscriptions<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">    <span class="token function">sendNotifications</span><span class="token punctuation">(</span>subscriptions<span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">    response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">    response<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">409</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">  <span class="token punctuation">}</span></ins><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
              </web-copy-code>
              <ol>
                <li>Go back to the app tab.</li>
                <li>
                  Click <strong>Unsubscribe from push</strong> and then click
                  <strong>Subscribe to push</strong> again. This is only
                  necessary because, as mentioned before, Glitch restarts the
                  project every time you edit the code and the project is
                  configured to delete the database on startup.
                </li>
                <li>
                  Click <strong>Notify me</strong>. You should receive a push
                  notification. The title should be
                  <code>Hello, Notifications!</code> and the body should be
                  <code>ID: &lt;ID&gt;</code> where <code>&lt;ID&gt;</code> is a
                  random number.
                </li>
                <li>
                  Open your app on other browsers or devices and try subscribing
                  them to push notifications and then clicking the
                  <strong>Notify all</strong> button. You should receive the
                  same notification on all of your subscribed devices (i.e. the
                  ID in the body of the push notification should be the same).
                </li>
              </ol>
              <h2 id="next-steps">
                Next steps <a class="w-headline-link" href="#next-steps">#</a>
              </h2>
              <ul>
                <li>
                  Read
                  <a href="/push-notifications-overview"
                    >Push notifications overview</a
                  >
                  for a deeper conceptual understanding of how push
                  notifications work.
                </li>
                <li>
                  Check out
                  <a href="/push-notifications-client-codelab/"
                    >Codelab: Build a push notification client</a
                  >
                  to learn how to build a client that requests notification
                  permission, subscribes the device to receive push
                  notifications, and uses a service worker to receive push
                  messages and display the messages as notifications.
                </li>
              </ul>

              <nav class="w-article-navigation">
                <a
                  class="
                    w-article-navigation__link
                    w-article-navigation__link--back
                    w-article-navigation__link--single
                    gc-analytics-event
                  "
                  data-category="web.dev"
                  data-label="navigation, go back"
                  data-action="click"
                  href="/push-notifications-overview"
                >
                  Return to article
                </a>
              </nav>
            </div>
          </web-codelab>
        </div>
      </div>
    </main>
    <footer class="w-footer">
      <nav class="w-footer__linkboxes">
        <ul class="w-footer__linkboxes-list">
          <li class="w-footer__linkbox">
            <h3 class="w-footer__linkbox-heading">Contribute</h3>
            <ul class="w-footer__linkbox-list">
              <li class="w-footer__linkbox-item">
                <a
                  href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 1)"
                >
                  File a bug
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="https://github.com/googlechrome/web.dev"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 2)"
                >
                  View source
                </a>
              </li>
            </ul>
          </li>
          <li class="w-footer__linkbox">
            <h3 class="w-footer__linkbox-heading">Related content</h3>
            <ul class="w-footer__linkbox-list">
              <li class="w-footer__linkbox-item">
                <a
                  href="https://blog.chromium.org/"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 1)"
                >
                  Chrome updates
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="https://developers.google.com/web/"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 2)"
                >
                  Web Fundamentals
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="https://developers.google.com/web/showcase/"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 3)"
                >
                  Case studies
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="https://devwebfeed.appspot.com/"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 4)"
                >
                  DevWeb Content Firehose
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="/podcasts/"
                  class="w-footer__linkbox-link"
                  data-category="Podcasts"
                  data-label="Footer Link (index 5)"
                >
                  Podcasts
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="/shows/"
                  class="w-footer__linkbox-link"
                  data-category="Shows"
                  data-label="Footer Link (index 6)"
                >
                  Shows
                </a>
              </li>
            </ul>
          </li>
          <li class="w-footer__linkbox">
            <h3 class="w-footer__linkbox-heading">Connect</h3>
            <ul class="w-footer__linkbox-list">
              <li class="w-footer__linkbox-item">
                <a
                  href="https://www.twitter.com/@ChromiumDev"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 1)"
                >
                  Twitter
                </a>
              </li>
              <li class="w-footer__linkbox-item">
                <a
                  href="https://www.youtube.com/user/ChromeDevelopers"
                  class="w-footer__linkbox-link"
                  data-category="Site-Wide Custom Events"
                  data-label="Footer Link (index 2)"
                >
                  YouTube
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>

      <div class="w-footer__utility">
        <nav class="w-footer__utility-nav">
          <a
            href="https://developers.google.com/"
            class="w-footer__utility-logo-link"
            data-category="Site-Wide Custom Events"
            data-label="Footer Google Developers Link"
          >
            <img
              loading="lazy"
              width="185"
              height="33"
              class="w-footer__utility-logo"
              src="/images/lockup-color.png"
              alt="Google Developers"
            />
          </a>
          <ul class="w-footer__utility-list">
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="https://developer.chrome.com/home"
                data-category="Site-Wide Custom Events"
                data-label="Footer Chrome Link"
              >
                Chrome
              </a>
            </li>
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="https://firebase.google.com/"
                data-category="Site-Wide Custom Events"
                data-label="Footer Firebase Link"
              >
                Firebase
              </a>
            </li>
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="https://cloud.google.com/"
                data-category="Site-Wide Custom Events"
                data-label="Footer Google Cloud Platform Link"
              >
                Google Cloud Platform
              </a>
            </li>
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="https://developers.google.com/products"
                data-category="Site-Wide Custom Events"
                data-label="Footer All products Link"
              >
                All products
              </a>
            </li>
          </ul>
          <web-language-select current="en"></web-language-select>
        </nav>
        <nav class="w-footer__utility-nav">
          <ul class="w-footer__utility-list">
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="https://policies.google.com/"
                data-category="Site-Wide Custom Events"
                data-label="Footer Terms and Privacy link"
              >
                Terms &amp; Privacy
              </a>
            </li>
            <li class="w-footer__utility-item">
              <a
                class="w-footer__utility-link"
                href="/community-guidelines/"
                data-category="Site-Wide Custom Events"
                data-label="Footer Community Guidelines link"
              >
                Community Guidelines
              </a>
            </li>
          </ul>
          <div class="w-footer__license">
            <p>
              Except as otherwise noted, the content of this page is licensed
              under the
              <a href="https://creativecommons.org/licenses/by/4.0/">
                Creative Commons Attribution 4.0 License</a
              >, and code samples are licensed under the
              <a href="https://www.apache.org/licenses/LICENSE-2.0">
                Apache 2.0 License</a
              >. For details, see the
              <a href="https://developers.google.com/site-policies">
                Google Developers Site Policies</a
              >.
            </p>
          </div>
        </nav>
      </div>
    </footer>
  </body>
</html>
