
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
    <link rel="stylesheet" href="/css/main.css?v=3c95714923359">
  

  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>PWAs as URL Handlers</title>
<meta name="description" content="After registering a PWA as a URL handler, when a user clicks on a hyperlink that matches one of the registered URL patterns, the registered PWA will open. " />

<link rel="canonical" href="https://web.dev/pwa-url-handler/" />

<meta itemprop="name" content="PWAs as URL Handlers" />
<meta itemprop="description" content="After registering a PWA as a URL handler, when a user clicks on a hyperlink that matches one of the registered URL patterns, the registered PWA will open. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/pwa-url-handler/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="PWAs as URL Handlers" />
<meta property="og:description" content="After registering a PWA as a URL handler, when a user clicks on a hyperlink that matches one of the registered URL patterns, the registered PWA will open. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="Interconnected chains, symbolizing the handling of URLs. " />
<meta property="tag" content="capabilities" />
<meta property="tag" content="progressive-web-apps" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="PWAs as URL Handlers" />
<meta name="twitter:description" content="After registering a PWA as a URL handler, when a user clicks on a hyperlink that matches one of the registered URL patterns, the registered PWA will open. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>








<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=9c1dce7a886a9', 'module');




  loadScript('/js/content.js?v=358fad2a0e84f', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    



<web-header class="header-default" role="navigation">
  <button data-open-drawer-button class="w-button--svg w-button--round" aria-label="Open menu">
    








  










  <svg class="icon " role="img" aria-label="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>


    <span class="w-tooltip w-tooltip--left">Open menu</span>
  </button>

  <a
    href="/"
    class="header-default__logo-link gc-analytics-event"
    data-category="Site-Wide Custom Events"
    data-label="Site logo"
  >
    <img class="header-default__logo" width="125" height="30" src="/images/lockup.svg" alt="web.dev" />
  </a>

  <div class="header-default__middle">
    <div class="header-default__links">
      <a
        href="/learn/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
      >
        Learn
      </a>

      <a
        href="/measure/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
      >
        Measure
      </a>

      <a
        href="/blog/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
      >
        Blog
      </a>

      <a
        href="/about/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About"
      >
        About
      </a>
    </div>
    <web-search results-id="search-main-results"></web-search>
    <web-search-results id="search-main-results"></web-search-results>
  </div>

  <web-profile-switcher-container></web-profile-switcher-container>
</web-header>



<web-navigation-drawer class="drawer-default" type="modal">
  <nav data-drawer-container>
    <div class="drawer-default__contents">
      <div class="drawer-default__header">
        <button
          data-drawer-close-button
          class="drawer-default__hide w-button--svg w-button--round"
          aria-label="Close"
        >
          








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


          <span class="w-tooltip">Close</span>
        </button>
        <a
          href="/"
          class="gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Site logo"
        >
          <img
            width="125"
            height="30"
            class="drawer-default__logo"
            src="/images/lockup.svg"
            alt="web.dev"
          />
        </a>
      </div>
      <a
        href="/learn/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Learn"
      >
        Learn
      </a>
      <a
        href="/measure/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Measure"
      >
        Measure
      </a>
      <a
        href="/blog/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Blog"
      >
        Blog
      </a>
      <a
        href="/about/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: About"
      >
        About
      </a>
    </div>
  </nav>
</web-navigation-drawer>

<main>
  <div id="content">
    
      
    
    


<div class="guide-landing-page">
  
  

  
    <img     alt="Interconnected chains, symbolizing the handling of URLs."     class="w-hero w-hero--cover"     decoding="auto"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/tCdgaIMviiwzyggA2dBt.jpg?auto=format&w=1600 1600w"          width="1600"   />
  

  <web-table-of-contents>
    <h2 class="w-toc__header">
      <a href="#pwas-as-url-handlers" class="w-toc__header--link">
        PWAs as URL Handlers
      </a>
    </h2>
    <div class="w-toc__list">
        <ul><li><a href="#what">What is PWAs as URL Handlers?</a></li><li><a href="#use-cases">Suggested use cases for PWAs as URL Handlers</a></li><li><a href="#status">Current status</a></li><li><a href="#use">How to use PWAs as URL Handlers</a></li><li><a href="#enabling-via-about:flags">Enabling via about://flags</a></li><li><a href="#the-"url_handlers"-web-app-manifest-member">The &quot;url_handlers&quot; web app manifest member</a></li><li><a href="#the-web-app-origin-association-file">The web-app-origin-association file</a></li><li><a href="#demo">Demo</a></li><li><a href="#security-and-permissions">Security and permissions</a></li><li><a href="#user-control">User control</a></li><li><a href="#transparency">Transparency</a></li><li><a href="#permission-persistence">Permission persistence</a></li><li><a href="#feedback">Feedback</a></li><li><a href="#tell-us-about-the-api-design">Tell us about the API design</a></li><li><a href="#report-a-problem-with-the-implementation">Report a problem with the implementation</a></li><li><a href="#show-support-for-the-api">Show support for the API</a></li><li><a href="#helpful">Helpful links</a></li><li><a href="#acknowledgements">Acknowledgements</a></li></ul></div>
  </web-table-of-contents>
  <web-table-of-contents-button></web-table-of-contents-button>

  
  <div class="w-actions">
    <share-action authors="@tomayac"
      class="gc-analytics-event w-actions__fab w-actions__fab--share"
      data-category="web.dev"
      data-label="share"
      data-action="click"
      data-icon="share"
      tabindex="0"
      role="button"
    >
      <span>Share</span>
    </share-action>
    <a class="w-actions__fab w-actions__fab--subscribe gc-analytics-event" data-category="web.dev" data-label="view-subscribe" data-action="click" href="/newsletter/">
  <span>subscribe</span>
</a>

  </div>

  <div class="w-layout-container--narrow w-post-content">
    <header class="w-article-header">
      
        <div class="w-post-breadcrumbs">
          <ul class="w-breadcrumbs">
  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link w-breadcrumbs__link--left-justify gc-analytics-event"
      data-category="web.dev"
      data-label="post, home breadcrumb"
      data-action="click"
      href="/"
    >
      Home
    </a>
  </li>

  <svg
    class="w-breadcrumbs__icon"
    xmlns="http://www.w3.org/2000/svg"
    height="24"
    viewBox="0 0 24 24"
    width="24"
    aria-hidden="true"
  >
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" />
  </svg>

  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link gc-analytics-event"
      data-category="web.dev"
      data-label="post, path breadcrumb"
      data-action="click"
      href=/blog
    >
      All articles
    </a>
  </li>
</ul>
        </div>
      

      <h1 id="pwas-as-url-handlers" class="w-article-header__headline">PWAs as URL Handlers</h1>
      
        <p class="w-article-header__subhead w-mb--non">
          <p>Let installed PWAs handle URLs for a more integrated experience.</p>

        </p>
      

      
        <div class="w-author__published">
          <time>Jun 3, 2021</time>
           <span class="w-author__separator">â€¢</span> Updated <time>Jun 29, 2021</time> 
        </div>
      
      

      
        <div class="w-authors w-mt--xl w-pt--sm">
          
            <div class="w-author">
  <a href="/authors/thomassteiner/"><img     alt="Thomas Steiner"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /></a>
  <div
    class="w-author__info"
    style="display: flex; flex-direction: column; justify-content: center;"
  >
    <cite class="w-author__name">
      <a class="w-author__name-link" href="/authors/thomassteiner/">Thomas Steiner</a>
    </cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/tomayac"
          >Twitter</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/tomayac">GitHub</a>
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://glitch.com/@tomayac"
          >Glitch</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://blog.tomayac.com/">Blog</a>
      </li>
    </ul>
  </div>
</div>
          
        </div>
      
    </header>

    

    <div class="w-aside w-aside--note">
<p>PWAs as URL Handlers is part of the <a href="https://web.dev/fugu-status/">capabilities project</a>
and is currently in development. This post will be updated as the implementation progresses.</p>
</div>
<h2 id="what">What is PWAs as URL Handlers? <a class="w-headline-link" href="#what">#</a></h2>
<p>Imagine you are chatting with a friend using an instant messenger application like Messages on macOS
and you are talking about music. Further imagine you both have the <code>music.example.com</code> PWA installed
on your devices. If you want to share your favorite track for your friend to enjoy, you can send
them a deep link like <code>https://music.example.com/rick-astley/never-gonna-give-you-up</code>. Since this
link is pretty long, the developers of <code>music.example.com</code> may have decided to add an additional
short link to each track, like, for example, <code>https://ðŸŽµ.example.com/r-a/n-g-g-y-u</code>.</p>
<p>PWA as URL Handlers allows apps like <code>music.example.com</code> to register themselves as URL handlers for
URLs that match patterns like <code>https://music.example.com</code>, <code>https://*.music.example.com</code>, or
<code>https://ðŸŽµ.example.com</code>, so
that links from outside of the PWA, for example, from an instant messenger application or an email
client, open in the installed PWA rather than in a browser tab.</p>
<p>PWA as URL Handlers consists of two additions:</p>
<ol>
<li>The <code>&quot;url_handlers&quot;</code> web app manifest member.</li>
<li>The <code>web-app-origin-association</code> file format for validating in- and out-of-scope URL associations.</li>
</ol>
<h3 id="use-cases">Suggested use cases for PWAs as URL Handlers <a class="w-headline-link" href="#use-cases">#</a></h3>
<p>Examples of sites that may use this API include:</p>
<ul>
<li>Music or video streaming sites so track links or playlist links open in the player experience of
the app.</li>
<li>News or RSS readers so followed or subscribed-to sites open in the app's reader mode.</li>
</ul>
<h2 id="status">Current status <a class="w-headline-link" href="#status">#</a></h2>
<div class="w-table-wrapper">
<div class="w-table-wrapper">
<table>
<thead>
<tr>
<th>Step</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Create explainer</td>
<td><a href="https://github.com/WICG/pwa-url-handler/blob/main/explainer.md" rel="noopener">Complete</a></td>
</tr>
<tr>
<td>2. Create initial draft of specification</td>
<td>Not started</td>
</tr>
<tr>
<td>3. Gather feedback &amp; iterate on design</td>
<td><a href="#feedback">In progress</a></td>
</tr>
<tr>
<td>4. Origin trial</td>
<td>Not started</td>
</tr>
<tr>
<td>5. Launch</td>
<td>Not started</td>
</tr>
</tbody>
</table>
</div></div>
<h2 id="use">How to use PWAs as URL Handlers <a class="w-headline-link" href="#use">#</a></h2>
<h3 id="enabling-via-about:flags">Enabling via about://flags <a class="w-headline-link" href="#enabling-via-about:flags">#</a></h3>
<p>To experiment with PWAs as URL Handlers locally, without an origin trial token, enable the
<code>#enable-desktop-pwas-url-handling</code> flag in <code>about://flags</code>.</p>
<div class="w-aside w-aside--note">
<p>Support for the PWAs as URL Handlers feature is limited to desktop operating systems
like Windows, macOS, and Linux. On Android, Chromium browsers install PWAs by generating a
<a href="https://developers.google.com/web/fundamentals/integration/webapks" rel="noopener">WebAPK</a>, which can register a
set of intent filters for all URLs within the scope of the app. This means that PWAs already handle
associated URLs on Android at the operating system level using intent filters. </div></p>
<h3 id="the-&quot;url_handlers&quot;-web-app-manifest-member">The <code>&quot;url_handlers&quot;</code> web app manifest member <a class="w-headline-link" href="#the-&quot;url_handlers&quot;-web-app-manifest-member">#</a></h3>
<p>To associate an installed PWA with URL patterns, these patterns need to be specified in the web app
manifest. This happens through the <code>&quot;url_handlers&quot;</code> member. It accepts an array of objects with an
<code>origin</code> property, which is a required <code>string</code> that is a pattern for matching origins. These
patterns are allowed to have a wildcard (<code>*</code>) prefix in order to include multiple sub-domains (like
<code>https://*.example.com</code>). URLs that match these origins could be handled by this web app. The scheme is
always assumed to be <code>https://</code>, but it needs to be explicitly mentioned.</p>
<p>The excerpt of a web app manifest below shows how the music PWA example from the introductory
paragraph could set this up. The second entry with the wildcard (<code>&quot;https://*.music.example.com&quot;</code>) makes sure
that the app also gets activated for <code>https://www.music.example.com</code> or potential other examples like
<code>https://marketing-activity.music.example.com</code>.</p>
<web-copy-code><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"url_handlers"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"origin"</span><span class="token operator">:</span> <span class="token string">"https://music.example.com"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"origin"</span><span class="token operator">:</span> <span class="token string">"https://*.music.example.com"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"origin"</span><span class="token operator">:</span> <span class="token string">"https://ðŸŽµ.example.com"</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><div class="w-aside w-aside--note">
<p>While in an online scenario, short links from <code>https://ðŸŽµ.example.com</code> would typically be
redirected to <code>https://music.example.com</code>. Such navigation redirection is not a good alternative with
respect to offline scenarios. Therefore the app needs to register for both origins. </div></p>
<h3 id="the-web-app-origin-association-file">The <code>web-app-origin-association</code> file <a class="w-headline-link" href="#the-web-app-origin-association-file">#</a></h3>
<p>Since the PWA lives on a different origin (<code>music.example.com</code>) than some of the URLs it needs to
handle (e.g., <code>https://ðŸŽµ.example.com</code>), the app needs to verify ownership of these other origins. This
happens in a <code>web-app-origin-association</code> file hosted on the other origins.</p>
<p>This file must contain valid JSON. The top-level structure is an object, with a member named
<code>&quot;web_apps&quot;</code>. This member is an array of objects and each object represents an entry for a unique
web app. Each object contains:</p>
<div class="w-table-wrapper">
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Type</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;manifest&quot;</code></td>
<td>(Required) URL string of the web app manifest of the associated PWA</td>
<td><code>string</code></td>
<td>N/A</td>
</tr>
<tr>
<td><code>&quot;details&quot;</code></td>
<td>(Optional) An object that contains arrays of included and excluded URL patterns</td>
<td><code>object</code></td>
<td>N/A</td>
</tr>
</tbody>
</table>
</div><p>Each <code>&quot;details&quot;</code> object contains:</p>
<div class="w-table-wrapper">
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Type</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;paths&quot;</code></td>
<td>(Optional) Array of allowed path strings</td>
<td><code>string[]</code></td>
<td><code>[]</code></td>
</tr>
<tr>
<td><code>&quot;exclude_paths&quot;</code></td>
<td>(Optional) Array of disallowed path strings</td>
<td><code>string[]</code></td>
<td><code>[]</code></td>
</tr>
</tbody>
</table>
</div><p>An example <code>web-app-origin-association</code> file for the music PWA example from above is given below. It
would be hosted on the origin <code>ðŸŽµ.example.com</code> and establishes the association with the
<code>music.example.com</code> PWA, identified by its web app manifest URL.</p>
<web-copy-code><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"web_apps"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"manifest"</span><span class="token operator">:</span> <span class="token string">"https://music.example.com/manifest.json"</span><span class="token punctuation">,</span><br>      <span class="token property">"details"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"/*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token property">"exclude_paths"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"/internal/*"</span><span class="token punctuation">]</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><div class="w-aside w-aside--note">
<p>The <code>web-app-origin-association</code> file is similar to
<a href="https://developer.apple.com/documentation/safariservices/supporting_associated_domains_in_your_app#3001215" rel="noopener">Apple's associated domain file</a>,
<a href="https://developer.android.com/training/app-links/verify-site-associations" rel="noopener">Android's <code>assetlinks.json</code> file</a>,
and
<a href="https://docs.microsoft.com/en-us/windows/uwp/launch-resume/web-to-app-linking#associate-your-app-and-website-with-a-json-file" rel="noopener">Windows' <code>windows-app-web-link</code> file</a>.
What differs is that the <code>web-app-origin-association</code> file does not reference PWAs using a
platform-specific app ID, but by their web app manifest URL. </div></p>
<h4 id="when-does-a-url-match">When does a URL match? <a class="w-headline-link" href="#when-does-a-url-match">#</a></h4>
<p>A PWA matches a URL for handling if both of the following conditions are fulfilled:</p>
<ul>
<li>The URL matches one of the origin strings in <code>&quot;url_handlers&quot;</code>.</li>
<li>The browser is able to validate via the respective <code>web-app-origin-association</code> file that each
origin agrees to let this app handle such a URL.</li>
</ul>
<h4 id="regarding-web-app-origin-association-file-discovery">Regarding <code>web-app-origin-association</code> file discovery <a class="w-headline-link" href="#regarding-web-app-origin-association-file-discovery">#</a></h4>
<p>For the browser to discover the <code>web-app-origin-association</code> file, developers need to
place the <code>web-app-origin-association</code> file in the
<a href="https://datatracker.ietf.org/doc/html/rfc8615" rel="noopener"><code>/.well-known/</code></a> folder at the root of the app.
For this to work, the file name must exactly be <code>web-app-origin-association</code>.</p>
<h2 id="demo">Demo <a class="w-headline-link" href="#demo">#</a></h2>
<p>To test PWAs as URL Handlers, be sure to <a href="#enabling-via-about:flags">set the browser flag</a> as
outlined above and then install the PWA at
<a href="https://mandymsft.github.io/pwa/" rel="noopener">https://mandymsft.github.io/pwa/</a>. By looking at its
<a href="https://github.com/mandymsft/pwa/blob/main/manifest.json" rel="noopener">web app manifest</a>, you can see that it
handles URLs with the following URL patterns: <code>https://mandymsft.github.io</code> and
<code>https://luhuangmsft.github.io</code>. Since the latter is on a different origin (<code>luhuangmsft.github.io</code>)
than the PWA, the PWA on <code>mandymsft.github.io</code> needs to prove ownership, which happens via the
<code>web-app-origin-association</code> file hosted at
<a href="https://luhuangmsft.github.io/.well-known/web-app-origin-association" rel="noopener">https://luhuangmsft.github.io/.well-known/web-app-origin-association</a>.</p>
<p>To test that it is indeed working, send yourself a test message using an instant messaging app of
your choice or an email viewed in an email client that is not web-based like Mail on macOS. The
email or text message should contain either of the links <code>https://mandymsft.github.io</code> or
<code>https://luhuangmsft.github.io</code>. Both should open in the installed PWA.</p>
<img     alt="The Windows Skype instant messenger app next to the installed demo PWA, which is opened in standalone mode after clicking a link handled by it in a Skype chat message."          decoding="async"     height="498"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format"     srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/EjFQNwv2IfINKykzsxxs.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="security-and-permissions">Security and permissions <a class="w-headline-link" href="#security-and-permissions">#</a></h2>
<p>The Chromium team has designed and implemented PWAs as URL Handlers using the core principles
defined in <a href="https://chromium.googlesource.com/chromium/src/+/lkgr/docs/security/permissions-for-powerful-web-platform-features.md" rel="noopener">Controlling Access to Powerful Web Platform Features</a>, including user
control, transparency, and ergonomics.</p>
<h3 id="user-control">User control <a class="w-headline-link" href="#user-control">#</a></h3>
<p>If more than one PWA registers as a URL handler for a given URL pattern, the user will be prompted
to choose which PWA they want to handle the pattern withâ€”if any at all. Navigations that start in a
browser tab are not handled by this proposal, it is explicitly aimed at navigations that start
outside of the browser.</p>
<h3 id="transparency">Transparency <a class="w-headline-link" href="#transparency">#</a></h3>
<p>If the necessary association validation cannot be completed successfully during PWA installation for
any reason, the browser will not register the app as an active URL handler for the affected URLs.
URL handlers, if improperly implemented, can be used to hijack traffic for websites. This is why the
app association mechanism is an important part of the scheme.</p>
<p>Platform-specific applications can already use operating system APIs to enumerate installed
applications on the user's system. For example, applications on Windows can use the
<a href="https://docs.microsoft.com/en-us/uwp/api/windows.system.launcher.findappurihandlersasync" rel="noopener"><code>FindAppUriHandlersAsync</code></a>
API to enumerate URL handlers. If PWAs register as OS level URL handlers in Windows, their presence
would be visible to other applications.</p>
<h3 id="permission-persistence">Permission persistence <a class="w-headline-link" href="#permission-persistence">#</a></h3>
<p>An origin could modify its associations with PWAs at any time. Browsers will regularly attempt to
revalidate the associations of installed web apps. If a URL handler registration fails to revalidate
because the association data has changed or is no longer available, the browser will remove
registrations.</p>
<h2 id="feedback">Feedback <a class="w-headline-link" href="#feedback">#</a></h2>
<p>The Chromium team wants to hear about your experiences with the PWAs as URL Handlers.</p>
<h3 id="tell-us-about-the-api-design">Tell us about the API design <a class="w-headline-link" href="#tell-us-about-the-api-design">#</a></h3>
<p>Is there something about the API that doesn't work like you expected? Or are there missing methods
or properties that you need to implement your idea? Have a question or comment on the security
model? File a spec issue on the corresponding <a href="https://github.com/WICG/pwa-url-handler/issues" rel="noopener">GitHub repo</a>, or add your thoughts to an
existing issue.</p>
<h3 id="report-a-problem-with-the-implementation">Report a problem with the implementation <a class="w-headline-link" href="#report-a-problem-with-the-implementation">#</a></h3>
<p>Did you find a bug with Chromium's implementation? Or is the implementation different from the spec?
File a bug at <a href="https://new.crbug.com" rel="noopener">new.crbug.com</a>. Be sure to include as much detail as you can,
simple instructions for reproducing, and enter <code>UI&gt;Browser&gt;WebAppInstalls</code> in the <strong>Components</strong>
box. <a href="https://glitch.com/" rel="noopener">Glitch</a> works great for sharing quick and easy repros.</p>
<h3 id="show-support-for-the-api">Show support for the API <a class="w-headline-link" href="#show-support-for-the-api">#</a></h3>
<p>Are you planning to use PWAs as URL Handlers? Your public support helps the Chromium team prioritize
features and shows other browser vendors how critical it is to support them.</p>
<p>Send a tweet to <a href="https://twitter.com/ChromiumDev" rel="noopener">@ChromiumDev</a> using the hashtag
<a href="https://twitter.com/search?q=%23URLHandlers&amp;src=recent_search_click&amp;f=live" rel="noopener"><code>#URLHandlers</code></a> and let
us know where and how you're using it.</p>
<h2 id="helpful">Helpful links <a class="w-headline-link" href="#helpful">#</a></h2>
<ul>
<li><a href="https://github.com/WICG/pwa-url-handler/blob/main/explainer.md" rel="noopener">Public explainer</a></li>
<li><a href="https://mandymsft.github.io/pwa/" rel="noopener">Demo</a> | <a href="https://github.com/mandymsft/pwa/" rel="noopener">Demo source</a></li>
<li><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1072058" rel="noopener">Chromium tracking bug</a></li>
<li><a href="https://chromestatus.com/feature/5739732661174272" rel="noopener">ChromeStatus.com entry</a></li>
<li>Blink Component: <a href="https://bugs.chromium.org/p/chromium/issues/list?q=component:UI%3EBrowser%3EWebAppInstalls" rel="noopener"><code>UI&gt;Browser&gt;WebAppInstalls</code></a></li>
<li><a href="https://github.com/w3ctag/design-reviews/issues/552" rel="noopener">TAG Review</a></li>
<li><a href="https://docs.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/experimental-features/#url-link-handling" rel="noopener">Microsoft documentation</a></li>
</ul>
<h2 id="acknowledgements">Acknowledgements <a class="w-headline-link" href="#acknowledgements">#</a></h2>
<p>PWAs as URL Handlers was specified and implemented by <a href="https://github.com/LuHuangMSFT" rel="noopener">Lu Huang</a> and <a href="https://github.com/mandymsft" rel="noopener">Mandy Chen</a> from the Microsoft Edge team.
This article was reviewed by
<a href="https://github.com/jpmedley" rel="noopener">Joe Medley</a>.
Hero image by <a href="https://unsplash.com/@trhammerhead" rel="noopener">Bryson Hammer</a> on
<a href="https://unsplash.com/photos/JZ8AHFr2aEg" rel="noopener">Unsplash</a>.</p>


    

    
  <div class="w-chips ">
    
      
    
      
    
      
        
        <a class="w-chip" href="/tags/capabilities/">Capabilities</a>
      
    
      
        
        <a class="w-chip" href="/tags/progressive-web-apps/">Progressive Web Apps</a>
      
    
  </div>


    <div class="w-post-github-link w-mt--l w-mb--l">
      <span class="w-mr--sm">
        
        Last updated: <time>Jun 29, 2021</time>
        
      </span>
      <a
        href="https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/blog/pwa-url-handler/index.md"
      >
        Improve article
      </a>
       
    </div>

    
    <web-feedback additional-questions=""></web-feedback>
  </div>

  
    
    <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back
      w-article-navigation__link--single gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/blog"
  >
    Return to all articles
  </a>
</nav>
  
</div>

  </div>
</main>
<footer class="w-footer">
  <nav class="w-footer__linkboxes">
    <ul class="w-footer__linkboxes-list">
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Contribute</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
              class="w-footer__linkbox-link" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              File a bug
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/googlechrome/web.dev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              View source
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Related content</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://blog.chromium.org/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Chrome updates
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              Web Fundamentals
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/showcase/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
              Case studies
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://devwebfeed.appspot.com/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">
              DevWeb Content Firehose
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/podcasts/" class="w-footer__linkbox-link"
              data-category="Podcasts" data-label="Footer Link (index 5)">
              Podcasts
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/shows/" class="w-footer__linkbox-link"
              data-category="Shows" data-label="Footer Link (index 6)">
              Shows
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Connect</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://www.twitter.com/@ChromiumDev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Twitter
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://www.youtube.com/user/ChromeDevelopers" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              YouTube
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="w-footer__utility">
    <nav class="w-footer__utility-nav">
      <a href="https://developers.google.com/" class="w-footer__utility-logo-link"
        data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
        <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
          alt="Google Developers" />
      </a>
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developer.chrome.com/home"
            data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
            Chrome
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Firebase Link">
            Firebase
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Google Cloud Platform Link">
            Google Cloud Platform
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developers.google.com/products"
            data-category="Site-Wide Custom Events" data-label="Footer All products Link">
            All products
          </a>
        </li>
      </ul>
      <web-language-select current="en"></web-language-select>
    </nav>
    <nav class="w-footer__utility-nav">
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://policies.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Terms and Privacy link">
            Terms &amp; Privacy
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="/community-guidelines/" data-category="Site-Wide Custom Events"
            data-label="Footer Community Guidelines link">
            Community Guidelines
          </a>
        </li>
      </ul>
      <div class="w-footer__license">
        <p>
          Except as otherwise noted, the content of this page is licensed
          under the
          <a href="https://creativecommons.org/licenses/by/4.0/">
          Creative Commons Attribution 4.0 License</a>,
          and code samples are licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">
          Apache 2.0 License</a>. For details, see the
          <a href="https://developers.google.com/site-policies">
          Google Developers Site Policies</a>.
        </p>
      </div>
    </nav>
  </div>
</footer>

  </body>
</html>
