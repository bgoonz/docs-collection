<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Contributing</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Contributing</h1>
    </header>
    <p>
      While this contributing guide is for GitHub employees, all contributions
      from the community are welcome.
    </p>
    <h2 id="decision-process-for-adding-new-styles">
      Decision process for adding new styles
    </h2>
    <h3 id="components">Components</h3>
    <p>
      <a href="/components">Components</a> are frequently used visual patterns
      we’ve abstracted into a set of convenient styles, that would be otherwise
      difficult to achieve with utilities and layout objects.
    </p>
    <p>
      Decisions to add new components are made on a case-by-case basis, with
      help from the GitHub Design Systems team. Some questions that we use to
      guide these decisions include:
    </p>
    <ul>
      <li>How often is this pattern used across the site?</li>
      <li>
        Could these styles be achieved with existing components, objects, and
        utilities?
      </li>
      <li>
        If your design is difficult to compose with current styles, does this
        highlight problems with existing components (such as overly-specific
        components, or missing objects and utilities)?
      </li>
      <li>
        Is this a totally new pattern or should it be an extension of an
        existing component?
      </li>
      <li>
        How is this pattern being implemented currently - have you identified
        problems with it’s current implementation that can be improved with
        adding a new pattern?
      </li>
      <li>
        Is the desire for this new pattern a side-effect of lacking
        documentation or misunderstanding of use with current styles?
      </li>
      <li>
        Are there special factors that need to be considered as to why the this
        pattern needs it’s own styles? Such legal issues, usability issues, or
        branding and trademarks?
      </li>
      <li>
        Is this something that would be better handled by other front-end code
        rather than CSS?
      </li>
      <li>
        Every new addition of CSS means we ask our users to download a larger
        CSS file, and we increase the maintenance work of our CSS framework.
        Does the convenience of adding these new styles outweigh those costs?
      </li>
    </ul>
    <h3 id="objects-and-utilities">Objects and utilities</h3>
    <p>
      Many of the same questions can be applied to objects and utilities,
      however the purpose of these styles is different:
    </p>
    <ul>
      <li>
        <a href="/objects">Objects</a> aren’t concerned with thematic styles.
        They are for common display and positioning styles we find in page
        layouts and common content types.
      </li>
      <li>
        <a href="/utilities">Utilities</a> do one thing well and one thing only.
        These styles are immutable and therefore often use the
        <code>!important</code> tag. For this reason we aim not to change the
        properties of utilities very often. They often form the building blocks
        of our pages and when we introduce new ones we need to do so with care
        as we’ll likely need to live with these styles for a long time. When
        assessing whether there is a need to add a new utility, consider these
        additional questions:
        <ul>
          <li>
            How does this new utility fit within our existing set of utilities?
            If it is an addition to an existing set then it should follow the
            same naming convention.
          </li>
          <li>
            Is it for a property that would likely need to be changed at
            different breakpoints? If so it may need responsive options.
          </li>
          <li>
            If this style is part of a family of properties, do we need to
            consider adding the full set? Reasons for adding a full set could be
            that the other property values are often used, or that there would
            be a need to switch the property on and off (such as display or
            visibility).
          </li>
          <li>
            Does introducing this new utility cause any clashes or potential
            confusion with the use of existing utilities? If so, what steps can
            we take to avoid those issues.
          </li>
          <li>
            Does the utility have a connection with a set of variables? If so do
            the corresponding variables need to be updated?
          </li>
        </ul>
      </li>
    </ul>
    <h2 id="step-by-step-instructions-for-adding-new-styles">
      Step-by-step instructions for adding new styles
    </h2>
    <h3 id="step-1-open-an-issue">Step 1: Open an issue</h3>
    <p>
      It’s usually better to open an issue before investing time in spiking out
      a new pattern. This gives the design systems team a heads up and allows
      other designers to share thoughts. Here’s an outline of what’s helpful to
      include in a new style issue:
    </p>
    <ol type="1">
      <li>
        What the pattern is, and how it’s being used on GitHub.com. Post
        screenshots and/or URLs whenever possible. If you need help identifying
        where the pattern is used, call that out in the issue.
      </li>
      <li>
        Why you think a new pattern is needed (this should answer the relevant
        questions above).
      </li>
      <li>
        If you intend to work on these new styles yourself, let us know what
        your timeline and next steps are. If you need help and this is a
        dependency for shipping another project, please make that clear here and
        what the timeline is.
      </li>
      <li>
        Add the appropriate label(s):
        <ul>
          <li><code>Type: Enhancement</code> for new styles</li>
          <li><code>Type: Bug Fix</code> for—you guessed it!—bug fixes</li>
          <li><code>Type: Polish</code> for refactors of existing styles</li>
          <li>
            <code>Type: Breaking Change</code> for any change that
            <a href="#removing-styles-and-variables"
              >removes CSS selectors or SCSS variables</a
            >
          </li>
        </ul>
      </li>
    </ol>
    <h3 id="step-2-design-and-build-the-new-styles">
      Step 2: Design and build the new styles
    </h3>
    <ul>
      <li>
        You may want to explore the visual design for a new component before
        spiking it out in code. If so, continue in the issue and post your
        design mockups. Using our
        <a href="https://codepen.io/team/GitHub/pen/xYLdZd">CodePen template</a>
        could also be a good option, it pulls in Primer CSS so you can explore
        options in isolation before jumping into production code.
      </li>
      <li>
        When you’re ready, spike out a branch and build out your new component,
        object, or utilities according to the style guide principles, ensuring
        you follow our naming convention for each of the styles.
      </li>
      <li>
        Refactor parts of the product where you think those new styles could be
        used to test they work for each use case. This does not mean for every
        instance, but enough of the key use cases to be sure the styles are
        flexible enough. To avoid blowing out your initial pull request we
        recommend you do larger amounts of refactoring in an additional branch.
      </li>
      <li>
        When you’re ready for review, add the
        <code>status: review needed</code> and the
        <code>design-systems</code> labels to your pull request. Follow the
        <a href="#ship-checklist">ship checklist</a> for additional shipping
        steps.
      </li>
    </ul>
    <h3 id="step-3-follow-up-with-refactoring">
      Step 3: Follow up with refactoring
    </h3>
    <p>
      New styles we add should be used in as many places as makes sense to in
      production. Often it takes time to refactor all instances to use the new
      styles in one pr, but you should ensure this is followed up on.
    </p>
    <ul>
      <li>
        Add a tracking issue to the design systems repo with the label
        <code>type: refactor</code>. Add a task list with links to the code or
        pages that need updating. If you need help, request help in this issue.
      </li>
      <li>
        Follow up with as many refactoring pull requests as you can make time
        for. This is an important part of the process and helps us reduce CSS
        bloat. Think of it as the project isn’t finished until the new styles
        are being used everywhere they should be in production.
      </li>
    </ul>
    <h3 id="step-4-feel-awesome">Step 4: Feel awesome</h3>
    <p>
      If you get to this step you’ve helped contribute to a style guide that
      many of your colleagues use on a daily basis, you’ve contributed to an
      open source project that’s referenced and used by many others, and you’ve
      helped improve the usability and consistency of GitHub for our users.
      Thank you!
    </p>
    <p>
      <a href="#step-1-open-an-issue">Please open an issue</a> if we can improve
      these guidelines and make following this process any easier.
    </p>
    <h2 id="removing-styles-and-variables">Removing styles and variables</h2>
    <p>
      Removing styles and SCSS variables can be scary. How do you know if the
      thing you’re deleting (or just planning to delete) isn’t used in other
      projects? <a href="https://semver.org">Semantic versioning</a> provides us
      with an answer: We <strong>don’t</strong> know, but we can use “major”
      version increments (from, say, <code>13.4.0</code> to <code>14.0.0</code>)
      to signal that the release includes potentially breaking changes. The rule
      is simple:
    </p>
    <p>
      <strong
        >Whenever we delete a CSS selector or SCSS variable, we will increment
        to the next major version.</strong
      >
    </p>
    <p>When planning to delete a CSS selector or SCSS variable, you should:</p>
    <ol type="1">
      <li>
        <p>
          Add a <a href="#primer-csstodo">TODO@version comment</a> above the
          line in question:
        </p>
        <pre class="scss"><code>// TODO@15.0.0: delete $some-unused-var
$some-unused-var: 15px !default;</code></pre>
      </li>
      <li>
        <p>
          Add it to
          <a href="https://github.com/primer/css/tree/main/deprecations.js"
            >deprecations.js</a
          >:
        </p>
        <div class="sourceCode" id="cb2">
          <pre
            class="sourceCode js"
          ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> versionDeprecations <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="st">&#39;15.0.0&#39;</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="dt">variables</span><span class="op">:</span> [<span class="st">&#39;$some-unused-var&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="dt">message</span><span class="op">:</span> <span class="st">&#39;$some-unused-var is unused, and has been deprecated.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb2-7" title="7">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="op">};</span></a></code></pre>
        </div>
      </li>
    </ol>
    <p>
      We have several checks and tools in place to help us plan, track, and
      catch both expected and unexpected removals of both CSS selectors and SCSS
      variables:
    </p>
    <h3 id="deprecations.js"><code>deprecations.js</code></h3>
    <p>
      <a href="https://github.com/primer/css/tree/main/deprecations.js"
        >This file</a
      >
      is where we document all of our current and <em>planned</em> CSS selector
      and SCSS variable deprecations (removals), and is used to generate
      <a href="../tools/deprecations">deprecation data</a> for other tools.
    </p>
    <h3 id="primer-csstodo"><code>primer-css/TODO</code></h3>
    <p>
      <a href="https://github.com/primer/css/tree/main/script/stylelint-todo.js"
        >This stylelint rule</a
      >
      looks for comments in the form:
    </p>
    <pre
      class="scss"
    ><code>// TODO@&lt;version&gt;: &lt;message&gt;</code></pre>
    <p>
      and generates an error for each one whose <code>&lt;version&gt;</code> is
      less than or equal to the current version (in <code>package.json</code>).
    </p>
    <p>
      Where <code>&lt;version&gt;</code> is the future version you’d like to
      compare against. Assuming that the correctly formatted comments exist
      already, violations of this stylelint rule can be used to generate a
      checklist of lines to remove in a future release.
    </p>
    <p>
      See <a href="../tools/deprecations">the deprecation data docs</a> for more
      information.
    </p>
    <h2 id="documentation-structure">Documentation structure</h2>
    <ul>
      <li>
        <p>
          Our documentation site for Primer CSS is built using
          <a href="https://primer.style/doctocat">Doctocat</a> and deployed with
          <a href="https://zeit.co/now">Now</a>. Our site is built from the
          <code>docs</code> folder and uses
          <a href="https://mdxjs.com">MDX</a> to render markdown.
        </p>
      </li>
      <li>
        <p>
          Documentation for Primer CSS modules should live in the corresponding
          <code>.md</code> or <code>.mdx</code> file for that module in the
          <code>/docs/content</code> folder.
        </p>
      </li>
      <li>
        <p>
          There are separate folders in <code>/docs/content</code> for
          component, object, support, and utilities docs, as well as separate
          folders for more general documentation such as principles and tooling.
        </p>
      </li>
      <li>
        <p>
          Documents in <code>docs/content/</code> automatically become pages
          with URLs based on their path relative to <code>content/</code>. For
          example, <code>docs/content/components/box.md</code> creates a
          <code>/components/box</code> page.
        </p>
      </li>
      <li>
        <p>
          To add new documentation, locate the appropriate folder and create a
          new <code>.md</code> or <code>.mdx</code> file. Be sure to include the
          proper front matter (at minimum, title and status). For example:
        </p>
      </li>
    </ul>
    <pre><code>---
title: Alerts
status: Stable
source: &#39;https://github.com/primer/css/tree/main/src/alerts&#39;
---</code></pre>
    <h3 id="table-of-contents">Table of contents</h3>
    <p>
      A table of contents is automatically inserted at the top of every page
      published on <a href="https://primer.style/css">primer.style/css</a>.
    </p>
    <h3 id="live-code">Live code</h3>
    <p>
      Check out Doctocat’s
      <a href="https://primer.style/doctocat/usage/live-code">live code</a>
      documentation for more information about creating live code examples.
    </p>
    <h3 id="versioning">Versioning</h3>
    <p>
      Primer CSS follows
      <a href="http://semver.org/">semantic versioning</a> conventions. This
      helps others know when a change is a patch, minor, or breaking change.
    </p>
    <p>
      To understand what choice to make, you’ll need to understand semver and
      know if one of the changes shown is a major, minor, or patch. Semver is
      confusing at first, so we recommend reviewing
      <a href="http://semver.org/">semver</a> and/or asking the team by
      <a href="#step-1-open-an-issue">opening an issue</a>.
    </p>
  </body>
</html>
