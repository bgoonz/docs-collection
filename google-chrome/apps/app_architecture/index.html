<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <meta name="dcterms.date" content="2012-09-17" />
    <title>Chrome Apps Architecture</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Chrome Apps Architecture</h1>
      <p class="date">2012-09-17</p>
    </header>
    <p>{% Aside ‘caution’ %}</p>
    <p>
      <strong>Important:</strong> Chrome will be removing support for Chrome
      Apps on all platforms. Chrome browser and the Chrome Web Store will
      continue to support extensions.
      <a
        href="https://blog.chromium.org/2020/08/changes-to-chrome-app-support-timeline.html"
        ><strong>Read the announcement</strong></a
      >
      and learn more about
      <a href="/apps/migration"><strong>migrating your app</strong></a
      >.
    </p>
    <p>{% endAside %}</p>
    <p>
      Chrome Apps integrate closely with a user’s operating system. They are
      designed to be run outside of a browser tab, to run robustly in offline
      and poor connectivity scenarios and to have far more powerful capabilities
      than are available in a typical web browsing environment. The app
      container, programming, and security models support these Chrome App
      requirements.
    </p>
    <h2 id="app-container-model-container">
      App container model {: #container }
    </h2>
    <p>
      The app container describes the visual appearance and loading behavior of
      Chrome Apps. Chrome Apps look different than traditional web apps because
      the app container does not show any traditional web page UI controls; it
      simply contains a blank rectangular area. This allows an app to blend with
      “native” apps on the system, and it prevents the user from “messing” with
      the app logic by manually changing the URL.
    </p>
    <p>
      Chrome Apps are loaded differently than web apps. Both load the same type
      of content: HTML documents with CSS and JavaScript; however, a Chrome App
      is loaded in the app container, not in the browser tab. Also, the app
      container must load the main document of the Chrome App from a local
      source. This forces all Chrome Apps to be at least minimally functional
      when offline and it provides a place to enforce stricter security
      measures.
    </p>
    <p>
      {% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/1elqMcady4myIQ5qqQxA.png”,
      alt=“how app container model works”, height=“172”, width=“671” %}
    </p>
    <h2 id="programming-model-programming">
      Programming model {: #programming }
    </h2>
    <p>
      The programming model describes the lifecycle and window behavior of
      Chrome Apps. Similar to native apps, the goal of this programming model is
      to give users and their systems full control over the app lifecycle. The
      Chrome App lifecycle should be independent of browser window behavior or a
      network connection.
    </p>
    <p>
      The “event page” manages the Chrome App lifecycle by responding to user
      gestures and system events. This page is invisible, only exists in the
      background, and can be closed automatically by the system runtime. It
      controls how windows open and close and when the app is started or
      terminated. There can only be one “event page” for a Chrome App.
    </p>
    <p>{% YouTube id=“yr1jgREbH8U” %}</p>
    <h3 id="app-lifecycle-at-a-glance-lifecycle">
      App lifecycle at a glance {: #lifecycle }
    </h3>
    <p>
      For detailed instructions on how to use the programming model, see
      <a href="app_lifecycle">Manage App Lifecycle</a>. Here’s a brief summary
      of the Chrome App lifecyle to get you started:
    </p>
    <table class="simple">
      <tbody>
        <tr>
          <th scope="col">Stage</th>
          <th scope="col">Summary</th>
        </tr>
        <tr>
          <td>Installation</td>
          <td>
            User chooses to install the app and explicitly accepts the
            <a href="declare_permissions">permissions</a>.
          </td>
        </tr>
        <tr>
          <td>Startup</td>
          <td>
            The event page is loaded, the ‘launch’ event fires, and app pages
            open in windows. You
            <a href="app_lifecycle#eventpage">create the windows</a> that your
            app requires, how they look, and how they communicate with the event
            page and with other windows.
          </td>
        </tr>
        <tr>
          <td>Termination</td>
          <td>
            User can terminate apps at any time and app can be quickly restored
            to previous state.
            <a href="app_lifecycle#local_settings">Stashing data</a> protects
            against data loss.
          </td>
        </tr>
        <tr>
          <td>Update</td>
          <td>
            Apps can be updated at any time; however, the code that a Chrome App
            is running cannot change during a startup/termination cycle.
          </td>
        </tr>
        <tr>
          <td>Uninstallation</td>
          <td>
            User can actively uninstall apps. When uninstalled, no executing
            code or private data is left behind.
          </td>
        </tr>
      </tbody>
    </table>
    <h2 id="security-model-security">Security model {: #security }</h2>
    <p>
      The Chrome Apps security model protects users by ensuring their
      information is managed in a safe and secure manner.
      <a href="contentSecurityPolicy">Comply with CSP</a> includes detailed
      information on how to comply with content security policy. This policy
      blocks dangerous scripting reducing cross-site scripting bugs and
      protecting users against man-in-the-middle attacks.
    </p>
    <p>
      Loading the Chrome App main page locally provides a place to enforce
      stricter security than the web. Like Chrome extensions, users must
      explicitly agree to trust the Chrome App on install; they grant the app
      permission to access and use their data. Each API that your app uses will
      have its own permission. The Chrome Apps security model also provides the
      ability to set up privilege separation on a per window basis. This allows
      you to minimize the code in your app that has access to dangerous APIs,
      while still getting to use them.
    </p>
    <p>
      Chrome Apps reuse Chrome extension process isolation, and take this a step
      further by isolating storage and external content. Each app has its own
      private storage area and can’t access the storage of another app or
      personal data (such as cookies) for websites that you use in your browser.
      All external processes are isolated from the app. Since iframes run in the
      same process as the surrounding page, they can only be used to load other
      app pages. You can use the <code>object</code> tag to
      <a href="app_external">embed external content</a>; this content runs in a
      separate process from the app.
    </p>
    <p>{% YouTube id=“EDtiWN42lHs” %}</p>
  </body>
</html>
