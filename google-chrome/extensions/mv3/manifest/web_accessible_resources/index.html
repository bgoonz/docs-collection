<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2013-05-12" />
  <title>Manifest - Web Accessible Resources</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Manifest - Web Accessible Resources</h1>
<p class="date">2013-05-12</p>
</header>
<p>Web-accessible resources are files inside an extension that can be accessed by web pages or other extensions. Extensions typically use this feature to expose images or other assets that need to be loaded in web pages, but any asset included in an extension’s bundle can be made web accessible.</p>
<p>By default no resources are web accessible; only pages or scripts loaded from an extension’s origin can access that extension’s resources. Extension authors can use the <code>web_accessible_resources</code> manifest property to declare which resources are exposed and to what origins.</p>
<p>{% Aside %} Prior to Manifest V2 all resources within an extension could be accessed from any page on the web. This allowed a malicious website to <a href="https://en.wikipedia.org/wiki/Device_fingerprint">fingerprint</a> the extensions that a user has installed or exploit vulnerabilities (for example <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">XSS bugs</a>) within installed extensions.</p>
<p>Beginning with Manifest V2, access to those resources was limited to protect the privacy of users. MV2 extensions exposed only those resources explicitly designated as web accessible.</p>
<p>Manifest V3 provides finer-grained control, letting you expose individual resources to specified pages, domains, or extensions. {% endAside %}</p>
<h2 id="manifest-declaration">Manifest declaration</h2>
<p>An array of objects that declare resource access rules. Each object maps an array of extension resources to an array of URLs and/or extension IDs that can access those resources.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="er">...</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">&quot;web_accessible_resources&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="dt">&quot;resources&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;test1.png&quot;</span><span class="ot">,</span> <span class="st">&quot;test2.png&quot;</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="dt">&quot;matches&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;https://web-accessible-resources-1.glitch.me/*&quot;</span> <span class="ot">]</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="fu">}</span><span class="ot">,</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="dt">&quot;resources&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;test3.png&quot;</span><span class="ot">,</span> <span class="st">&quot;test4.png&quot;</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="dt">&quot;matches&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;https://web-accessible-resources-2.glitch.me/*&quot;</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="dt">&quot;use_dynamic_url&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-12" title="12">  <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="er">...</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="fu">}</span></a></code></pre></div>
Each object in the array contains these properties:
<dl>
<dt>
<code>resources</code>
</dt>
<dd>
An array of resources to be exposed. Resources are specified as strings and may contain <code>*</code> for wildcard matches. For example, <code>“/images/<em>"</code> exposes everything in the extension’s /images directory recursively while <code>"</em>.png”</code> exposes all PNG files.
</dd>
<dt>
<code>matches</code>
</dt>
<dd>
A list of URL match patterns specifying which pages can access the resources. Only the origin is used to match URLs; subdomains patterns (<code>*.google.com<code>) and paths are ignored.
</dd>
<dt>
<code>extension_ids</code>
</dt>
<dd>
A list of extension IDs, specifying which extensions can access the resources.
</dd>
<dt>
<code>use_dynamic_url</code>
</dt>
<dd>
If true, only allow resources to be accessible through dynamic ID. The dynamic ID is generated per session. It’s regenerated on browser restart or extension reload.
</dd>
</dl>
<p>Each element must include a <code>"resources"</code> element and either a <code>"matches"</code> or <code>"extension_ids"</code> element. This establishes a mapping that exposes the specified resources to web pages matching the pattern or to specified extensions.</p>
<h2 id="navigability-of-resources">Navigability of resources</h2>
<p>These resources are available in a webpage via the URL <code>chrome-extension://[PACKAGE ID]/[PATH]</code>, which can be generated with the <a href="/docs/extensions/extension#method-getURL"><code>runtime.getURL</code></a> method. The resources are served with appropriate <a href="https://www.w3.org/TR/cors/">CORS</a> headers, so they’re available via mechanisms like XHR.</p>
<p>A navigation from a web origin to an extension resource will be blocked unless the resource is listed as web accessible. Note these corner cases:</p>
<ul>
<li>When an extension uses the <a href="/docs/extensions/webRequest">webRequest</a> or <a href="/docs/extensions/declarativeWebRequest">declarativeWebRequest</a> APIs to redirect a public resource request to a resource that is not web accessible, such request is also blocked.</li>
<li>The above holds true even if the resource that is not web accessible is owned by the redirecting extension.</li>
</ul>
<p><a href="/docs/extensions/mv3/content_scripts">Content scripts</a> themselves do not need to be allowed.</p>
<h2 id="example">Example</h2>
<p>The <a href="https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/api/web-accessible-resources">Web Accessible Resources example</a> demonstrates the use of this element in a working extension.</p>
</body>
</html>
