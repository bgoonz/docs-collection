<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2013-05-12" />
  <title>Manifest - Incognito</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Manifest - Incognito</h1>
<p class="date">2013-05-12</p>
</header>
<p>Use the <code>"incognito"</code> manifest key with either <code>"spanning"</code> or <code>"split"</code> to specify how this extension will behave if allowed to run in incognito mode. Using <code>"not_allowed"</code> to prevent this extension from being enabled in incognito mode.</p>
<p>Only extensions can choose. Apps will always use the default value for the app type; <code>"spanning"</code> for Chrome apps and <code>"split"</code> for installable web and legacy packaged apps.</p>
<h2 id="spanning-mode-spanning">Spanning mode {: #spanning }</h2>
<p>The default for extensions and Chrome apps is <code>"spanning"</code>, which means that it will run in a single shared process. Any events or messages from an incognito tab will be sent to the shared process, with an <em>incognito</em> flag indicating where it came from. Because incognito tabs cannot use this shared process, an extension using the <code>"spanning"</code> incognito mode will not be able to load pages from its extension package into the main frame of an incognito tab.</p>
<h2 id="split-mode-split">Split mode {: #split }</h2>
<p>The default for installable web apps and legacy packaged apps is <code>"split"</code>, which means that all app pages in an incognito window will run in their own incognito process. If the app or extension contains a background page, that will also run in the incognito process. This incognito process runs along side the regular process, but has a separate memory-only cookie store. Each process sees events and messages only from its own context (for example, the incognito process will see only incognito tab updates). The processes are unable to communicate with each other.</p>
<h2 id="not-allowed-not_allowed">Not allowed {: #not_allowed }</h2>
<p>The extension cannot be enabled in incognito mode. Available from Chrome 47.</p>
<h2 id="how-to-choose-how-to-choose">How to choose {: #how-to-choose }</h2>
<p>As a rule of thumb, if your extension or app needs to load a tab in an incognito browser, use <em>split</em> incognito behavior. If your extension or app needs to be logged into a remote server use <em>spanning</em> incognito behavior.</p>
<p><a href="/docs/extensions/reference/storage#property-sync">chrome.storage.sync</a> and <a href="/docs/extensions/reference/storage#property-local">chrome.storage.local</a> are <em>always</em> shared between regular and incognito processes. It is recommended to use them for persisting your extensionâ€™s settings.</p>
</body>
</html>
