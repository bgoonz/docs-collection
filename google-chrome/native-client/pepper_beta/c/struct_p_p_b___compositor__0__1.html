<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>struct_p_p_b___compositor__0__1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>—json {“title”:“PPB_Compositor Struct Reference”} —</p>
<h2 id="data-fields">Data Fields</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a22fb77daabd3894db97ab1111d111a92" class="el">IsCompositor</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> resource)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a3b479b946dcec4b3315c5f3cdccba5ce" class="el">Create</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d" class="el">PP_Instance</a> instance)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a54fc4ef7119d18446a836aef08384da6" class="el">AddLayer</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a5082b0dce4a58032439bc3dd4ff741fd" class="el">CommitLayers</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> cc)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a9a0e4e7aed4b13dbea426a75a8311172" class="el">ResetLayers</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor)
</td>
</tr>
</tbody>
</table>
<hr />
<p><span id="details" class="anchor" style="margin: 0;"></span></p>
<h2 id="detailed-description">Detailed Description</h2>
<p>Defines the <code>PPB_Compositor</code> interface.</p>
<p>Used for setting <code>PPB_CompositorLayer</code> layers to the Chromium compositor for compositing. This allows a plugin to combine different sources of visual data efficiently, such as <code>PPB_ImageData</code> images and OpenGL textures. See also <code>PPB_CompositorLayer</code> for more information. This interface is still in development (Dev API status) and may change, so is only supported on Dev channel and Canary currently.</p>
<p><strong>Example usage from plugin code:</strong></p>
<p><strong>Setup:</strong></p>
<pre><code> PP_Resource compositor;
 compositor = compositor_if-&gt;Create(instance);
 instance_if-&gt;BindGraphics(instance, compositor);</code></pre>
<p><strong>Setup layer stack:</strong></p>
<pre><code> PP_Resource color_layer = compositor_if-&gt;AddLayer(compositor);
 PP_Resource texture_layer = compositor_if-&gt;AddLayer(compositor);</code></pre>
<p><strong>Present one frame:</strong> layer_if-&gt;SetColor(color_layer, 255, 255, 0, 255, PP_MakeSize(400, 400)); <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el" title="PP_CompletionCallback is a common mechanism for supporting potentially asynchronous calls in browser ...">PP_CompletionCallback</a> release_callback = { TextureReleasedCallback, 0, PP_COMPLETIONCALLBACK_FLAG_NONE, }; layer_if-&gt;SetTexture(texture_layer, graphics3d, texture_id, PP_MakeSize(300, 300), release_callback);</p>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el" title="PP_CompletionCallback is a common mechanism for supporting potentially asynchronous calls in browser ...">PP_CompletionCallback</a> callback = { DidFinishCommitLayersCallback, (void*) texture_id, PP_COMPLETIONCALLBACK_FLAG_NONE, }; compositor_if-&gt;CommitLayers(compositor, callback);</p>
<p><strong>release callback</strong> void ReleaseCallback(int32_t result, void* user_data) { if (result == PP_OK) { uint32_t texture_id = (uint32_t) user_data; // reuse the texture or delete it. } }</p>
<p><strong>Shutdown:</strong></p>
<pre><code> core-&gt;ReleaseResource(color_layer);
 core-&gt;ReleaseResource(texture_layer);
 core-&gt;ReleaseResource(compositor);</code></pre>
<hr />
<h2 id="field-documentation">Field Documentation</h2>
<p><span id="a54fc4ef7119d18446a836aef08384da6" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a54fc4ef7119d18446a836aef08384da6" class="el">PPB_Compositor::AddLayer</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor)
</td>
</tr>
</tbody>
</table>
<p>Creates a new <code>PPB_CompositorLayer</code> and adds it to the end of the layer stack.</p>
<p>A <code>PP_Resource</code> containing the layer is returned. It is uninitialized, <code>SetColor()</code>, <code>SetTexture</code> or <code>SetImage</code> should be used to initialize it. The layer will appear above other pre-existing layers. If <code>ResetLayers</code> is called or the <code>PPB_Compositor</code> is released, the returned layer will be invalidated, and any further calls on the layer will return <code>PP_ERROR_BADRESOURCE</code>.</p>
<p>param[in] compositor A <code>PP_Resource</code> corresponding to a compositor layer resource.</p>
<p><strong>Returns:</strong><br />
A <code>PP_Resource</code> containing the compositor layer resource if successful or 0 otherwise.</p>
<p><span id="a5082b0dce4a58032439bc3dd4ff741fd" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a5082b0dce4a58032439bc3dd4ff741fd" class="el">PPB_Compositor::CommitLayers</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> cc)
</td>
</tr>
</tbody>
</table>
<p>Commits layers added by <code>AddLayer()</code> to the chromium compositor.</p>
<p>param[in] compositor A <code>PP_Resource</code> corresponding to a compositor layer resource.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
cc
</td>
<td>
A <code>PP_CompletionCallback</code> to be called when layers have been represented on screen.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
An int32_t containing a result code from <code>pp_errors.h</code>.</p>
<p><span id="a3b479b946dcec4b3315c5f3cdccba5ce" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a3b479b946dcec4b3315c5f3cdccba5ce" class="el">PPB_Compositor::Create</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d" class="el">PP_Instance</a> instance)
</td>
</tr>
</tbody>
</table>
<p>Creates a Compositor resource.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
instance
</td>
<td>
A <code>PP_Instance</code> identifying one instance of a module.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
A <code>PP_Resource</code> containing the compositor resource if successful or 0 otherwise.</p>
<p><span id="a22fb77daabd3894db97ab1111d111a92" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a22fb77daabd3894db97ab1111d111a92" class="el">PPB_Compositor::IsCompositor</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> resource)
</td>
</tr>
</tbody>
</table>
<p>Determines if a resource is a compositor resource.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
resource
</td>
<td>
The <code>PP_Resource</code> to test.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
A <code>PP_Bool</code> with <code>PP_TRUE</code> if the given resource is a compositor resource or <code>PP_FALSE</code> otherwise.</p>
<p><span id="a9a0e4e7aed4b13dbea426a75a8311172" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___compositor__0__1#a9a0e4e7aed4b13dbea426a75a8311172" class="el">PPB_Compositor::ResetLayers</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> compositor)
</td>
</tr>
</tbody>
</table>
<p>Resets layers added by <code>AddLayer()</code>.</p>
<p>param[in] compositor A <code>PP_Resource</code> corresponding to a compositor layer resource.</p>
<p><strong>Returns:</strong><br />
An int32_t containing a result code from <code>pp_errors.h</code>.</p>
<hr />
<p>The documentation for this struct was generated from the following file:</p>
<ul>
<li><a href="/docs/native-client/pepper_beta/c/ppb__compositor_8h/" class="el">ppb_compositor.h</a></li>
</ul>
</body>
</html>
