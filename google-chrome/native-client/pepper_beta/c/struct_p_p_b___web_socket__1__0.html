<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>struct_p_p_b___web_socket__1__0</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>—json {“title”:“PPB_WebSocket Struct Reference”} —</p>
<h2 id="data-fields">Data Fields</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a220cff8f5aa9f742d2b9cc4ab0e8de1b" class="el">Create</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d" class="el">PP_Instance</a> instance)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afa66d61dd10155dd445a13f1c6280a79" class="el">IsWebSocket</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> resource)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aaff1d1e6f3240e5ce9c772ad80aa38d5" class="el">Connect</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> url, const struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> protocols[], uint32_t protocol_count, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aa2f3e391713d6097f1d0b2944acab8e8" class="el">Close</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, uint16_t code, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> reason, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el">ReceiveMessage</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> *message, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
int32_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a05bf8512a7c566f59d527c4a7e92f194" class="el">SendMessage</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> message)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
uint64_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a45b1ad062facdf02199d1879a55c6299" class="el">GetBufferedAmount</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
uint16_t(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#ac0bfae85f51a9e2d5b7fb9660f24968e" class="el">GetCloseCode</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aef09f974f4c6ebc9c23a9161ae7c2945" class="el">GetCloseReason</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afaf7ee244ffe9aae026b7fbca7a6eff4" class="el">GetCloseWasClean</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a71d0d4a01f5e11520d56b668ff178c20" class="el">GetExtensions</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a0f5f83152a917998a23e0a10b3a0fa4a" class="el">GetProtocol</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___enums#gade61cdf6a7470769b571925694d91a89" class="el">PP_WebSocketReadyState</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#abd52bebffd4153294734168663057ecc" class="el">GetReadyState</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a130ed98f0ebabb614b6637ca6f800e13" class="el">GetURL</a> )(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
</tbody>
</table>
<hr />
<p><span id="details" class="anchor" style="margin: 0;"></span></p>
<h2 id="detailed-description">Detailed Description</h2>
<p>The <code>PPB_WebSocket</code> interface provides bi-directional, full-duplex, communications over a single TCP socket.</p>
<hr />
<h2 id="field-documentation">Field Documentation</h2>
<p><span id="aa2f3e391713d6097f1d0b2944acab8e8" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aa2f3e391713d6097f1d0b2944acab8e8" class="el">PPB_WebSocket::Close</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, uint16_t code, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> reason, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aa2f3e391713d6097f1d0b2944acab8e8" class="el" title="Close() closes the specified WebSocket connection by specifying code and reason.">Close()</a> closes the specified WebSocket connection by specifying <code>code</code> and <code>reason</code>.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
<tr class="even">
<td>
[in]
</td>
<td>
code
</td>
<td>
The WebSocket close code. This is ignored if it is <code>PP_WEBSOCKETSTATUSCODE_NOT_SPECIFIED</code>. <code>PP_WEBSOCKETSTATUSCODE_NORMAL_CLOSURE</code> must be used for the usual case. To indicate some specific error cases, codes in the range <code>PP_WEBSOCKETSTATUSCODE_USER_REGISTERED_MIN</code> to <code>PP_WEBSOCKETSTATUSCODE_USER_REGISTERED_MAX</code>, and in the range <code>PP_WEBSOCKETSTATUSCODE_USER_PRIVATE_MIN</code> to <code>PP_WEBSOCKETSTATUSCODE_USER_PRIVATE_MAX</code> are available.
</td>
</tr>
<tr class="odd">
<td>
[in]
</td>
<td>
reason
</td>
<td>
A <code>PP_Var</code> representing the WebSocket close reason. This is ignored if it is <code>PP_VARTYPE_UNDEFINED</code>. Otherwise, its <code>PP_VarType</code> must be <code>PP_VARTYPE_STRING</code>.
</td>
</tr>
<tr class="even">
<td>
[in]
</td>
<td>
callback
</td>
<td>
A <code>PP_CompletionCallback</code> called when the connection is closed or an error occurs in closing the connection.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
An int32_t containing an error code from <code>pp_errors.h</code>. Returns <code>PP_ERROR_BADARGUMENT</code> if <code>reason</code> contains an invalid character as a UTF-8 string, or is longer than 123 bytes. <code>PP_ERROR_BADARGUMENT</code> corresponds to a JavaScript SyntaxError in the WebSocket API specification. Returns <code>PP_ERROR_NOACCESS</code> if the code is not an integer equal to 1000 or in the range 3000 to 4999. <code>PP_ERROR_NOACCESS</code> corresponds to an InvalidAccessError in the WebSocket API specification. Returns <code>PP_ERROR_INPROGRESS</code> if a previous call to <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aa2f3e391713d6097f1d0b2944acab8e8" class="el" title="Close() closes the specified WebSocket connection by specifying code and reason.">Close()</a> is not finished.</p>
<p><span id="aaff1d1e6f3240e5ce9c772ad80aa38d5" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aaff1d1e6f3240e5ce9c772ad80aa38d5" class="el">PPB_WebSocket::Connect</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> url, const struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> protocols[], uint32_t protocol_count, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aaff1d1e6f3240e5ce9c772ad80aa38d5" class="el" title="Connect() connects to the specified WebSocket server.">Connect()</a> connects to the specified WebSocket server.</p>
<p>You can call this function once for a <code>web_socket</code>.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
<tr class="even">
<td>
[in]
</td>
<td>
url
</td>
<td>
A <code>PP_Var</code> representing a WebSocket server URL. The <code>PP_VarType</code> must be <code>PP_VARTYPE_STRING</code>.
</td>
</tr>
<tr class="odd">
<td>
[in]
</td>
<td>
protocols
</td>
<td>
A pointer to an array of <code>PP_Var</code> specifying sub-protocols. Each <code>PP_Var</code> represents one sub-protocol and its <code>PP_VarType</code> must be <code>PP_VARTYPE_STRING</code>. This argument can be null only if <code>protocol_count</code> is 0.
</td>
</tr>
<tr class="even">
<td>
[in]
</td>
<td>
protocol_count
</td>
<td>
The number of sub-protocols in <code>protocols</code>.
</td>
</tr>
<tr class="odd">
<td>
[in]
</td>
<td>
callback
</td>
<td>
A <code>PP_CompletionCallback</code> called when a connection is established or an error occurs in establishing connection.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
An int32_t containing an error code from <code>pp_errors.h</code>. Returns <code>PP_ERROR_BADARGUMENT</code> if the specified <code>url</code>, or <code>protocols</code> contain an invalid string as defined in the WebSocket API specification. <code>PP_ERROR_BADARGUMENT</code> corresponds to a SyntaxError in the WebSocket API specification. Returns <code>PP_ERROR_NOACCESS</code> if the protocol specified in the <code>url</code> is not a secure protocol, but the origin of the caller has a secure scheme. Also returns <code>PP_ERROR_NOACCESS</code> if the port specified in the <code>url</code> is a port that the user agent is configured to block access to because it is a well-known port like SMTP. <code>PP_ERROR_NOACCESS</code> corresponds to a SecurityError of the specification. Returns <code>PP_ERROR_INPROGRESS</code> if this is not the first call to <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aaff1d1e6f3240e5ce9c772ad80aa38d5" class="el" title="Connect() connects to the specified WebSocket server.">Connect()</a>.</p>
<p><span id="a220cff8f5aa9f742d2b9cc4ab0e8de1b" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a220cff8f5aa9f742d2b9cc4ab0e8de1b" class="el">PPB_WebSocket::Create</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d" class="el">PP_Instance</a> instance)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a220cff8f5aa9f742d2b9cc4ab0e8de1b" class="el" title="Create() creates a WebSocket instance.">Create()</a> creates a WebSocket instance.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
instance
</td>
<td>
A <code>PP_Instance</code> identifying the instance with the WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
A <code>PP_Resource</code> corresponding to a WebSocket if successful.</p>
<p><span id="a45b1ad062facdf02199d1879a55c6299" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
uint64_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a45b1ad062facdf02199d1879a55c6299" class="el">PPB_WebSocket::GetBufferedAmount</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a45b1ad062facdf02199d1879a55c6299" class="el" title="GetBufferedAmount() returns the number of bytes of text and binary messages that have been queued for...">GetBufferedAmount()</a> returns the number of bytes of text and binary messages that have been queued for the WebSocket connection to send, but have not been transmitted to the network yet.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns the number of bytes.</p>
<p><span id="ac0bfae85f51a9e2d5b7fb9660f24968e" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
uint16_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#ac0bfae85f51a9e2d5b7fb9660f24968e" class="el">PPB_WebSocket::GetCloseCode</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#ac0bfae85f51a9e2d5b7fb9660f24968e" class="el" title="GetCloseCode() returns the connection close code for the WebSocket connection.">GetCloseCode()</a> returns the connection close code for the WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns 0 if called before the close code is set.</p>
<p><span id="aef09f974f4c6ebc9c23a9161ae7c2945" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aef09f974f4c6ebc9c23a9161ae7c2945" class="el">PPB_WebSocket::GetCloseReason</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)<code> [read]</code>
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aef09f974f4c6ebc9c23a9161ae7c2945" class="el" title="GetCloseReason() returns the connection close reason for the WebSocket connection.">GetCloseReason()</a> returns the connection close reason for the WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns a <code>PP_VARTYPE_STRING</code> var. If called before the close reason is set, the return value contains an empty string. Returns a <code>PP_VARTYPE_UNDEFINED</code> if called on an invalid resource.</p>
<p><span id="afaf7ee244ffe9aae026b7fbca7a6eff4" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afaf7ee244ffe9aae026b7fbca7a6eff4" class="el">PPB_WebSocket::GetCloseWasClean</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afaf7ee244ffe9aae026b7fbca7a6eff4" class="el" title="GetCloseWasClean() returns if the connection was closed cleanly for the specified WebSocket connectio...">GetCloseWasClean()</a> returns if the connection was closed cleanly for the specified WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns <code>PP_FALSE</code> if called before the connection is closed, called on an invalid resource, or closed for abnormal reasons. Otherwise, returns <code>PP_TRUE</code> if the connection was closed cleanly.</p>
<p><span id="a71d0d4a01f5e11520d56b668ff178c20" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a71d0d4a01f5e11520d56b668ff178c20" class="el">PPB_WebSocket::GetExtensions</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)<code> [read]</code>
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a71d0d4a01f5e11520d56b668ff178c20" class="el" title="GetExtensions() returns the extensions selected by the server for the specified WebSocket connection...">GetExtensions()</a> returns the extensions selected by the server for the specified WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns a <code>PP_VARTYPE_STRING</code> var. If called before the connection is established, the var’s data is an empty string. Returns a <code>PP_VARTYPE_UNDEFINED</code> if called on an invalid resource.</p>
<p><span id="a0f5f83152a917998a23e0a10b3a0fa4a" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a0f5f83152a917998a23e0a10b3a0fa4a" class="el">PPB_WebSocket::GetProtocol</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)<code> [read]</code>
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a0f5f83152a917998a23e0a10b3a0fa4a" class="el" title="GetProtocol() returns the sub-protocol chosen by the server for the specified WebSocket connection...">GetProtocol()</a> returns the sub-protocol chosen by the server for the specified WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns a <code>PP_VARTYPE_STRING</code> var. If called before the connection is established, the var contains the empty string. Returns a <code>PP_VARTYPE_UNDEFINED</code> if called on an invalid resource.</p>
<p><span id="abd52bebffd4153294734168663057ecc" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___enums#gade61cdf6a7470769b571925694d91a89" class="el">PP_WebSocketReadyState</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#abd52bebffd4153294734168663057ecc" class="el">PPB_WebSocket::GetReadyState</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#abd52bebffd4153294734168663057ecc" class="el" title="GetReadyState() returns the ready state of the specified WebSocket connection.">GetReadyState()</a> returns the ready state of the specified WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns <code>PP_WEBSOCKETREADYSTATE_INVALID</code> if called before <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aaff1d1e6f3240e5ce9c772ad80aa38d5" class="el" title="Connect() connects to the specified WebSocket server.">Connect()</a> is called, or if this function is called on an invalid resource.</p>
<p><span id="a130ed98f0ebabb614b6637ca6f800e13" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a130ed98f0ebabb614b6637ca6f800e13" class="el">PPB_WebSocket::GetURL</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket)<code> [read]</code>
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a130ed98f0ebabb614b6637ca6f800e13" class="el" title="GetURL() returns the URL associated with specified WebSocket connection.">GetURL()</a> returns the URL associated with specified WebSocket connection.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns a <code>PP_VARTYPE_STRING</code> var. If called before the connection is established, the var contains the empty string. Returns a <code>PP_VARTYPE_UNDEFINED</code> if this function is called on an invalid resource.</p>
<p><span id="afa66d61dd10155dd445a13f1c6280a79" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___enums#ga4f272d99be14aacafe08dfd4ef830918" class="el">PP_Bool</a>(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afa66d61dd10155dd445a13f1c6280a79" class="el">PPB_WebSocket::IsWebSocket</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> resource)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#afa66d61dd10155dd445a13f1c6280a79" class="el" title="IsWebSocket() determines if the provided resource is a WebSocket instance.">IsWebSocket()</a> determines if the provided <code>resource</code> is a WebSocket instance.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
resource
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns <code>PP_TRUE</code> if <code>resource</code> is a <code>PPB_WebSocket</code>, <code>PP_FALSE</code> if the <code>resource</code> is invalid or some type other than <code>PPB_WebSocket</code>.</p>
<p><span id="aedebd5c21bc451e6b99ea1b2de884122" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el">PPB_WebSocket::ReceiveMessage</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> *message, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback/" class="el">PP_CompletionCallback</a> callback)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> receives a message from the WebSocket server.</p>
<p>This interface only returns a single message. That is, this interface must be called at least N times to receive N messages, no matter the size of each message.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
<tr class="even">
<td>
[out]
</td>
<td>
message
</td>
<td>
The received message is copied to provided <code>message</code>. The <code>message</code> must remain valid until <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> completes. Its received <code>PP_VarType</code> will be <code>PP_VARTYPE_STRING</code> or <code>PP_VARTYPE_ARRAY_BUFFER</code>.
</td>
</tr>
<tr class="odd">
<td>
[in]
</td>
<td>
callback
</td>
<td>
A <code>PP_CompletionCallback</code> called when <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> completes. This callback is ignored if <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> completes synchronously and returns <code>PP_OK</code>.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
An int32_t containing an error code from <code>pp_errors.h</code>. If an error is detected or connection is closed, <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> returns <code>PP_ERROR_FAILED</code> after all buffered messages are received. Until buffered message become empty, <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#aedebd5c21bc451e6b99ea1b2de884122" class="el" title="ReceiveMessage() receives a message from the WebSocket server.">ReceiveMessage()</a> continues to return <code>PP_OK</code> as if connection is still established without errors.</p>
<p><span id="a05bf8512a7c566f59d527c4a7e92f194" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t(* <a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a05bf8512a7c566f59d527c4a7e92f194" class="el">PPB_WebSocket::SendMessage</a>)(<a href="/docs/native-client/pepper_beta/c/group___typedefs#gafdc3895ee80f4750d0d95ae1b677e9b7" class="el">PP_Resource</a> web_socket, struct <a href="/docs/native-client/pepper_beta/c/struct_p_p___var/" class="el">PP_Var</a> message)
</td>
</tr>
</tbody>
</table>
<p><a href="/docs/native-client/pepper_beta/c/struct_p_p_b___web_socket__1__0#a05bf8512a7c566f59d527c4a7e92f194" class="el" title="SendMessage() sends a message to the WebSocket server.">SendMessage()</a> sends a message to the WebSocket server.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
[in]
</td>
<td>
web_socket
</td>
<td>
A <code>PP_Resource</code> corresponding to a WebSocket.
</td>
</tr>
<tr class="even">
<td>
[in]
</td>
<td>
message
</td>
<td>
A message to send. The message is copied to an internal buffer, so the caller can free <code>message</code> safely after returning from the function. Its sent <code>PP_VarType</code> must be <code>PP_VARTYPE_STRING</code> or <code>PP_VARTYPE_ARRAY_BUFFER</code>.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
An int32_t containing an error code from <code>pp_errors.h</code>. Returns <code>PP_ERROR_FAILED</code> if the ReadyState is <code>PP_WEBSOCKETREADYSTATE_CONNECTING</code>. <code>PP_ERROR_FAILED</code> corresponds to a JavaScript InvalidStateError in the WebSocket API specification. Returns <code>PP_ERROR_BADARGUMENT</code> if the provided <code>message</code> contains an invalid character as a UTF-8 string. <code>PP_ERROR_BADARGUMENT</code> corresponds to a JavaScript SyntaxError in the WebSocket API specification. Otherwise, returns <code>PP_OK</code>, which doesn’t necessarily mean that the server received the message.</p>
<hr />
<p>The documentation for this struct was generated from the following file:</p>
<ul>
<li><a href="/docs/native-client/pepper_beta/c/ppb__websocket_8h/" class="el">ppb_websocket.h</a></li>
</ul>
</body>
</html>
