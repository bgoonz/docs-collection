<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>struct_p_p___completion_callback</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>—json {“title”:“PP_CompletionCallback Struct Reference”} —</p>
<h2 id="data-fields">Data Fields</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: right;">
<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga6fe12e1a41df5e10103a811036d4d8d2" class="el">PP_CompletionCallback_Func</a> 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#ac8919fd5c44ffdde5e659b51bc696ed4" class="el">func</a>
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
void * 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#a7a35a0fdb8e1c49c738e29bbc93066cb" class="el">user_data</a>
</td>
</tr>
<tr class="odd">
<td style="text-align: right;">
int32_t 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#a4bd2d9440bc8dc18eeeca2d464156a38" class="el">flags</a>
</td>
</tr>
</tbody>
</table>
<hr />
<p><span id="details" class="anchor" style="margin: 0;"></span></p>
<h2 id="detailed-description">Detailed Description</h2>
<p><code>PP_CompletionCallback</code> is a common mechanism for supporting potentially asynchronous calls in browser interfaces.</p>
<p>Any method that takes a <code>PP_CompletionCallback</code> can be used in one of three different ways:</p>
<ul>
<li><p>Required: The callback will always be invoked asynchronously on the thread where the associated PPB method was invoked. The method will always return PP_OK_COMPLETIONPENDING when a required callback, and the callback will be invoked later (barring system or thread shutdown; see PPB_MessageLoop for details). Required callbacks are the default.</p>
<p>NOTE: If you use a required callback on a background thread, you must have created and attached a PPB_MessageLoop. Otherwise, the system can not run your callback on that thread, and will instead emit a log message and crash your plugin to make the problem more obvious.</p></li>
</ul>
<!-- -->
<ul>
<li><p>Optional: The callback may be invoked asynchronously, or the PPB method may complete synchronously if it can do so without blocking. If the method will complete asynchronously, it will return PP_OK_COMPLETIONPENDING. Otherwise, it will complete synchronously and return an appropriate code (see below for more information on the return code). Optional callbacks are generally more difficult to use correctly than Required callbacks, but can provide better performance for some APIs (especially APIs with buffered reads, such as PPB_URLLoader or PPB_FileIO).</p>
<p>NOTE: If you use an optional callback on a background thread, and you have not created and attached a PPB_MessageLoop, then the method you invoke will fail without running and return PP_ERROR_NO_MESSAGE_LOOP.</p></li>
</ul>
<!-- -->
<ul>
<li><p>Blocking: In this case, the callback’s function pointer is NULL, and the invoked method must complete synchronously. The method will run to completion and return an appropriate code when finished (see below for more information). Blocking completion callbacks are only supported on background threads.</p>
<p><code>PP_BlockUntilComplete()</code> provides a convenient way to specify blocking behavior. Refer to <code>PP_BlockUntilComplete</code> for more information.</p></li>
</ul>
<p>When the callback is run asynchronously, the result parameter passed to <code>func</code> is an int32_t that, if negative indicates an error code whose meaning is specific to the calling method (refer to <code>pp_error.h</code> for further information). A positive or 0 value is a return result indicating success whose meaning depends on the calling method (e.g. number of bytes read).</p>
<hr />
<h2 id="field-documentation">Field Documentation</h2>
<p><span id="a4bd2d9440bc8dc18eeeca2d464156a38" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
int32_t <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#a4bd2d9440bc8dc18eeeca2d464156a38" class="el">PP_CompletionCallback::flags</a>
</td>
</tr>
</tbody>
</table>
<p>Flags used to control how non-NULL callbacks are scheduled by asynchronous methods.</p>
<p><span id="ac8919fd5c44ffdde5e659b51bc696ed4" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
<a href="/docs/native-client/pepper_beta/c/group___typedefs#ga6fe12e1a41df5e10103a811036d4d8d2" class="el">PP_CompletionCallback_Func</a> <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#ac8919fd5c44ffdde5e659b51bc696ed4" class="el">PP_CompletionCallback::func</a>
</td>
</tr>
</tbody>
</table>
<p>This value is a callback function that will be called, or NULL if this is a blocking completion callback.</p>
<p><span id="a7a35a0fdb8e1c49c738e29bbc93066cb" class="anchor" style="margin: 0;"></span></p>
<table>
<tbody>
<tr class="odd">
<td>
void* <a href="/docs/native-client/pepper_beta/c/struct_p_p___completion_callback#a7a35a0fdb8e1c49c738e29bbc93066cb" class="el">PP_CompletionCallback::user_data</a>
</td>
</tr>
</tbody>
</table>
<p>This value is a pointer to user data passed to a callback function.</p>
<hr />
<p>The documentation for this struct was generated from the following file:</p>
<ul>
<li><a href="/docs/native-client/pepper_beta/c/pp__completion__callback_8h/" class="el">pp_completion_callback.h</a></li>
</ul>
</body>
</html>
