<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>pp__array__output_8h</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>—json {“title”:“pp_array_output.h File Reference”} —</p>
<p>Include dependency graph for pp_array_output.h:</p>
<p><img src="/docs/native-client/pepper_beta/c/pp__array__output_8h__incl.png" /></p>
<h2 id="data-structures">Data Structures</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: right;">
struct  
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/struct_p_p___array_output/" class="el">PP_ArrayOutput</a>
</td>
</tr>
<tr class="even">
<td style="text-align: right;">
 
</td>
<td>
A structure that defines a way for the browser to return arrays of data to the plugin. <a href="/docs/native-client/pepper_beta/c/struct_p_p___array_output#details">More…</a><br />
</td>
</tr>
</tbody>
</table>
<h2 id="typedefs">Typedefs</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: right;">
typedef void <em>(</em> 
</td>
<td>
<a href="/docs/native-client/pepper_beta/c/group___typedefs#gaa363de651fad7342a37ec58375276af7" class="el">PP_ArrayOutput_GetDataBuffer</a> )(void *user_data, uint32_t element_count, uint32_t element_size)
</td>
</tr>
</tbody>
</table>
<hr />
<p><span id="details" class="anchor" style="margin: 0;"></span></p>
<h2 id="detailed-description">Detailed Description</h2>
<p>PP_ArrayOutput_GetDataBuffer is a callback function to allocate plugin memory for an array.</p>
<p>It returns the allocated memory or null on failure.</p>
<p>This function will be called reentrantly. This means that if you call a function PPB_Foo.GetData(&amp;array_output), GetData will call your GetDataBuffer function before it returns.</p>
<p>This function will be called even when returning 0-length arrays, so be sure your implementation can support that. You can return NULL for 0 length arrays and it will not be treated as a failure.</p>
<p>You should not perform any processing in this callback, including calling other PPAPI functions, outside of allocating memory. You should not throw any exceptions. In C++, this means using “new (nothrow)” or being sure to catch any exceptions before returning.</p>
<p>The C++ wrapper provides a convenient templatized implementation around std::vector which you should generally use instead of coding this specifically.</p>
<strong>Parameters:</strong><br />

<table>
<tbody>
<tr class="odd">
<td>
user_data
</td>
<td>
The pointer provided in the <a href="/docs/native-client/pepper_beta/c/struct_p_p___array_output/" class="el" title="A structure that defines a way for the browser to return arrays of data to the plugin.">PP_ArrayOutput</a> structure. This has no meaning to the browser, it is intended to be used by the implementation to figure out where to put the data.
</td>
</tr>
<tr class="even">
<td>
element_count
</td>
<td>
The number of elements in the array. This will be 0 if there is no data to return.
</td>
</tr>
<tr class="odd">
<td>
element_size
</td>
<td>
The size of each element in bytes.
</td>
</tr>
</tbody>
</table>
<!-- -->
<p><strong>Returns:</strong><br />
Returns a pointer to the allocated memory. On failure, returns null. You can also return null if the element_count is 0. When a non-null value is returned, the buffer must remain valid until after the callback runs. If used with a blocking callback, the buffer must remain valid until after the function returns. The plugin can then free any memory that it allocated.</p>
</body>
</html>
