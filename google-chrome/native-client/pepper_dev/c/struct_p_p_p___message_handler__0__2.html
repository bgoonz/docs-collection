---json
{"title":"PPP_MessageHandler Struct Reference"}
---
<html><head></head><body>
<div id="doxygen-ref">

  <div>
<!-- Generated by Doxygen 1.7.6.1 -->


</div>
<!--header-->
<div class="contents stack-recursive">
<!-- doxytag: class="PPP_MessageHandler" --><h2>
Data Fields</h2><table class="memberdecls">

<tbody><tr><td class="memItemLeft" align="right" valign="top">void(*&#xA0;</td><td class="memItemRight" valign="bottom"><a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#ab8b6b045541790d1d0ca862d0a225f27">HandleMessage</a> )(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data, const struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#xA0;</td><td class="memItemRight" valign="bottom"><a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#aca37a8a59cb6a0b9be2846a2ab3e2828">HandleBlockingMessage</a> )(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data, const struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *message, struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *response)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#xA0;</td><td class="memItemRight" valign="bottom"><a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#a0804b4fbaab3b6abedd888e96107fd4d">Destroy</a> )(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data)</td></tr>
</tbody></table>
<hr><span class="anchor" id="details" style="margin: 0;"></span><h2>Detailed Description</h2>
<div class="textblock"><p>The <code>PPP_MessageHandler</code> interface is implemented by the plugin if the plugin wants to receive messages from a thread other than the main Pepper thread, or if the plugin wants to handle blocking messages which JavaScript may send via postMessageAndAwaitResponse(). </p>
<p>This interface struct should not be returned by PPP_GetInterface; instead it must be passed as a parameter to <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_b___messaging__1__2#ae5abee73dc21a290514f7f3554a7e895" title="Registers a handler for receiving messages from JavaScript.">PPB_Messaging::RegisterMessageHandler</a>. </p>
</div><hr><h2>Field Documentation</h2>
<span class="anchor" id="a0804b4fbaab3b6abedd888e96107fd4d" style="margin: 0;"></span><!-- doxytag: member="PPP_MessageHandler::Destroy" ref="a0804b4fbaab3b6abedd888e96107fd4d" args=")(PP_Instance instance, void *user_data)" -->
<div class="memitem">
<div class="memproto">
<table class="memname">
<tbody><tr>
<td class="memname">void(* <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#a0804b4fbaab3b6abedd888e96107fd4d">PPP_MessageHandler::Destroy</a>)(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data)</td>
</tr>
</tbody></table>
</div>
<div class="memdoc">
<p>Invoked when the handler object is no longer needed. </p>
<p>After this, no more calls will be made which pass this same value for <code>instance</code> and <code>user_data</code>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
<table class="params">
<tbody><tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>A <code>PP_Instance</code> identifying one instance of a module. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is the same pointer which was provided by a call to RegisterMessageHandler. </td></tr>
</tbody></table>
</dd>
</dl>
</div>
</div>
<span class="anchor" id="aca37a8a59cb6a0b9be2846a2ab3e2828" style="margin: 0;"></span><!-- doxytag: member="PPP_MessageHandler::HandleBlockingMessage" ref="aca37a8a59cb6a0b9be2846a2ab3e2828" args=")(PP_Instance instance, void *user_data, const struct PP_Var *message, struct PP_Var *response)" -->
<div class="memitem">
<div class="memproto">
<table class="memname">
<tbody><tr>
<td class="memname">void(* <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#aca37a8a59cb6a0b9be2846a2ab3e2828">PPP_MessageHandler::HandleBlockingMessage</a>)(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data, const struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *message, struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *response)</td>
</tr>
</tbody></table>
</div>
<div class="memdoc">
<p>Invoked as a result of JavaScript invoking postMessageAndAwaitResponse() on the plugin&apos;s DOM element. </p>
<p>NOTE: JavaScript execution is blocked during the duration of this call. Hence, the plugin should respond as quickly as possible. For this reason, blocking completion callbacks are disallowed while handling a blocking message.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
<table class="params">
<tbody><tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>A <code>PP_Instance</code> identifying one instance of a module. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is the same pointer which was provided by a call to RegisterMessageHandler(). </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>is a copy of the parameter that JavaScript provided to postMessageAndAwaitResponse(). </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">response</td><td>will be copied to a JavaScript object which is returned as the result of postMessageAndAwaitResponse() to the invoking </td></tr>
</tbody></table>
</dd>
</dl>
</div>
</div>
<span class="anchor" id="ab8b6b045541790d1d0ca862d0a225f27" style="margin: 0;"></span><!-- doxytag: member="PPP_MessageHandler::HandleMessage" ref="ab8b6b045541790d1d0ca862d0a225f27" args=")(PP_Instance instance, void *user_data, const struct PP_Var *message)" -->
<div class="memitem">
<div class="memproto">
<table class="memname">
<tbody><tr>
<td class="memname">void(* <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p_p___message_handler__0__2#ab8b6b045541790d1d0ca862d0a225f27">PPP_MessageHandler::HandleMessage</a>)(<a class="el" href="/docs/native-client/pepper_dev/c/group___typedefs#ga89b662403e6a687bb914b80114c0d19d">PP_Instance</a> instance, void *user_data, const struct <a class="el" href="/docs/native-client/pepper_dev/c/struct_p_p___var/">PP_Var</a> *message)</td>
</tr>
</tbody></table>
</div>
<div class="memdoc">
<p>Invoked as a result of JavaScript invoking postMessage() on the plugin&apos;s DOM element. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
<table class="params">
<tbody><tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>A <code>PP_Instance</code> identifying one instance of a module. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is the same pointer which was provided by a call to RegisterMessageHandler(). </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>A copy of the parameter that JavaScript provided to postMessage(). </td></tr>
</tbody></table>
</dd>
</dl>
</div>
</div>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="/docs/native-client/pepper_dev/c/ppp__message__handler_8h/">ppp_message_handler.h</a></li>
</ul>
</div><!-- contents -->
</div>

</body></html>