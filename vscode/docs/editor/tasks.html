<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>tasks</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="integrate-with-external-tools-via-tasks">
      Integrate with External Tools via Tasks
    </h1>
    <hr />
    <p>
      If you are using Visual Studio Code version 1.13 or earlier, refer to the
      previous version of the Tasks
      <a href="/docs/editor/tasks-v1.md">documentation</a>.
    </p>
    <hr />
    <p>
      Lots of tools exist to automate tasks like linting, building, packaging,
      testing, or deploying software systems. Examples include the
      <a href="https://www.typescriptlang.org/">TypeScript Compiler</a>, linters
      like <a href="https://eslint.org/">ESLint</a> and
      <a href="https://palantir.github.io/tslint/">TSLint</a> as well as build
      systems like
      <a href="https://en.wikipedia.org/wiki/Make_software">Make</a>,
      <a href="https://ant.apache.org/">Ant</a>,
      <a href="https://gulpjs.com/">Gulp</a>,
      <a href="https://jakejs.com/">Jake</a>,
      <a href="https://ruby.github.io/rake/">Rake</a>, and
      <a href="https://github.com/microsoft/msbuild">MSBuild</a>.
    </p>
    <figure>
      <img
        src="images/tasks/tasks_hero.png"
        alt="VS Code can talk to a variety of external tools"
      />
      <figcaption>VS Code can talk to a variety of external tools</figcaption>
    </figure>
    <p>
      These tools are mostly run from the command line and automate jobs inside
      and outside the inner software development loop (edit, compile, test, and
      debug). Given their importance in the development life cycle, it is
      helpful to be able to run tools and analyze their results from within VS
      Code. Tasks in VS Code can be configured to run scripts and start
      processes so that many of these existing tools can be used from within VS
      Code without having to enter a command line or write new code. Workspace
      or folder specific tasks are configured from the
      <code>tasks.json</code> file in the <code>.vscode</code> folder for a
      workspace.
    </p>
    <p>
      Extensions can also contribute tasks using a
      <a href="/api/extension-guides/task-provider.md">Task Provider</a>, and
      these contributed tasks can add workspace-specific configurations defined
      in the <code>tasks.json</code> file.
    </p>
    <blockquote>
      <p>
        <strong>Note:</strong> Task support is only available when working on a
        workspace folder. It is not available when editing single files.
      </p>
    </blockquote>
    <h2 id="typescript-hello-world">TypeScript Hello World</h2>
    <p>
      Let’s start with a simple “Hello World” TypeScript program that we want to
      compile to JavaScript.
    </p>
    <p>
      Create an empty folder “mytask”, generate a
      <code>tsconfig.json</code> file and start VS Code from that folder.
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">mkdir</span> mytask</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="bu">cd</span> mytask</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="ex">tsc</span> --init</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="ex">code</span> .</a></code></pre>
    </div>
    <p>
      Now create a <code>HelloWorld.ts</code> file with the following content
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode ts"
      ><code class="sourceCode typescript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="fu">sayHello</span>(name<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">void</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hello </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="fu">sayHello</span>(<span class="st">&#39;Dave&#39;</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      Pressing <code>kb(workbench.action.tasks.build)</code> or running
      <strong>Run Build Task</strong> from the global
      <strong>Terminal</strong> menu show the following picker:
    </p>
    <figure>
      <img
        src="images/tasks/typescript-build.png"
        alt="TypeScript Build Task"
      />
      <figcaption>TypeScript Build Task</figcaption>
    </figure>
    <p>
      The first entry executes the TypeScript compiler and translates the
      TypeScript file to a JavaScript file. When the compiler has finished,
      there should be a <code>HelloWorld.js</code> file. The second entry starts
      the TypeScript compiler in watch mode. Every save to the
      <code>HelloWorld.ts</code> file will regenerate the
      <code>HelloWorld.js</code> file.
    </p>
    <p>
      You can also define the TypeScript build or watch task as the default
      build task so that it is executed directly when triggering
      <strong>Run Build Task</strong>
      (<code>kb(workbench.action.tasks.build)</code>). To do so, select
      <strong>Configure Default Build Task</strong> from the global
      <strong>Terminal</strong> menu. This shows you a picker with the available
      build tasks. Select <strong>tsc: build</strong> or
      <strong>tsc: watch</strong> and VS Code will generate a
      <code>tasks.json</code> file. The one shown below makes the
      <strong>tsc: build</strong> task the default build task:
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;typescript&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-8" title="8">            <span class="dt">&quot;tsconfig&quot;</span><span class="fu">:</span> <span class="st">&quot;tsconfig.json&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-10" title="10">                <span class="st">&quot;$tsc&quot;</span></a>
<a class="sourceLine" id="cb3-11" title="11">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-12" title="12">            <span class="dt">&quot;group&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-13" title="13">                <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-14" title="14">                <span class="dt">&quot;isDefault&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb3-15" title="15">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-16" title="16">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Unlike the previous <code>0.1.0</code> version of the
      <code>tasks.json</code> file, this does not define a new task. It
      annotates the <strong>tsc: build</strong> tasks contributed by VS Code’s
      TypeScript extension to be the default build task. You can now execute the
      TypeScript compiler by pressing
      <code>kb(workbench.action.tasks.build)</code>.
    </p>
    <h2 id="task-auto-detection">Task auto-detection</h2>
    <p>
      VS Code currently auto-detects tasks for the following systems: Gulp,
      Grunt, Jake, and npm. We are working with the corresponding extension
      authors to add support for Maven and the C# <code>dotnet</code> command as
      well. If you develop a JavaScript application using Node.js as the
      runtime, you usually have a <code>package.json</code> file describing your
      dependencies and the scripts to run. If you have cloned the
      <a href="https://github.com/spicydonuts/eslint-starter">eslint-starter</a>
      example, then executing <strong>Run Tasks</strong> from the global menu
      shows the following list:
    </p>
    <figure>
      <img src="images/tasks/eslint-starter.png" alt="Tasks ESLint starter" />
      <figcaption>Tasks ESLint starter</figcaption>
    </figure>
    <p>
      If you have not already done so, install the necessary npm modules by
      running <code>npm install</code>. Now open the <code>server.js</code> file
      and add a semicolon to the end of a statement (note the ESLint starter
      assumes statements without a semicolon) and execute the
      <strong>Run Tasks</strong> again. This time select the
      <strong>npm: lint</strong> task. When prompted for the problem matcher to
      use, select <strong>ESLint stylish</strong>
    </p>
    <figure>
      <img
        src="images/tasks/eslint-problem-matcher-selection.png"
        alt="Tasks ESLint Problem Matcher Selection"
      />
      <figcaption>Tasks ESLint Problem Matcher Selection</figcaption>
    </figure>
    <p>
      Executing the task produces one error, shown in the
      <strong>Problems</strong> view:
    </p>
    <figure>
      <img src="images/tasks/eslint-problem.png" alt="Tasks ESLint Problem" />
      <figcaption>Tasks ESLint Problem</figcaption>
    </figure>
    <p>
      In addition, VS Code created a <code>tasks.json</code> file with the
      following content:
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb4-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-8" title="8">            <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;lint&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb4-10" title="10">                <span class="st">&quot;$eslint-stylish&quot;</span></a>
<a class="sourceLine" id="cb4-11" title="11">            <span class="ot">]</span></a>
<a class="sourceLine" id="cb4-12" title="12">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      This instructs VS Code to scan the output of the
      <strong>npm lint</strong> script for problems using the ESLint stylish
      format.
    </p>
    <p>
      For Gulp, Grunt, and Jake, the task auto-detection works the same. Below
      is an example of the tasks detected for the
      <a href="https://github.com/microsoft/vscode-node-debug"
        >vscode-node-debug</a
      >
      extension.
    </p>
    <figure>
      <img
        src="images/tasks/gulp-auto-detect.png"
        alt="Gulp task auto-detection"
      />
      <figcaption>Gulp task auto-detection</figcaption>
    </figure>
    <blockquote>
      <p>
        <strong>Tip:</strong> You can run your task through
        <strong>Quick Open</strong>
        (<code>kb(workbench.action.quickOpen)</code>) by typing ‘task’,
        <code>kbstyle(Space)</code> and the command name. In this case, ‘task
        lint’.
      </p>
    </blockquote>
    <p>Task auto detection can be disabled using the following settings:</p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="dt">&quot;typescript.tsc.autoDetect&quot;</span><span class="fu">:</span> <span class="st">&quot;off&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="dt">&quot;grunt.autoDetect&quot;</span><span class="fu">:</span> <span class="st">&quot;off&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="dt">&quot;jake.autoDetect&quot;</span><span class="fu">:</span> <span class="st">&quot;off&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">&quot;gulp.autoDetect&quot;</span><span class="fu">:</span> <span class="st">&quot;off&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="dt">&quot;npm.autoDetect&quot;</span><span class="fu">:</span> <span class="st">&quot;off&quot;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="custom-tasks">Custom tasks</h2>
    <p>
      Not all tasks or scripts can be auto-detected in your workspace. Sometimes
      it is necessary to define your own custom tasks. Assume you have a script
      to run your tests in order to set up some environment correctly. The
      script is stored in a script folder inside your workspace and named
      <code>test.sh</code> for Linux and macOS and <code>test.cmd</code> for
      Windows. Run <strong>Configure Tasks</strong> from the global
      <strong>Terminal</strong> menu and select the
      <strong>Create tasks.json file from template</strong> entry. This opens
      the following picker:
    </p>
    <figure>
      <img
        src="images/tasks/configure-task-runner.png"
        alt="Configure Task Runner"
      />
      <figcaption>Configure Task Runner</figcaption>
    </figure>
    <blockquote>
      <p>
        <strong>Note:</strong> If you don’t see the list of task runner
        templates, you may already have a <code>tasks.json</code> file in your
        folder and its contents will be open in the editor. Close the file and
        either delete or rename it for this example.
      </p>
    </blockquote>
    <p>
      We are working on more auto-detection support, so this list will get
      smaller and smaller in the future. Since we want to write our own custom
      task, select <strong>Others</strong> from the list. This opens the
      <code>tasks.json</code> file with a task skeleton. Replace the contents
      with the following:
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb6-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-7" title="7">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Run tests&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-8" title="8">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-9" title="9">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;./scripts/test.sh&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-10" title="10">            <span class="dt">&quot;windows&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-11" title="11">                <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;.</span><span class="ch">\\</span><span class="st">scripts</span><span class="ch">\\</span><span class="st">test.cmd&quot;</span></a>
<a class="sourceLine" id="cb6-12" title="12">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb6-13" title="13">            <span class="dt">&quot;group&quot;</span><span class="fu">:</span> <span class="st">&quot;test&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-14" title="14">            <span class="dt">&quot;presentation&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-15" title="15">                <span class="dt">&quot;reveal&quot;</span><span class="fu">:</span> <span class="st">&quot;always&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-16" title="16">                <span class="dt">&quot;panel&quot;</span><span class="fu">:</span> <span class="st">&quot;new&quot;</span></a>
<a class="sourceLine" id="cb6-17" title="17">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-18" title="18">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-19" title="19">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb6-20" title="20"><span class="fu">}</span></a></code></pre>
    </div>
    <p>The task’s properties have the following semantic:</p>
    <ul>
      <li>
        <strong>label</strong>: The task’s label used in the user interface.
      </li>
      <li>
        <strong>type</strong>: The task’s type. For a custom task, this can
        either be <code>shell</code> or <code>process</code>. If
        <code>shell</code> is specified, the command is interpreted as a shell
        command (for example: bash, cmd, or PowerShell). If
        <code>process</code> is specified, the command is interpreted as a
        process to execute.
      </li>
      <li><strong>command</strong>: The actual command to execute.</li>
      <li>
        <strong>windows</strong>: Any Windows specific properties. Will be used
        instead of the default properties when the command is executed on the
        Windows operating system.
      </li>
      <li>
        <strong>group</strong>: Defines to which group the task belongs. In the
        example, it belongs to the <code>test</code> group. Tasks that belong to
        the test group can be executed by running
        <strong>Run Test Task</strong> from the
        <strong>Command Palette</strong>.
      </li>
      <li>
        <strong>presentation</strong>: Defines how the task output is handled in
        the user interface. In this example, the Integrated Terminal showing the
        output is <code>always</code> revealed and a <code>new</code> terminal
        is created on every task run.
      </li>
      <li>
        <strong>options</strong>: Override the defaults for
        <code>cwd</code> (current working directory),
        <code>env</code> (environment variables), or <code>shell</code> (default
        shell). Options can be set per task but also globally or per platform.
        Environment variables configured here can only be referenced from within
        your task script or process and will not be resolved if they are part of
        your args, command, or other task attributes.
      </li>
      <li><strong>runOptions</strong>: Defines when and how a task is run.</li>
    </ul>
    <p>
      You can see the full set of task properties and values with IntelliSense
      in your <code>tasks.json</code> file. Bring up suggestions with
      <strong>Trigger Suggest</strong>
      (<code>kb(editor.action.triggerSuggest)</code>) and read the descriptions
      on hover or with the <strong>Read More…</strong> (‘i’) flyout.
    </p>
    <figure>
      <img
        src="images/tasks/tasks-intellisense.png"
        alt="tasks.json IntelliSense"
      />
      <figcaption>tasks.json IntelliSense</figcaption>
    </figure>
    <p>
      You can also review the
      <a href="/docs/editor/tasks-appendix.md">tasks.json schema</a>.
    </p>
    <p>
      Shell commands need special treatment when it comes to commands and
      arguments that contain spaces or other special characters like
      <code>$</code>. By default, the task system supports the following
      behavior:
    </p>
    <ul>
      <li>
        If a single command is provided, the task system passes the command as
        is to the underlying shell. If the command needs quoting or escaping to
        function properly, the command needs to contain the proper quotes or
        escape characters. For example, to list the directory of a folder
        containing spaces in its name, the command executed in bash should look
        like this: <code>ls 'folder with spaces'</code>.
      </li>
    </ul>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;dir&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;dir &#39;folder with spaces&#39;&quot;</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="fu">}</span></a></code></pre>
    </div>
    <ul>
      <li>
        If a command and arguments are provided, the task system will use single
        quotes if the command or arguments contain spaces. For
        <code>cmd.exe</code>, double quotes are used. A shell command like below
        will be executed in PowerShell as <code>dir 'folder with spaces'</code>.
      </li>
    </ul>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;dir&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;dir&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-5" title="5">  <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="st">&quot;folder with spaces&quot;</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="fu">}</span></a></code></pre>
    </div>
    <ul>
      <li>
        If you want to control how the argument is quoted, the argument can be a
        literal specifying the value and a quoting style. The example below uses
        escaping instead of quoting for an argument with spaces.
      </li>
    </ul>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;dir&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;dir&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb9-7" title="7">      <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;folder with spaces&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-8" title="8">      <span class="dt">&quot;quoting&quot;</span><span class="fu">:</span> <span class="st">&quot;escape&quot;</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb9-10" title="10">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="fu">}</span></a></code></pre>
    </div>
    <p>Besides escaping, the following values are supported:</p>
    <ul>
      <li>
        <strong>strong</strong>: Uses the shell’s strong quoting mechanism,
        which suppresses all evaluations inside the string. Under PowerShell and
        for shells under Linux and macOS, single quotes are used
        (<code>'</code>). For cmd.exe, <code>"</code> is used.
      </li>
      <li>
        <strong>weak</strong>: Uses the shell’s weak quoting mechanism, which
        still evaluates expression inside the string (for example, environment
        variables). Under PowerShell and for shells under Linux and macOS,
        double quotes are used (<code>"</code>). cmd.exe doesn’t support weak
        quoting so VS Code uses <code>"</code> as well.
      </li>
    </ul>
    <p>
      If the command itself contains spaces, VS Code will by default strong
      quote the command as well. As with arguments, the user can control the
      quoting of the command using the same literal style.
    </p>
    <p>
      There are more task properties to configure your workflow. You can use
      IntelliSense with <code>kb(editor.action.triggerSuggest)</code> to get an
      overview of the valid properties.
    </p>
    <figure>
      <img src="images/tasks/intellisense.png" alt="Tasks IntelliSense" />
      <figcaption>Tasks IntelliSense</figcaption>
    </figure>
    <p>
      In addition to the global menu bar, task commands can be accessed using
      the
      <strong>Command Palette</strong>
      (<code>kb(workbench.action.showCommands)</code>). You can filter on ‘task’
      and can see the various task related commands.
    </p>
    <figure>
      <img
        src="images/tasks/command-palette.png"
        alt="Tasks in Command Palette"
      />
      <figcaption>Tasks in Command Palette</figcaption>
    </figure>
    <h3 id="compound-tasks">Compound tasks</h3>
    <p>
      You can also compose tasks out of simpler tasks with the
      <code>dependsOn</code> property. For example, if you have a workspace with
      a client and server folder and both contain a build script, you can create
      a task that starts both build scripts in separate terminals. If you list
      more than one task in the <code>dependsOn</code> property, they are
      executed in parallel by default.
    </p>
    <p>The <code>tasks.json</code> file looks like this:</p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb10-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-5" title="5">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Client Build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-6" title="6">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;gulp&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-7" title="7">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;build&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-8" title="8">            <span class="dt">&quot;options&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-9" title="9">                <span class="dt">&quot;cwd&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}/client&quot;</span></a>
<a class="sourceLine" id="cb10-10" title="10">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb10-11" title="11">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-12" title="12">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-13" title="13">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Server Build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-14" title="14">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;gulp&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-15" title="15">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;build&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-16" title="16">            <span class="dt">&quot;options&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-17" title="17">                <span class="dt">&quot;cwd&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}/server&quot;</span></a>
<a class="sourceLine" id="cb10-18" title="18">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb10-19" title="19">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-20" title="20">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-21" title="21">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-22" title="22">            <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Client Build&quot;</span><span class="ot">,</span> <span class="st">&quot;Server Build&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb10-23" title="23">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb10-24" title="24">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb10-25" title="25"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      If you specify <code>"dependsOrder": "sequence"</code> then your task
      dependencies are executed in the order they are listed in
      <code>dependsOn</code>. Any background/watch tasks used in
      <code>dependsOn</code> with <code>"dependsOrder": "sequence"</code> must
      have a problem matcher that tracks when they are “done”. The following
      task runs task Two, task Three, and then task One.
    </p>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;One&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-4" title="4">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;echo Hello &quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-5" title="5">    <span class="dt">&quot;dependsOrder&quot;</span><span class="fu">:</span> <span class="st">&quot;sequence&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span><span class="ot">[</span></a>
<a class="sourceLine" id="cb11-7" title="7">        <span class="st">&quot;Two&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb11-8" title="8">        <span class="st">&quot;Three&quot;</span></a>
<a class="sourceLine" id="cb11-9" title="9">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="fu">}</span></a></code></pre>
    </div>
    <h3 id="user-level-tasks">User level tasks</h3>
    <p>
      You can create user level tasks that are not tied to a specifc workspace
      or folder using the <strong>Tasks: Open User Tasks</strong> command. Only
      <code>shell</code> and <code>process</code> tasks can be used here since
      other task types require workspace information.
    </p>
    <h2 id="output-behavior">Output behavior</h2>
    <p>
      Sometimes you want to control how the Integrated Terminal panel behaves
      when running tasks. For instance, you may want to maximize editor space
      and only look at task output if you think there is a problem. The behavior
      of the terminal can be controlled using the
      <code>presentation</code> property of a task. It offers the following
      properties:
    </p>
    <ul>
      <li>
        <strong>reveal</strong>: Controls whether the Integrated Terminal panel
        is brought to front. Valid values are:
        <ul>
          <li>
            <em>always</em> - The panel is always brought to front. This is the
            default.
          </li>
          <li>
            <em>never</em> - The user must explicitly bring the terminal panel
            to the front using the <strong>View</strong> &gt;
            <strong>Terminal</strong> command
            (<code>kb(workbench.action.terminal.toggleTerminal)</code>).
          </li>
          <li>
            <em>silent</em> - The terminal panel is brought to front only if the
            output is not scanned for errors and warnings.
          </li>
        </ul>
      </li>
      <li>
        <strong>focus</strong>: Controls whether the terminal is taking input
        focus or not. Default is <code>false</code>.
      </li>
      <li>
        <strong>echo</strong>: Controls whether the executed command is echoed
        in the terminal. Default is <code>true</code>.
      </li>
      <li>
        <strong>showReuseMessage</strong>: Controls whether to show the
        “Terminal will be reused by tasks, press any key to close it” message.
      </li>
      <li>
        <strong>panel</strong>: Controls whether the terminal instance is shared
        between task runs. Possible values are:
        <ul>
          <li>
            <em>shared</em>: The terminal is shared and the output of other task
            runs are added to the same terminal.
          </li>
          <li>
            <em>dedicated</em>: The terminal is dedicated to a specific task. If
            that task is executed again, the terminal is reused. However, the
            output of a different task is presented in a different terminal.
          </li>
          <li>
            <em>new</em>: Every execution of that task is using a new clean
            terminal.
          </li>
        </ul>
      </li>
      <li>
        <strong>clear</strong>: Controls whether the terminal is cleared before
        this task is run. Default is <code>false</code>.
      </li>
      <li>
        <strong>group</strong>: Controls whether the task is executed in a
        specific terminal group using split panes. Tasks in the same group
        (specified by a string value) will use split terminals to present
        instead of a new terminal panel.
      </li>
    </ul>
    <p>
      You can modify the terminal panel behavior for auto-detected tasks as
      well. For example, if you want to change the output behavior for the
      <strong>npm: run lint</strong> from the ESLint example from above, add the
      <code>presentation</code> property to it:
    </p>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb12-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-8" title="8">            <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;lint&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-10" title="10">                <span class="st">&quot;$eslint-stylish&quot;</span></a>
<a class="sourceLine" id="cb12-11" title="11">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-12" title="12">            <span class="dt">&quot;presentation&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-13" title="13">                <span class="dt">&quot;reveal&quot;</span><span class="fu">:</span> <span class="st">&quot;never&quot;</span></a>
<a class="sourceLine" id="cb12-14" title="14">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-15" title="15">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-16" title="16">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      You can also mix custom tasks with configurations for detected tasks. A
      <code>tasks.json</code> that configures the
      <strong>npm: run lint</strong> task and adds a custom
      <strong>Run Test</strong> tasks looks like this:
    </p>
    <div class="sourceCode" id="cb13">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb13-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb13-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb13-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-8" title="8">            <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;lint&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb13-10" title="10">                <span class="st">&quot;$eslint-stylish&quot;</span></a>
<a class="sourceLine" id="cb13-11" title="11">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-12" title="12">            <span class="dt">&quot;presentation&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb13-13" title="13">                <span class="dt">&quot;reveal&quot;</span><span class="fu">:</span> <span class="st">&quot;never&quot;</span></a>
<a class="sourceLine" id="cb13-14" title="14">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb13-15" title="15">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-16" title="16">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb13-17" title="17">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Run tests&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-18" title="18">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-19" title="19">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;./scripts/test.sh&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-20" title="20">            <span class="dt">&quot;windows&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb13-21" title="21">                <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;.</span><span class="ch">\\</span><span class="st">scripts</span><span class="ch">\\</span><span class="st">test.cmd&quot;</span></a>
<a class="sourceLine" id="cb13-22" title="22">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb13-23" title="23">            <span class="dt">&quot;group&quot;</span><span class="fu">:</span> <span class="st">&quot;test&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-24" title="24">            <span class="dt">&quot;presentation&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb13-25" title="25">                <span class="dt">&quot;reveal&quot;</span><span class="fu">:</span> <span class="st">&quot;always&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-26" title="26">                <span class="dt">&quot;panel&quot;</span><span class="fu">:</span> <span class="st">&quot;new&quot;</span></a>
<a class="sourceLine" id="cb13-27" title="27">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb13-28" title="28">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb13-29" title="29">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb13-30" title="30"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="run-behavior">Run behavior</h2>
    <p>
      You can specify a task’s run behaviors using the
      <code>runOptions</code> property:
    </p>
    <ul>
      <li>
        <strong>reevaluateOnRerun</strong>: Controls how variables are evaluated
        when a task is executed through the
        <strong>Rerun Last Task</strong> command. The default is
        <code>true</code>, meaning that variables will be reevaluated when a
        task is rerun. When set to <code>false</code> the resolved variable
        values from the previous run of the task will be used.
      </li>
      <li>
        <strong>runOn</strong>: Specifies when a task is run.
        <ul>
          <li>
            <code>default</code>: The task will only be run when executed
            through the <strong>Run Task</strong> command.
          </li>
          <li>
            <code>folderOpen</code>: The task will be run when the containing
            folder is opened. The first time you open a folder that contains a
            task with <code>folderOpen</code>, you will be asked if you want to
            allow tasks to run automatically in that folder. You can change your
            decision later using the
            <strong>Allow Automatic Tasks in Folder</strong> and
            <strong>Disallow Automatic Tasks in Folder</strong> commands.
          </li>
        </ul>
      </li>
    </ul>
    <h2 id="customizing-auto-detected-tasks">
      Customizing auto-detected tasks
    </h2>
    <p>
      As mentioned above, you can customize auto-detected tasks in the
      <code>tasks.json</code> file. You usually do so to modify presentation
      properties or to attach a problem matcher to scan the task’s output for
      errors and warnings. You can customize a task directly from the
      <strong>Run Task</strong> list by pressing the gear icon to the right to
      insert the corresponding task reference into the
      <code>tasks.json</code> file. Assume you have the following Gulp file to
      lint JavaScript files using ESLint (the file is taken from
      <a href="https://github.com/adametry/gulp-eslint"
        >https://github.com/adametry/gulp-eslint</a
      >):
    </p>
    <div class="sourceCode" id="cb14">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> gulp <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;gulp&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">const</span> eslint <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;gulp-eslint&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3"></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="va">gulp</span>.<span class="at">task</span>(<span class="st">&#39;lint&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" title="5">    <span class="co">// ESLint ignores files with &quot;node_modules&quot; paths.</span></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="co">// So, it&#39;s best to have gulp ignore the directory as well.</span></a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="co">// Also, Be sure to return the stream from the task;</span></a>
<a class="sourceLine" id="cb14-8" title="8">    <span class="co">// Otherwise, the task may end before the stream has finished.</span></a>
<a class="sourceLine" id="cb14-9" title="9">    <span class="cf">return</span> <span class="va">gulp</span>.<span class="at">src</span>([<span class="st">&#39;**/*.js&#39;</span><span class="op">,</span><span class="st">&#39;!node_modules/**&#39;</span>])</a>
<a class="sourceLine" id="cb14-10" title="10">        <span class="co">// eslint() attaches the lint output to the &quot;eslint&quot; property</span></a>
<a class="sourceLine" id="cb14-11" title="11">        <span class="co">// of the file object so it can be used by other modules.</span></a>
<a class="sourceLine" id="cb14-12" title="12">        .<span class="at">pipe</span>(<span class="at">eslint</span>())</a>
<a class="sourceLine" id="cb14-13" title="13">        <span class="co">// eslint.format() outputs the lint results to the console.</span></a>
<a class="sourceLine" id="cb14-14" title="14">        <span class="co">// Alternatively use eslint.formatEach() (see Docs).</span></a>
<a class="sourceLine" id="cb14-15" title="15">        .<span class="at">pipe</span>(<span class="va">eslint</span>.<span class="at">format</span>())</a>
<a class="sourceLine" id="cb14-16" title="16">        <span class="co">// To have the process exit with an error code (1) on</span></a>
<a class="sourceLine" id="cb14-17" title="17">        <span class="co">// lint error, return the stream and pipe to failAfterError last.</span></a>
<a class="sourceLine" id="cb14-18" title="18">        .<span class="at">pipe</span>(<span class="va">eslint</span>.<span class="at">failAfterError</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb14-19" title="19"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-20" title="20"></a>
<a class="sourceLine" id="cb14-21" title="21"><span class="va">gulp</span>.<span class="at">task</span>(<span class="st">&#39;default&#39;</span><span class="op">,</span> [<span class="st">&#39;lint&#39;</span>]<span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb14-22" title="22">    <span class="co">// This will only run if the lint task is successful...</span></a>
<a class="sourceLine" id="cb14-23" title="23"><span class="op">}</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      Executing <strong>Run Task</strong> from the global
      <strong>Terminal</strong> menu will show the following picker:
    </p>
    <figure>
      <img src="images/tasks/configure-tasks.png" alt="Configure Task" />
      <figcaption>Configure Task</figcaption>
    </figure>
    <p>
      Press the gear icon. This will create the following
      <code>tasks.json</code> file:
    </p>
    <div class="sourceCode" id="cb15">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb15-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb15-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb15-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;gulp&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-8" title="8">            <span class="dt">&quot;task&quot;</span><span class="fu">:</span> <span class="st">&quot;default&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[]</span></a>
<a class="sourceLine" id="cb15-10" title="10">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb15-11" title="11">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Usually you would now add a problem matcher (in this case
      <code>$eslint-stylish</code>) or modify the presentation settings.
    </p>
    <h2 id="processing-task-output-with-problem-matchers">
      Processing task output with problem matchers
    </h2>
    <p>
      VS Code can process the output from a task with a problem matcher. Problem
      matchers scan the task output text for known warning or error strings, and
      report these inline in the editor and in the Problems panel. VS Code ships
      with several problem matchers ‘in-the-box’:
    </p>
    <ul>
      <li>
        <strong>TypeScript</strong>: <code>$tsc</code> assumes that file names
        in the output are relative to the opened folder.
      </li>
      <li>
        <strong>TypeScript Watch</strong>: <code>$tsc-watch</code> matches
        problems reported from the <code>tsc</code> compiler when executed in
        watch mode.
      </li>
      <li>
        <strong>JSHint</strong>: <code>$jshint</code> assumes that file names
        are reported as an absolute path.
      </li>
      <li>
        <strong>JSHint Stylish</strong>: <code>$jshint-stylish</code> assumes
        that file names are reported as an absolute path.
      </li>
      <li>
        <strong>ESLint Compact</strong>: <code>$eslint-compact</code> assumes
        that file names in the output are relative to the opened folder.
      </li>
      <li>
        <strong>ESLint Stylish</strong>: <code>$eslint-stylish</code> assumes
        that file names in the output are relative to the opened folder.
      </li>
      <li>
        <strong>Go</strong>: <code>$go</code> matches problems reported from the
        <code>go</code> compiler. Assumes that file names are relative to the
        opened folder.
      </li>
      <li>
        <strong>CSharp and VB Compiler</strong>: <code>$mscompile</code> assumes
        that file names are reported as an absolute path.
      </li>
      <li>
        <strong>Lessc compiler</strong>: <code>$lessc</code> assumes that file
        names are reported as absolute path.
      </li>
      <li>
        <strong>Node Sass compiler</strong>: <code>$node-sass</code> assumes
        that file names are reported as an absolute path.
      </li>
    </ul>
    <p>
      You can also create your own problem matcher, which we’ll discuss
      <a href="/docs/editor/tasks.md#defining-a-problem-matcher"
        >in a later section</a
      >.
    </p>
    <h2 id="binding-keyboard-shortcuts-to-tasks">
      Binding keyboard shortcuts to tasks
    </h2>
    <p>
      If you need to run a task frequently, you can define a keyboard shortcut
      for the task.
    </p>
    <p>
      For example, to bind <code>Ctrl+H</code> to the
      <strong>Run tests</strong> task from above, add the following to your
      <code>keybindings.json</code> file:
    </p>
    <div class="sourceCode" id="cb16">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb16-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb16-2" title="2">    <span class="dt">&quot;key&quot;</span><span class="fu">:</span> <span class="st">&quot;ctrl+h&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-3" title="3">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;workbench.action.tasks.runTask&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="st">&quot;Run tests&quot;</span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="variable-substitution">Variable substitution</h2>
    <p>
      When authoring tasks configurations, it is useful to have a set of
      predefined common variables such as the active file (<code>${file}</code>)
      or workspace root folder (<code>${workspaceFolder}</code>). VS Code
      supports variable substitution inside strings in the
      <code>tasks.json</code> file and you can see a full list of predefined
      variables in the
      <a href="/docs/editor/variables-reference.md">Variables Reference</a>.
    </p>
    <blockquote>
      <p>
        <strong>Note:</strong> Not all properties will accept variable
        substitution. Specifically, only <code>command</code>,
        <code>args</code>, and <code>options</code> support variable
        substitution.
      </p>
    </blockquote>
    <p>
      Below is an example of a custom task configuration that passes the current
      opened file to the TypeScript compiler.
    </p>
    <div class="sourceCode" id="cb17">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb17-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;TypeScript compile&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-4" title="4">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;tsc ${file}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-5" title="5">    <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb17-6" title="6">        <span class="st">&quot;$tsc&quot;</span></a>
<a class="sourceLine" id="cb17-7" title="7">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Similarly, you can reference your project’s configuration settings by
      prefixing the name with **<span class="math inline"
        >${config:**. For example, `$</span
      >{config:python.formatting.autopep8Path}<code
        >returns the Python extension setting</code
      >formatting.autopep8Path`.
    </p>
    <p>
      Below is an example of a custom task configuration, which executes
      autopep8 on the current file using the autopep8 executable defined by the
      <code>python.formatting.autopep8Path</code> setting:
    </p>
    <div class="sourceCode" id="cb18">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb18-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb18-2" title="2">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;autopep8 current file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;process&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-4" title="4">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;${config:python.formatting.autopep8Path}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-5" title="5">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb18-6" title="6">        <span class="st">&quot;--in-place&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb18-7" title="7">        <span class="st">&quot;${file}&quot;</span></a>
<a class="sourceLine" id="cb18-8" title="8">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      If you want to specify the selected Python interpreter used by the Python
      extension for <code>tasks.json</code> or <code>launch.json</code>, you can
      use the <code>${command:python.interpreterPath}</code> command.
    </p>
    <p>
      If simple variable substitution isn’t enough, you can also get input from
      the user of your task by adding an <code>inputs</code> section to your
      <code>tasks.json</code> file.
    </p>
    <figure>
      <img src="images/tasks/run-input-example.gif" alt="Inputs Example" />
      <figcaption>Inputs Example</figcaption>
    </figure>
    <p>
      For more information about <code>inputs</code>, see the
      <a href="/docs/editor/variables-reference.md">Variables Reference</a>.
    </p>
    <h2 id="operating-system-specific-properties">
      Operating system specific properties
    </h2>
    <p>
      The task system supports defining values (for example, the command to be
      executed) specific to an operating system. To do so, put an operating
      system specific literal into the <code>tasks.json</code> file and specify
      the corresponding properties inside that literal.
    </p>
    <p>
      Below is an example that uses the Node.js executable as a command and is
      treated differently on Windows and Linux:
    </p>
    <div class="sourceCode" id="cb19">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb19-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Run Node&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;process&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-4" title="4">    <span class="dt">&quot;windows&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb19-5" title="5">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;C:</span><span class="ch">\\</span><span class="st">Program Files</span><span class="ch">\\</span><span class="st">nodejs</span><span class="ch">\\</span><span class="st">node.exe&quot;</span></a>
<a class="sourceLine" id="cb19-6" title="6">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb19-7" title="7">    <span class="dt">&quot;linux&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb19-8" title="8">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;/usr/bin/node&quot;</span></a>
<a class="sourceLine" id="cb19-9" title="9">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb19-10" title="10"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Valid operating properties are <code>windows</code> for Windows,
      <code>linux</code> for Linux, and <code>osx</code> for macOS. Properties
      defined in an operating system specific scope override properties defined
      in the task or global scope.
    </p>
    <p>
      Task properties can also be defined in the global scope. If present, they
      will be used for specific tasks unless they define the same property with
      a different value. In the example below, there is a global
      <code>presentation</code> property, which defines that all tasks should be
      executed in a new panel:
    </p>
    <div class="sourceCode" id="cb20">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb20-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb20-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb20-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb20-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-5" title="5">    <span class="dt">&quot;presentation&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb20-6" title="6">        <span class="dt">&quot;panel&quot;</span><span class="fu">:</span> <span class="st">&quot;new&quot;</span></a>
<a class="sourceLine" id="cb20-7" title="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb20-8" title="8">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb20-9" title="9">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb20-10" title="10">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;TS - Compile current file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-11" title="11">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-12" title="12">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;tsc ${file}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-13" title="13">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb20-14" title="14">                <span class="st">&quot;$tsc&quot;</span></a>
<a class="sourceLine" id="cb20-15" title="15">            <span class="ot">]</span></a>
<a class="sourceLine" id="cb20-16" title="16">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb20-17" title="17">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="fu">}</span></a></code></pre>
    </div>
    <h3 id="character-escaping-in-powershell">
      Character escaping in PowerShell
    </h3>
    <p>
      When the default shell is PowerShell, or when a task is configured to use
      PowerShell, you might see unexpected space and quote escaping. The
      unexpected escaping only occurs with cmdlets because VS Code doesn’t know
      if your command contains cmdlets. Example 1 below shows a case where
      you’ll get escaping that doesn’t work with PowerShell. Example 2 shows the
      best, cross-platform, way to get good escaping. In some cases, you might
      not be able to follow example 2 and you’ll need to do the manual escaping
      shown in example 3.
    </p>
    <div class="sourceCode" id="cb21">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb21-1" title="1"><span class="er">&quot;tasks&quot;:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb21-2" title="2">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb21-3" title="3">        <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;PowerShell example 1 (unexpected escaping)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-4" title="4">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-5" title="5">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;Get-ChildItem </span><span class="ch">\&quot;</span><span class="st">Folder With Spaces</span><span class="ch">\&quot;</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb21-7" title="7">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb21-8" title="8">        <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;PowerShell example 2 (expected escaping)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-9" title="9">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-10" title="10">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;Get-ChildItem&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-11" title="11">        <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Folder With Spaces&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb21-12" title="12">    <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb21-13" title="13">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb21-14" title="14">        <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;PowerShell example 3 (manual escaping)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-15" title="15">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-16" title="16">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;&amp; Get-ChildItem </span><span class="ch">\\\&quot;</span><span class="st">Folder With Spaces</span><span class="ch">\\\&quot;</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb21-17" title="17">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb21-18" title="18"><span class="ot">]</span></a></code></pre>
    </div>
    <h2 id="changing-the-encoding-for-a-task-output">
      Changing the encoding for a task output
    </h2>
    <p>
      Tasks frequently act with files on disk. If these files are stored on disk
      with an encoding different than the system encoding, you need to let the
      command executed as a task know which encoding to use. Since this depends
      on the operating system and the shell used, there is no general solution
      to control this. Below are advice and examples on how to make it work.
    </p>
    <p>
      If you need to tweak the encoding, you should check whether it makes sense
      to change the default encoding used by your operating system or at least
      change it for the shell you use by tweaking the shell’s profile file.
    </p>
    <p>
      If you only need to tweak it for a specific task, then add the OS-specific
      command necessary to change the encoding to the tasks command line. The
      following example is for Windows using code page of 437 as its default.
      The task shows the output of a file containing Cyrillic characters and
      therefore needs code page 866. The task to list the file looks like this
      assuming that the default shell is set to <code>cmd.exe</code>:
    </p>
    <div class="sourceCode" id="cb22">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb22-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb22-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb22-7" title="7">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;more&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-8" title="8">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-9" title="9">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;chcp 866 &amp;&amp; more russian.txt&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-10" title="10">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[]</span></a>
<a class="sourceLine" id="cb22-11" title="11">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb22-12" title="12">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb22-13" title="13"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      If the task is executed in <code>PowerShell</code>, the command needs to
      read like this <code>chcp 866; more russian.txt</code>. On Linux and
      macOS, the <code>locale</code> command can be used to inspect the locale
      and tweak the necessary environment variables.
    </p>
    <h2 id="examples-of-tasks-in-action">Examples of tasks in action</h2>
    <p>
      To highlight the power of tasks, here are a few examples of how VS Code
      can use tasks to integrate external tools like linters and compilers.
    </p>
    <h3 id="transpiling-typescript-to-javascript">
      Transpiling TypeScript to JavaScript
    </h3>
    <p>
      The
      <a
        href="/docs/languages/typescript.md#transpiling-typescript-into-javascript"
        >TypeScript topic</a
      >
      includes an example that creates a task to transpile TypeScript to
      JavaScript and observe any related errors from within VS Code.
    </p>
    <h3 id="compiling-markdown-to-html">Compiling Markdown to HTML</h3>
    <p>
      The Markdown topic provides two examples for compiling Markdown to HTML:
    </p>
    <ol type="1">
      <li>
        <a href="/docs/languages/markdown.md#compiling-markdown-into-html"
          >Manually compiling with a Build task</a
        >
      </li>
      <li>
        <a href="/docs/languages/markdown.md#automating-markdown-compilation"
          >Automating the compile step with a file watcher</a
        >
      </li>
    </ol>
    <h3 id="transpiling-less-and-scss-into-css">
      Transpiling Less and SCSS into CSS
    </h3>
    <p>
      The CSS topic provides examples of how to use Tasks to generate CSS files.
    </p>
    <ol type="1">
      <li>
        <a href="/docs/languages/css.md#transpiling-sass-and-less-into-css"
          >Manually transpiling with a Build task</a
        >
      </li>
      <li>
        <a href="/docs/languages/css.md#automating-sassless-compilation"
          >Automation of the compile step with a file watcher</a
        >
      </li>
    </ol>
    <h2 id="defining-a-problem-matcher">Defining a problem matcher</h2>
    <p>
      VS Code ships some of the most common problem matchers ‘in-the-box’.
      However, there are lots of compilers and linting tools out there, all of
      which produce their own style of errors and warnings so you may want to
      create your own problem matcher.
    </p>
    <p>
      We have a <code>helloWorld.c</code> program in which the developer
      mistyped <strong>printf</strong> as <strong>prinft</strong>. Compiling it
      with <a href="https://gcc.gnu.org/">gcc</a> will produce the following
      warning:
    </p>
    <div class="sourceCode" id="cb23">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="ex">helloWorld.c</span>:5:3: warning: implicit declaration of function ‘prinft’</a></code></pre>
    </div>
    <p>
      We want to produce a problem matcher that can capture the message in the
      output and show a corresponding problem in VS Code. Problem matchers
      heavily rely on
      <a href="https://en.wikipedia.org/wiki/Regular_expression"
        >regular expressions</a
      >. The section below assumes you are familiar with regular expressions.
    </p>
    <blockquote>
      <p>
        <strong>Tip:</strong> We have found the
        <a href="https://regex101.com/">RegEx101 playground</a>, which has an
        ECMAScript (JavaScript) flavor, to be a great way to develop and test
        regular expressions.
      </p>
    </blockquote>
    <p>
      A matcher that captures the above warning (and errors) looks like this:
    </p>
    <div class="sourceCode" id="cb24">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb24-2" title="2">    <span class="er">//</span> <span class="er">The</span> <span class="er">problem</span> <span class="er">is</span> <span class="er">owned</span> <span class="er">by</span> <span class="er">the</span> <span class="er">cpp</span> <span class="er">language</span> <span class="er">service.</span></a>
<a class="sourceLine" id="cb24-3" title="3">    <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;cpp&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-4" title="4">    <span class="er">//</span> <span class="er">The</span> <span class="er">file</span> <span class="er">name</span> <span class="er">for</span> <span class="er">reported</span> <span class="er">problems</span> <span class="er">is</span> <span class="er">relative</span> <span class="er">to</span> <span class="er">the</span> <span class="er">opened</span> <span class="er">folder.</span></a>
<a class="sourceLine" id="cb24-5" title="5">    <span class="dt">&quot;fileLocation&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;relative&quot;</span><span class="ot">,</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-6" title="6">    <span class="er">//</span> <span class="er">The</span> <span class="er">actual</span> <span class="er">pattern</span> <span class="er">to</span> <span class="er">match</span> <span class="er">problems</span> <span class="er">in</span> <span class="er">the</span> <span class="er">output.</span></a>
<a class="sourceLine" id="cb24-7" title="7">    <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb24-8" title="8">        <span class="er">//</span> <span class="er">The</span> <span class="er">regular</span> <span class="er">expression.</span> <span class="er">Example</span> <span class="er">to</span> <span class="er">match</span><span class="fu">:</span> <span class="er">helloWorld.c:</span><span class="dv">5</span><span class="er">:</span><span class="dv">3</span><span class="er">:</span> <span class="er">warning:</span> <span class="er">implicit</span> <span class="er">declaration</span> <span class="er">of</span> <span class="er">function</span> <span class="er">‘printf’</span> <span class="ot">[</span><span class="er">-Wimplicit-function-declaration</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb24-9" title="9">        <span class="st">&quot;regexp&quot;</span><span class="er">:</span> <span class="st">&quot;^(.*):(</span><span class="ch">\\</span><span class="st">d+):(</span><span class="ch">\\</span><span class="st">d+):</span><span class="ch">\\</span><span class="st">s+(warning|error):</span><span class="ch">\\</span><span class="st">s+(.*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-10" title="10">        <span class="er">//</span> <span class="er">The</span> <span class="er">first</span> <span class="er">match</span> <span class="er">group</span> <span class="er">matches</span> <span class="er">the</span> <span class="er">file</span> <span class="er">name</span> <span class="er">which</span> <span class="er">is</span> <span class="er">relative.</span></a>
<a class="sourceLine" id="cb24-11" title="11">        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-12" title="12">        <span class="er">//</span> <span class="er">The</span> <span class="er">second</span> <span class="er">match</span> <span class="er">group</span> <span class="er">matches</span> <span class="er">the</span> <span class="er">line</span> <span class="er">on</span> <span class="er">which</span> <span class="er">the</span> <span class="er">problem</span> <span class="er">occurred.</span></a>
<a class="sourceLine" id="cb24-13" title="13">        <span class="dt">&quot;line&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-14" title="14">        <span class="er">//</span> <span class="er">The</span> <span class="er">third</span> <span class="er">match</span> <span class="er">group</span> <span class="er">matches</span> <span class="er">the</span> <span class="er">column</span> <span class="er">at</span> <span class="er">which</span> <span class="er">the</span> <span class="er">problem</span> <span class="er">occurred.</span></a>
<a class="sourceLine" id="cb24-15" title="15">        <span class="dt">&quot;column&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-16" title="16">        <span class="er">//</span> <span class="er">The</span> <span class="er">fourth</span> <span class="er">match</span> <span class="er">group</span> <span class="er">matches</span> <span class="er">the</span> <span class="er">problem&#39;s</span> <span class="er">severity.</span> <span class="er">Can</span> <span class="er">be</span> <span class="er">ignored.</span> <span class="er">Then</span> <span class="er">all</span> <span class="er">problems</span> <span class="er">are</span> <span class="er">captured</span> <span class="er">as</span> <span class="er">errors.</span></a>
<a class="sourceLine" id="cb24-17" title="17">        <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="dv">4</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-18" title="18">        <span class="er">//</span> <span class="er">The</span> <span class="er">fifth</span> <span class="er">match</span> <span class="er">group</span> <span class="er">matches</span> <span class="er">the</span> <span class="er">message.</span></a>
<a class="sourceLine" id="cb24-19" title="19">        <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb24-20" title="20">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb24-21" title="21"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Note that the file, line, and message properties are mandatory. The
      <code>fileLocation</code> specifies whether the file paths that are
      produced by the task output and matched in the problem are
      <code>absolute</code> or <code>relative</code>. If the task produces both
      absolute and relative paths, you can use the <code>autoDetect</code> file
      location. With <code>autoDetect</code>, paths are first tested as absolute
      paths, and if the file doesn’t exist then the path is assumed to be
      relative.
    </p>
    <p>
      Here is a finished <code>tasks.json</code> file with the code above
      (comments removed) wrapped with the actual task details:
    </p>
    <div class="sourceCode" id="cb25">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb25-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-3" title="3">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb25-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb25-5" title="5">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-6" title="6">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;gcc&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-7" title="7">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;-Wall&quot;</span><span class="ot">,</span> <span class="st">&quot;helloWorld.c&quot;</span><span class="ot">,</span> <span class="st">&quot;-o&quot;</span><span class="ot">,</span> <span class="st">&quot;helloWorld&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-8" title="8">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb25-9" title="9">                <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;cpp&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-10" title="10">                <span class="dt">&quot;fileLocation&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;relative&quot;</span><span class="ot">,</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-11" title="11">                <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb25-12" title="12">                    <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^(.*):(</span><span class="ch">\\</span><span class="st">d+):(</span><span class="ch">\\</span><span class="st">d+):</span><span class="ch">\\</span><span class="st">s+(warning|error):</span><span class="ch">\\</span><span class="st">s+(.*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-13" title="13">                    <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-14" title="14">                    <span class="dt">&quot;line&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-15" title="15">                    <span class="dt">&quot;column&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-16" title="16">                    <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="dv">4</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-17" title="17">                    <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb25-18" title="18">                <span class="fu">}</span></a>
<a class="sourceLine" id="cb25-19" title="19">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb25-20" title="20">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb25-21" title="21">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb25-22" title="22"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Running it inside VS Code and pressing
      <code>kb(workbench.actions.view.problems)</code> to get the list of
      problems gives you the following output:
    </p>
    <figure>
      <img src="images/tasks/problemmatcher.png" alt="GCC Problem Matcher" />
      <figcaption>GCC Problem Matcher</figcaption>
    </figure>
    <blockquote>
      <p>
        <strong>Note:</strong> The
        <a
          href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"
          >C/C++ extension</a
        >
        includes problem matchers for GCC so there is no need to define our own.
      </p>
    </blockquote>
    <p>
      There are a couple more properties that can be used inside a pattern.
      These are:
    </p>
    <ul>
      <li>
        <strong>location</strong> - If the problem location is line or
        line,column or startLine,startColumn,endLine,endColumn, then our generic
        location match group can be used.
      </li>
      <li>
        <strong>endLine</strong> - The match group index for the problem’s end
        line. Can be omitted if no end line value is provided by the compiler.
      </li>
      <li>
        <strong>endColumn</strong> - The match group index for the problem’s end
        column. Can be omitted if no end column value is provided by the
        compiler.
      </li>
      <li>
        <strong>code</strong> - The match group index for the problem’s code.
        Can be omitted if no code value is provided by the compiler.
      </li>
    </ul>
    <p>
      You can also define a problem matcher that captures only a file. To do so,
      define a <code>pattern</code> with the optional
      <code>kind</code> attribute set to <code>file</code>. In this case, there
      is no need to provide a <code>line</code> or
      <code>location</code> property.
    </p>
    <blockquote>
      <p>
        <strong>Note:</strong> A functional pattern must at least provide a
        match group for <code>file</code> and <code>message</code> if the
        <code>kind</code> property is set to <code>file</code>. If no
        <code>kind</code> property is provided or the <code>kind</code> property
        is set to <code>location</code>, a function pattern must provide a
        <code>line</code> or <code>location</code> property as well.
      </p>
    </blockquote>
    <blockquote>
      <p>
        <strong>Note:</strong> The problem matcher only parses output from the
        given command. If you want to parse output written to separate file
        (e.g. a log file), make the command that you run print out lines from
        the separate file before it finishes executing.
      </p>
    </blockquote>
    <h2 id="defining-a-multiline-problem-matcher">
      Defining a multiline problem matcher
    </h2>
    <p>
      Some tools spread problems found in a source file over several lines,
      especially if stylish reporters are used. An example is
      <a href="https://eslint.org/">ESLint</a>; in stylish mode it produces
      output like this:
    </p>
    <div class="sourceCode" id="cb26">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="ex">test.js</span></a>
<a class="sourceLine" id="cb26-2" title="2">  <span class="ex">1</span>:0   error  Missing <span class="st">&quot;use strict&quot;</span> statement                 strict</a>
<a class="sourceLine" id="cb26-3" title="3">✖ <span class="ex">1</span> problems (1 errors, 0 warnings)</a></code></pre>
    </div>
    <p>
      Our problem matcher is line-based so we need to capture the file name
      (test.js) with a different regular expression than the actual problem
      location and message (1:0 error Missing “use strict” statement).
    </p>
    <p>
      To do this, use an array of problem patterns for the
      <code>pattern</code> property. This way you define a pattern per each line
      you want to match.
    </p>
    <p>
      The following problem pattern matches the output from ESLint in stylish
      mode - but still has one small issue that we need to resolve next. The
      code below has a first regular expression to capture the file name and the
      second to capture the line, column, severity, message, and error code:
    </p>
    <div class="sourceCode" id="cb27">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb27-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb27-2" title="2">    <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;javascript&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-3" title="3">    <span class="dt">&quot;fileLocation&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;relative&quot;</span><span class="ot">,</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-4" title="4">    <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb27-5" title="5">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb27-6" title="6">            <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^([^</span><span class="ch">\\</span><span class="st">s].*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-7" title="7">            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb27-8" title="8">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb27-9" title="9">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb27-10" title="10">            <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s+(</span><span class="ch">\\</span><span class="st">d+):(</span><span class="ch">\\</span><span class="st">d+)</span><span class="ch">\\</span><span class="st">s+(error|warning|info)</span><span class="ch">\\</span><span class="st">s+(.*)</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">s+(.*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-11" title="11">            <span class="dt">&quot;line&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-12" title="12">            <span class="dt">&quot;column&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-13" title="13">            <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-14" title="14">            <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="dv">4</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-15" title="15">            <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb27-16" title="16">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb27-17" title="17">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb27-18" title="18"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      However, this pattern will not work if there is more than one problem on a
      resource. For instance, imagine the following output from ESLint:
    </p>
    <div class="sourceCode" id="cb28">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="ex">test.js</span></a>
<a class="sourceLine" id="cb28-2" title="2">  <span class="ex">1</span>:0   error  Missing <span class="st">&quot;use strict&quot;</span> statement                 strict</a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="ex">1</span>:9   error  foo is defined but never used                  no-unused-vars</a>
<a class="sourceLine" id="cb28-4" title="4">  <span class="ex">2</span>:5   error  x is defined but never used                    no-unused-vars</a>
<a class="sourceLine" id="cb28-5" title="5">  <span class="ex">2</span>:11  error  Missing semicolon                              semi</a>
<a class="sourceLine" id="cb28-6" title="6">  <span class="ex">3</span>:1   error  <span class="st">&quot;bar&quot;</span> is not defined                           no-undef</a>
<a class="sourceLine" id="cb28-7" title="7">  <span class="ex">4</span>:1   error  Newline required at end of file but not found  eol-last</a>
<a class="sourceLine" id="cb28-8" title="8">✖ <span class="ex">6</span> problems (6 errors, 0 warnings)</a></code></pre>
    </div>
    <p>
      The pattern’s first regular expression will match “test.js”, the second
      “1:0 error …”. The next line “1:9 error …” is processed but not matched by
      the first regular expression and so no problem is captured.
    </p>
    <p>
      To make this work, the last regular expression of a multiline pattern can
      specify the <code>loop</code> property. If set to true, it instructs the
      task system to apply the last pattern of a multiline matcher to the lines
      in the output as long as the regular expression matches.
    </p>
    <p>
      The information captured by the first pattern, which in this case matches
      <code>test.js</code>, will be combined with each of the subsequent lines
      that match the <code>loop</code> pattern to create multiple problems. In
      this example, six problems would be created.
    </p>
    <p>Here is a problem matcher to fully capture ESLint stylish problems:</p>
    <div class="sourceCode" id="cb29">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb29-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb29-2" title="2">    <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;javascript&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-3" title="3">    <span class="dt">&quot;fileLocation&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;relative&quot;</span><span class="ot">,</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-4" title="4">    <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb29-5" title="5">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb29-6" title="6">            <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^([^</span><span class="ch">\\</span><span class="st">s].*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-7" title="7">            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb29-8" title="8">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb29-9" title="9">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb29-10" title="10">            <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s+(</span><span class="ch">\\</span><span class="st">d+):(</span><span class="ch">\\</span><span class="st">d+)</span><span class="ch">\\</span><span class="st">s+(error|warning|info)</span><span class="ch">\\</span><span class="st">s+(.*)</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">s+(.*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-11" title="11">            <span class="dt">&quot;line&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-12" title="12">            <span class="dt">&quot;column&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-13" title="13">            <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-14" title="14">            <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="dv">4</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-15" title="15">            <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="dv">5</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-16" title="16">            <span class="dt">&quot;loop&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb29-17" title="17">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb29-18" title="18">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb29-19" title="19"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      <strong>Note</strong>: If you have multiple problems that occur on the
      same resource with the exact same line and column, then only one problem
      will be shown. This applies to all problem matchers, not just multiline
      problem matchers.
    </p>
    <h2 id="modifying-an-existing-problem-matcher">
      Modifying an existing problem matcher
    </h2>
    <p>
      If an existing problem matcher is close to what you need, you can modify
      it in your <code>tasks.json</code> task. For example, the
      <code>$tsc-watch</code> problem matcher only applies to closed documents.
      If you want to have it apply to all documents you can modify it:
    </p>
    <div class="sourceCode" id="cb30">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb30-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb30-2" title="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb30-3" title="3">    <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb30-4" title="4">    <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb30-5" title="5">        <span class="dt">&quot;base&quot;</span><span class="fu">:</span> <span class="st">&quot;$tsc-watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb30-6" title="6">        <span class="dt">&quot;applyTo&quot;</span><span class="fu">:</span> <span class="st">&quot;allDocuments&quot;</span></a>
<a class="sourceLine" id="cb30-7" title="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb30-8" title="8">    <span class="dt">&quot;isBackground&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb30-9" title="9"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Other modifiable problem matcher properties include
      <code>background</code>, <code>fileLocation</code>, <code>owner</code>,
      <code>pattern</code>, <code>severity</code>, and <code>source</code>.
    </p>
    <h2 id="background-watching-tasks">Background / watching tasks</h2>
    <p>
      Some tools support running in the background while watching the file
      system for changes and then triggering an action when a file changes on
      disk. With <code>Gulp</code> such functionality is provided through the
      npm module
      <a href="https://www.npmjs.com/package/gulp-watch">gulp-watch</a>. The
      TypeScript compiler <code>tsc</code> has built in support for this via the
      <code>--watch</code> command line option.
    </p>
    <p>
      To provide feedback that a background task is active in VS Code and
      producing problem results, a problem matcher has to use additional
      information to detect these <code>state</code> changes in the output.
      Let’s take the <code>tsc</code> compiler as an example. When the compiler
      is started in watch mode, it prints the following additional information
      to the console:
    </p>
    <div class="sourceCode" id="cb31">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" title="1"><span class="op">&gt;</span> <span class="ex">tsc</span> --watch</a>
<a class="sourceLine" id="cb31-2" title="2"><span class="ex">12</span>:30:36 PM - Compilation complete. Watching for file changes.</a></code></pre>
    </div>
    <p>
      When a file changes on disk that contains a problem, the following output
      appears:
    </p>
    <div class="sourceCode" id="cb32">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb32-1" title="1"><span class="ex">12</span>:32:35 PM - File change detected. Starting incremental compilation...</a>
<a class="sourceLine" id="cb32-2" title="2"><span class="ex">src</span>/<span class="ex">messages.ts</span>(276,9)<span class="bu">:</span> error TS2304: Cannot find name <span class="st">&#39;candidate&#39;</span>.</a>
<a class="sourceLine" id="cb32-3" title="3"><span class="ex">12</span>:32:35 PM - Compilation complete. Watching for file changes.</a></code></pre>
    </div>
    <p>Looking at the output shows the following pattern:</p>
    <ul>
      <li>
        The compiler runs when
        <code>File change detected. Starting incremental compilation...</code>
        is printed to the console.
      </li>
      <li>
        The compiler stops when
        <code>Compilation complete. Watching for file changes.</code> is printed
        to the console.
      </li>
      <li>Between those two strings problems are reported.</li>
      <li>
        The compiler also runs once the initial start (without printing
        <code>File change detected. Starting incremental compilation...</code>
        to the console).
      </li>
    </ul>
    <p>
      To capture this information, a problem matcher can provide a
      <code>background</code> property.
    </p>
    <p>
      For the <code>tsc</code> compiler, an appropriate
      <code>background</code> property looks like this:
    </p>
    <div class="sourceCode" id="cb33">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb33-1" title="1"><span class="er">&quot;background&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb33-2" title="2">    <span class="dt">&quot;activeOnStart&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb33-3" title="3">    <span class="dt">&quot;beginsPattern&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}(?: AM| PM)? - File change detected</span><span class="ch">\\</span><span class="st">. Starting incremental compilation</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">.&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb33-4" title="4">    <span class="dt">&quot;endsPattern&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}(?: AM| PM)? - Compilation complete</span><span class="ch">\\</span><span class="st">. Watching for file changes</span><span class="ch">\\</span><span class="st">.&quot;</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      In addition to the <code>background</code> property on the problem
      matcher, the task itself has to be marked as <code>isBackground</code> so
      that the task keeps running in the background.
    </p>
    <p>
      A full handcrafted <code>tasks.json</code> for a <code>tsc</code> task
      running in watch mode looks like this:
    </p>
    <div class="sourceCode" id="cb34">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb34-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb34-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-3" title="3">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb34-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb34-5" title="5">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-6" title="6">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;tsc&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-7" title="7">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;--watch&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-8" title="8">            <span class="dt">&quot;isBackground&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-9" title="9">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb34-10" title="10">                <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;typescript&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-11" title="11">                <span class="dt">&quot;fileLocation&quot;</span><span class="fu">:</span> <span class="st">&quot;relative&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-12" title="12">                <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb34-13" title="13">                    <span class="dt">&quot;regexp&quot;</span><span class="fu">:</span> <span class="st">&quot;^([^</span><span class="ch">\\</span><span class="st">s].*)</span><span class="ch">\\</span><span class="st">((</span><span class="ch">\\</span><span class="st">d+|</span><span class="ch">\\</span><span class="st">d+,</span><span class="ch">\\</span><span class="st">d+|</span><span class="ch">\\</span><span class="st">d+,</span><span class="ch">\\</span><span class="st">d+,</span><span class="ch">\\</span><span class="st">d+,</span><span class="ch">\\</span><span class="st">d+)</span><span class="ch">\\</span><span class="st">):</span><span class="ch">\\</span><span class="st">s+(error|warning|info)</span><span class="ch">\\</span><span class="st">s+(TS</span><span class="ch">\\</span><span class="st">d+)</span><span class="ch">\\</span><span class="st">s*:</span><span class="ch">\\</span><span class="st">s*(.*)$&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-14" title="14">                    <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-15" title="15">                    <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-16" title="16">                    <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-17" title="17">                    <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="dv">4</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-18" title="18">                    <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb34-19" title="19">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb34-20" title="20">                <span class="dt">&quot;background&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb34-21" title="21">                    <span class="dt">&quot;activeOnStart&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-22" title="22">                    <span class="dt">&quot;beginsPattern&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}(?: AM| PM)? - File change detected</span><span class="ch">\\</span><span class="st">. Starting incremental compilation</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">.&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-23" title="23">                    <span class="dt">&quot;endsPattern&quot;</span><span class="fu">:</span> <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}:</span><span class="ch">\\</span><span class="st">d{1,2}(?: AM| PM)? - Compilation complete</span><span class="ch">\\</span><span class="st">. Watching for file changes</span><span class="ch">\\</span><span class="st">.&quot;</span></a>
<a class="sourceLine" id="cb34-24" title="24">                <span class="fu">}</span></a>
<a class="sourceLine" id="cb34-25" title="25">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb34-26" title="26">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb34-27" title="27">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb34-28" title="28"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="convert-from-0.1.0-to-2.0.0">Convert from “0.1.0” to “2.0.0”</h2>
    <p>
      <strong>Note</strong>: If you have created a workspace that consists of
      multiple folders (<a href="/docs/editor/multi-root-workspaces.md"
        >Multi-root Workspace</a
      >), only version <code>2.0.0</code> tasks are detected and shown in the
      <strong>Terminal</strong> &gt; <strong>Run Task</strong> picker.
    </p>
    <h3 id="try-running-without-tasks.json">Try running without tasks.json</h3>
    <p>
      Tasks <code>2.0.0</code> version comes with lots of new auto-detection
      features so you can try removing an existing <code>tasks.json</code> file
      to see which tasks still work. One way is to rename the existing
      <code>tasks.json</code> to <code>tasks.json.off</code>.
    </p>
    <h3 id="migrating-to-tasks-2.0.0">Migrating to Tasks 2.0.0</h3>
    <p>
      If you have lots of task customizations, you can switch by changing the
      version attribute to <code>"2.0.0"</code>. After doing so, you might
      encounter warnings (green squiggles) because some properties are now
      deprecated.
    </p>
    <p>Here is a migration guide:</p>
    <ul>
      <li>
        <strong>taskName</strong>: Use the <code>label</code> property instead.
      </li>
      <li>
        <strong>isShellCommand</strong>: Use the
        <code>"type": "shell"</code> property instead.
      </li>
      <li>
        <strong>isBuildCommand</strong>: Use the
        <code>"group": "build"</code> property instead.
      </li>
      <li>
        <strong>isTestCommand</strong>: Use the
        <code>"group": "test"</code> property instead.
      </li>
      <li>
        <strong>echoCommand</strong>: Use the
        <code>"presentation" : { "echo": "..." }</code> property instead.
      </li>
      <li>
        <strong>showOutput</strong>: Use the
        <code>"presentation" : { "reveal": "..." }</code> property instead.
      </li>
      <li>
        <strong>suppressTaskName</strong>: By default, the task name gets
        appended to the list of arguments when running a task version
        <code>0.1.0</code>. Since version <code>2.0.0</code> supports commands
        per task, you can inline the command into the task and specify the
        arguments accordingly.
      </li>
    </ul>
    <p>Consider the following <code>0.1.0</code> configuration:</p>
    <div class="sourceCode" id="cb35">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb35-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb35-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-3" title="3">    <span class="dt">&quot;isShellCommand&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-4" title="4">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;script&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb35-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb35-7" title="7">            <span class="dt">&quot;taskName&quot;</span><span class="fu">:</span> <span class="st">&quot;Run tests&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-8" title="8">            <span class="dt">&quot;suppressTaskName&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-9" title="9">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb35-10" title="10">                <span class="st">&quot;test&quot;</span></a>
<a class="sourceLine" id="cb35-11" title="11">            <span class="ot">]</span></a>
<a class="sourceLine" id="cb35-12" title="12">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb35-13" title="13">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb35-14" title="14"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The corresponding <code>2.0.0</code> configuration would look like this:
    </p>
    <div class="sourceCode" id="cb36">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb36-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb36-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-3" title="3">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb36-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb36-5" title="5">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Run tests&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-6" title="6">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-7" title="7">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;script test&quot;</span></a>
<a class="sourceLine" id="cb36-8" title="8">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb36-9" title="9">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb36-10" title="10"><span class="fu">}</span></a></code></pre>
    </div>
    <ul>
      <li>
        <strong>taskSelector</strong>: Move the command into the task and
        specify the task selector inside the command.
      </li>
    </ul>
    <div class="sourceCode" id="cb37">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb37-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb37-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-3" title="3">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;msbuild&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-4" title="4">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb37-5" title="5">        <span class="st">&quot;/property:GenerateFullPaths=true&quot;</span></a>
<a class="sourceLine" id="cb37-6" title="6">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-7" title="7">    <span class="dt">&quot;taskSelector&quot;</span><span class="fu">:</span> <span class="st">&quot;/t:&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-8" title="8">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb37-9" title="9">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb37-10" title="10">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span></a>
<a class="sourceLine" id="cb37-11" title="11">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb37-12" title="12">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb37-13" title="13"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      A corresponding <code>2.0.0</code> configuration would look like this:
    </p>
    <div class="sourceCode" id="cb38">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb38-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb38-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-3" title="3">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb38-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb38-5" title="5">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-6" title="6">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;msbuild&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-7" title="7">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb38-8" title="8">                <span class="st">&quot;/property:GenerateFullPaths=true&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb38-9" title="9">                <span class="st">&quot;/t:build&quot;</span></a>
<a class="sourceLine" id="cb38-10" title="10">            <span class="ot">]</span></a>
<a class="sourceLine" id="cb38-11" title="11">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb38-12" title="12">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb38-13" title="13"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      If you want to use a <code>0.1.0</code> version of the
      <code>tasks.json</code> file with the new terminal runner, you can add the
      <code>runner</code> property to the <code>tasks.json</code> file:
      <code>"runner": "terminal"</code>.
    </p>
    <h2 id="next-steps">Next steps</h2>
    <p>That was tasks - let’s keep going…</p>
    <ul>
      <li>
        <a href="/docs/editor/tasks-appendix.md">tasks.json Schema</a> - You can
        review the full <code>tasks.json</code> schema and descriptions.
      </li>
      <li>
        <a href="/docs/editor/codebasics.md">Basic Editing</a> - Learn about the
        powerful VS Code editor.
      </li>
      <li>
        <a href="/docs/editor/editingevolved.md">Code Navigation</a> - Move
        quickly through your source code.
      </li>
      <li>
        <a href="/docs/languages/overview.md">Language Support</a> - Learn about
        our supported programming languages, both shipped with VS Code and
        through community extensions.
      </li>
      <li>
        <a href="/docs/editor/debugging.md">Debugging</a> - Debug your source
        code directly in the VS Code editor.
      </li>
    </ul>
    <h2 id="common-questions">Common questions</h2>
    <h3
      id="can-a-task-use-a-different-shell-than-the-one-specified-for-the-integrated-terminal"
    >
      Can a task use a different shell than the one specified for the Integrated
      Terminal?
    </h3>
    <p>
      Yes. You can use the
      <code>"terminal.integrated.automationShell.*"</code> setting to set the
      shell that will be used for all automation in VS Code, which includes
      Tasks.
    </p>
    <div class="sourceCode" id="cb39">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb39-1" title="1">    <span class="er">&quot;terminal.integrated.automationShell.windows&quot;:</span> <span class="er">&quot;cmd.exe&quot;,</span></a></code></pre>
    </div>
    <p>
      Alternatively, you can override a task’s shell with the
      <code>options.shell</code> property. You can set this per task, globally,
      or per platform. For example, to use cmd.exe on Windows, your
      <code>tasks.json</code> would include:
    </p>
    <div class="sourceCode" id="cb40">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb40-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb40-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-3" title="3">    <span class="dt">&quot;windows&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-4" title="4">        <span class="dt">&quot;options&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-5" title="5">            <span class="dt">&quot;shell&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-6" title="6">                <span class="dt">&quot;executable&quot;</span><span class="fu">:</span> <span class="st">&quot;cmd.exe&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-7" title="7">                <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb40-8" title="8">                    <span class="st">&quot;/d&quot;</span><span class="ot">,</span> <span class="st">&quot;/c&quot;</span></a>
<a class="sourceLine" id="cb40-9" title="9">                <span class="ot">]</span></a>
<a class="sourceLine" id="cb40-10" title="10">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-11" title="11">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-12" title="12">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-13" title="13">    <span class="er">...</span></a></code></pre>
    </div>
    <h3 id="can-a-background-task-be-used-as-a-prelaunchtask-in-launch.json">
      Can a background task be used as a <code>prelaunchTask</code> in
      launch.json?
    </h3>
    <p>
      Yes. Since a background task will run until killed, a background task on
      its own has no signal that it has “completed”. To use a background task as
      a <code>prelaunchTask</code>, you must add an appropriate background
      <code>problemMatcher</code> to the background task so that there is a way
      for the task system and debug system to know that the task “finished”.
    </p>
    <p>Your task could be:</p>
    <div class="sourceCode" id="cb41">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb41-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb41-2" title="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb41-3" title="3">    <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb41-4" title="4">    <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="st">&quot;$tsc-watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb41-5" title="5">    <span class="dt">&quot;isBackground&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb41-6" title="6"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      <strong>Note:</strong> The <code>$tsc-watch</code> is a
      <strong>background</strong> problem matcher, as is required for a
      background task.
    </p>
    <p>
      You can then use the task as a <code>prelaunchTask</code> in your
      <code>launch.json</code> file:
    </p>
    <div class="sourceCode" id="cb42">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb42-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb42-2" title="2">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Launch Extension&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;extensionHost&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-4" title="4">    <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-5" title="5">    <span class="dt">&quot;runtimeExecutable&quot;</span><span class="fu">:</span> <span class="st">&quot;${execPath}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-6" title="6">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb42-7" title="7">        <span class="st">&quot;--extensionDevelopmentPath=${workspaceRoot}&quot;</span></a>
<a class="sourceLine" id="cb42-8" title="8">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-9" title="9">    <span class="dt">&quot;stopOnEntry&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-10" title="10">    <span class="dt">&quot;sourceMaps&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-11" title="11">    <span class="dt">&quot;outFiles&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb42-12" title="12">        <span class="st">&quot;${workspaceRoot}/out/src/**/*.js&quot;</span></a>
<a class="sourceLine" id="cb42-13" title="13">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb42-14" title="14">    <span class="dt">&quot;preLaunchTask&quot;</span><span class="fu">:</span> <span class="st">&quot;npm: watch&quot;</span></a>
<a class="sourceLine" id="cb42-15" title="15"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      For more on background tasks, go to
      <a href="/docs/editor/tasks.md#background-watching-tasks"
        >Background / watching tasks</a
      >.
    </p>
    <h3 id="why-do-i-get-command-not-found-when-running-a-task">
      Why do I get “command not found” when running a task?
    </h3>
    <p>
      The message “command not found” happens when the task command you’re
      trying to run is not recognized by your terminal as something runnable.
      Most often, this occurs because the command is setup as part of your
      shell’s startup scripts. Tasks are run as non-login and non-interactive,
      which means that the startup scripts for your shell won’t be run.
      <code>nvm</code> in particular is known to use startup scripts as part of
      it’s configuration.
    </p>
    <p>There are several ways to resolve this issue:</p>
    <ol type="1">
      <li>
        Make sure your command is on your path and doesn’t require startup
        scripts to get added to your path. This is the most thourough way to
        solve the problem, and is the recommended solution.
      </li>
      <li>
        You can make a one-off fix for your task to run as login or interactive.
        This is not recommended, as it can have other consequences. However, it
        can also be a quick and easy fix for a single task. An example of task
        that does this with <code>bash</code> as the shell:
      </li>
    </ol>
    <div class="sourceCode" id="cb43">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb43-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb43-2" title="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;npm&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb43-3" title="3">    <span class="dt">&quot;script&quot;</span><span class="fu">:</span> <span class="st">&quot;watch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb43-4" title="4">    <span class="dt">&quot;options&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb43-5" title="5">        <span class="dt">&quot;shell&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb43-6" title="6">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;-c&quot;</span><span class="ot">,</span> <span class="st">&quot;-l&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb43-7" title="7">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb43-8" title="8">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb43-9" title="9"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The above <code>npm</code> task will run <code>bash</code> with a command
      (<code>-c</code>), just like the tasks system does by default. However,
      this task also runs <code>bash</code> as a login shell (<code>-l</code>).
    </p>
  </body>
</html>
