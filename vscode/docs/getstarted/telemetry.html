<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>telemetry</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="telemetry">Telemetry</h1>
<p>Visual Studio Code collects telemetry data, which is used to help understand how to improve the product. For example, this usage data helps to debug issues, such as slow start-up times, and to prioritize new features. While we appreciate the insights this data provides, we also know that not everyone wants to send usage data and you can disable telemetry as described in <a href="#disable-telemetry-reporting">disable telemetry reporting</a>. You can also read our <a href="https://go.microsoft.com/fwlink/?LinkID=528096&amp;clcid=0x409">privacy statement</a> to learn more.</p>
<h2 id="disable-telemetry-reporting">Disable telemetry reporting</h2>
<p>If you don’t want to send usage data to Microsoft, you can set the <code>telemetry.enableTelemetry</code> user <a href="/docs/getstarted/settings.md">setting</a> to <code>false</code>.</p>
<p>From <strong>File</strong> &gt; <strong>Preferences</strong> &gt; <strong>Settings</strong> (macOS: <strong>Code</strong> &gt; <strong>Preferences</strong> &gt; <strong>Settings</strong>), search for <code>telemetry</code>, and uncheck the <strong>Telemetry: Enable Telemetry</strong> setting. This will silence all telemetry events from VS Code going forward. Telemetry information may have been collected and sent up until the point when you disable the setting.</p>
<figure>
<img src="images/telemetry/disable-telemetry.png" alt="disable telemetry" /><figcaption>disable telemetry</figcaption>
</figure>
<p>If you use the JSON editor for your settings, add the following line:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1">    <span class="er">&quot;telemetry.enableTelemetry&quot;:</span> <span class="er">false</span></a></code></pre></div>
<h2 id="disable-crash-reporting">Disable crash reporting</h2>
<p>VS Code collects data about any crashes that occur and sends it to Microsoft to help improve our products and services.</p>
<p>If you don’t want to send crash data to Microsoft, you can change the <code>enable-crash-reporter</code> runtime argument to <code>false</code></p>
<ul>
<li>Open the Command Palette (<code>kb(workbench.action.showCommands)</code>).</li>
<li>Run the <strong>Preferences: Configure Runtime Arguments</strong> command.</li>
<li>This command will open a <code>argv.json</code> file to configure runtime arguments.</li>
<li>Edit <code>"enable-crash-reporter": false</code>.</li>
<li>Restart VS Code.</li>
</ul>
<h2 id="extensions-and-telemetry">Extensions and telemetry</h2>
<p>VS Code lets you add features to the product by installing Microsoft and third-party extensions. These extensions may be collecting their own usage data and are not controlled by the <code>telemetry.enableTelemetry</code> setting. Consult the specific extension’s documentation to learn about its telemetry reporting and whether it can be disabled.</p>
<p>For example, the <a href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github">GitHub Pull Requests extension</a> has a setting to disable its telemetry collection:</p>
<figure>
<img src="images/telemetry/GHPR-disable-telemetry.png" alt="GitHub Pule Request extension disable telemetry" /><figcaption>GitHub Pule Request extension disable telemetry</figcaption>
</figure>
<h2 id="output-channel-for-telemetry-events">Output channel for telemetry events</h2>
<p>If you’d like to review the telemetry events in VS Code as they are sent, you can enable tracing and it will record telemetry events. Set the log level to <strong>Trace</strong> using the <strong>Developer: Set Log Level…</strong> command and then in the Output panel (<code>kb(workbench.action.output.toggleOutput)</code>), pick <strong>Log (Telemetry)</strong> from the dropdown.</p>
<figure>
<img src="images/telemetry/output-log-telemetry.png" alt="output panel log telemetry" /><figcaption>output panel log telemetry</figcaption>
</figure>
<p>When tracing telemetry events, the events are also logged to a local file <code>telemetry.log</code>, which you can view using the <strong>Developer: Open Log File…</strong> command and choosing <strong>Telemetry</strong> from the dropdown.</p>
<figure>
<img src="images/telemetry/open-telemetry-log.png" alt="open telemetry log file" /><figcaption>open telemetry log file</figcaption>
</figure>
<h2 id="viewing-all-telemetry-events">Viewing all telemetry events</h2>
<p>If you’d like to view all the possible telemetry events that VS Code could send, you can use the <code>--telemetry</code> flag in the CLI. This will generate a JSON report that you can then view within VS Code. These reports are generated per build and do not contain extension telemetry unless the extension author adds a <code>telemetry.json</code> file to their root build directory.</p>
<p>For example, running <code>code --telemetry &gt; telemetry.json &amp;&amp; code telemetry.json</code> will create a <code>telemetry.json</code> file in your current working directory and then open it in VS Code. You cannot pipe the output like this, <code>code --telemetry | code -</code>, due to the length of the telemetry report.</p>
<h2 id="gdpr-and-vs-code">GDPR and VS Code</h2>
<p>In addition to supporting the General Data Protection Regulation (GDPR), the VS Code team takes privacy very seriously. That’s both for Microsoft as a company and specifically within the VS Code team.</p>
<p>To ensure GDPR compliance, we made several updates to VS Code, these include:</p>
<ul>
<li>Making it easier to opt out of telemetry collection by placing a notification in product for all existing and new users.</li>
<li>Reviewing and classifying the telemetry that we send (documented in <a href="https://github.com/microsoft/vscode/pull/34997">our OSS codebase</a>).</li>
<li>Ensuring that we have valid data retention policies in place for any data we do collect, for example crash dumps.</li>
</ul>
<p>In short, we have worked hard to do the right thing, for all users, as these practices apply to all geographies, not just Europe.</p>
<p>One question we expect people to ask is to see the data we collect. However, we don’t have a reliable way to do this as VS Code does not have a ‘sign-in’ experience that would uniquely identify a user. We do send information that helps us approximate a single user for diagnostic purposes (this is based on a hash of the network adapter NIC) but this is not guaranteed to be unique. For example, virtual machines (VMs) often rotate NIC IDs or allocate from a pool. This technique is sufficient to help us when working through problems, but it is not reliable enough for us to ‘provide your data’.</p>
<p>We expect our approach to evolve as we learn more about GDPR and the expectations of our users. We greatly appreciate the data users do send to us, as it is very valuable and VS Code is a better product for everyone because of it. And again, if you are worried about privacy, we offer the ability to disable sending telemetry as described in <a href="/docs/getstarted/telemetry.md#disable-telemetry-reporting">disable telemetry reporting</a>.</p>
<p>You can find more information about how the Visual Studio family approaches GDPR at <a href="https://docs.microsoft.com/microsoft-365/compliance/gdpr-dsr-visual-studio-family">Visual Studio Family Data Subject Requests for the GDPR</a>.</p>
<h2 id="managing-online-services">Managing online services</h2>
<p>Beyond crash reporting and telemetry, VS Code uses online services for various other purposes such as downloading product updates, finding, installing, and updating extensions, Settings Sync, or providing Natural Language Search within the Settings editor. You can choose to turn on/off features that use these services.</p>
<p>Please note, that turning off these features does not put VS Code into offline mode. For example, if you search for extensions in the <strong>Extensions</strong> view, VS Code still searches the online VS Code Marketplace. The settings ensure that VS Code does not talk to online services without you requesting it.</p>
<p>From <strong>File</strong> &gt; <strong>Preferences</strong> &gt; <strong>Settings</strong> (macOS: <strong>Code</strong> &gt; <strong>Preferences</strong> &gt; <strong>Settings</strong>), and type the tag <code>@tag:usesOnlineServices</code>. This will display all settings that control the usage of online services and you can individually switch them on or off.</p>
<figure>
<img src="images/telemetry/online-settings.png" alt="online settings filter" /><figcaption>online settings filter</figcaption>
</figure>
<blockquote>
<p><strong>Note</strong>: VS Code extensions may also use online services and may not provide settings to configure the usage of these online services, or they may not register their settings to show up when searching for <code>@tag:usesOnlineServices</code>. Consult the specific extension’s documentation to learn about its usage of online services.</p>
</blockquote>
<h3 id="non-microsoft-online-services-used-by-vs-code">Non-Microsoft online services used by VS Code</h3>
<p>The built-in <strong>npm support for VS Code</strong> extension sends requests to <code>https://registry.npmjs.org</code> and <code>https://registry.bower.io</code>.</p>
<p>The built-in <strong>TypeScript and JavaScript Language Features</strong> extension queries the <code>@types</code> domain at <code>https://registry.npmjs.org</code>.</p>
<p>When you use <strong>Developer: Toggle Developer Tools</strong> or <strong>Developer: Open Webview Developer Tools</strong>, VS Code may talk to Google servers to fetch data needed to launch Developer Tools.</p>
<h2 id="extension-recommendations">Extension recommendations</h2>
<p>VS Code provides extension recommendations based on your file types, your workspace, and your environment. File type recommendations are either precomputed or dynamic. Workspace and environment recommendations are always precomputed.</p>
<p>If you want to know why an extension is being recommended, open the extension’s detail page. You can find the recommendation reason in the page header.</p>
<figure>
<img src="images/telemetry/extension-recommendation-based-on.png" alt="extension recommendation based on files" /><figcaption>extension recommendation based on files</figcaption>
</figure>
<h3 id="precomputed-recommendations">Precomputed recommendations</h3>
<p>VS Code collects telemetry about which extensions are being activated for what file types and what workspaces/folders. Specific folders are identified by computing a hash of each of the folder’s Git remotes.</p>
<p>We use this information to precompute anonymous recommendations. Precomputed recommendations are instructions that spell out under which conditions an extension should be recommended. For example, when we see an interesting correlation between two extensions A and B, one instruction might be: Recommend extension B if the user has installed extension A but not B.</p>
<p>Some precomputed recommendations are shipped as part of the product while additional precomputed recommendations are fetched at runtime from an online Microsoft service. VS Code independently evaluates and executes precomputed recommendations without sending any user information to any online service.</p>
<h3 id="dynamic-recommendations">Dynamic recommendations</h3>
<p>When you open a file type for which VS Code does not have any precomputed recommendation, it asks the Extension Marketplace for extensions that declare that they support this file type. If the query returns extensions you don’t have installed, VS Code will provide a notification.</p>
<h2 id="for-extension-authors">For extension authors</h2>
<p>If you have created a VS Code extension, you can use the VS Code telemetry infrastructure for reporting through the <a href="https://www.npmjs.com/package/vscode-extension-telemetry">vscode-extension-telemetry</a> npm module. This module provides a consistent way for extensions to report telemetry over <a href="https://azure.microsoft.com/services/monitor/">Azure Monitor and Application Insights</a>. The module respects the user’s decision about whether or not to send telemetry data via the <code>telemetry.enableTelemetry</code> setting.</p>
<p>Follow this guide to set up <a href="https://docs.microsoft.com/azure/azure-monitor/learn/nodejs-quick-start">Azure Monitor</a> and get your Application Insights instrumentation key.</p>
<p>If you would prefer to not utilize the npm module, it is still recommended that extension authors respect the user’s choice by utilizing the <code>isTelemetryEnabled</code> and <code>onDidChangeTelemetryEnabled</code> API.</p>
<p>Additionally, telemetry authors can add a <code>telemetry.json</code> file to their root build directory for their telemetry to show up in the <code>--telemetry</code> dump that VS Code produces.</p>
<h2 id="next-steps">Next steps</h2>
<ul>
<li><a href="/docs/supporting/faq.md">Visual Studio Code FAQ</a> - Consult the Frequently Asked Questions to learn more.</li>
<li><a href="/docs/getstarted/settings.md">User and Workspace Settings</a> - Read about available options to customize VS Code.</li>
<li><a href="/docs/getstarted/keybindings.md">Key Bindings</a> - You can easily modify commonly used keyboard shortcuts.</li>
</ul>
</body>
</html>
