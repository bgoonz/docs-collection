<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>debug-python</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="debug-python-within-a-container">
      Debug Python within a container
    </h1>
    <p>
      When adding Docker files to a Python project, tasks and launch
      configurations are added to enable debugging the application within a
      Docker container. To accommodate the various scenarios of Python projects,
      some apps may require additional configuration.
    </p>
    <h2 id="configuring-the-docker-container-entry-point">
      Configuring the Docker container entry point
    </h2>
    <p>
      You can configure the entry point of the Docker container by setting
      properties in <code>tasks.json</code>. VS Code automatically configures
      the container entry point when you first use the
      <strong>Docker: Add Docker Files to Workspace…</strong> command.
    </p>
    <h3 id="example-configuring-the-entry-point-for-a-python-module">
      Example: Configuring the entry point for a Python module
    </h3>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="st">&quot;docker-build&quot;</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-10" title="10">        <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;myapp&quot;</span></a>
<a class="sourceLine" id="cb1-11" title="11">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="fu">}</span></a></code></pre>
    </div>
    <h3 id="example-configuring-the-entry-point-for-a-python-file">
      Example: Configuring the entry point for a Python file
    </h3>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">      <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="st">&quot;docker-build&quot;</span></a>
<a class="sourceLine" id="cb2-8" title="8">      <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-9" title="9">      <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">        <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb2-11" title="11">          <span class="st">&quot;runserver&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb2-12" title="12">          <span class="st">&quot;0.0.0.0:8000&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb2-13" title="13">          <span class="st">&quot;--nothreading&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb2-14" title="14">          <span class="st">&quot;--noreload&quot;</span></a>
<a class="sourceLine" id="cb2-15" title="15">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;manage.py&quot;</span></a>
<a class="sourceLine" id="cb2-17" title="17">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb2-18" title="18">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb2-19" title="19">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="fu">}</span></a></code></pre>
    </div>
    <h2
      id="automatically-launching-the-browser-to-the-entry-page-of-the-application"
    >
      Automatically launching the browser to the entry page of the application
    </h2>
    <p>
      You can select the <strong>Docker: Python - Django</strong> or
      <strong>Docker: Python - Flask</strong> launch configurations to
      automatically launch the browser to the main page of the app. This feature
      is enabled by default, but you can configure this behavior explicitly by
      setting the <code>dockerServerReadyAction</code> object in
      <code>launch.json</code>.
    </p>
    <p>This feature depends on several aspects of the application:</p>
    <ul>
      <li>
        The application
        <strong>must output to the debug console or Docker logs</strong>.
      </li>
      <li>The application must log a “server ready” message.</li>
      <li>The application must serve a browsable page.</li>
    </ul>
    <p>
      Here is an example of using <code>dockerServerReadyAction</code> to launch
      the browser to open the <code>about.html</code> page based on a specific
      server message pattern:
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Docker: Python - Django&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-5" title="5">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-7" title="7">      <span class="dt">&quot;preLaunchTask&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-8" title="8">      <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-9" title="9">        <span class="dt">&quot;pathMappings&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-10" title="10">          <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-11" title="11">            <span class="dt">&quot;localRoot&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-12" title="12">            <span class="dt">&quot;remoteRoot&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span></a>
<a class="sourceLine" id="cb3-13" title="13">          <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-14" title="14">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-15" title="15">        <span class="dt">&quot;projectType&quot;</span><span class="fu">:</span> <span class="st">&quot;django&quot;</span></a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="fu">},</span></a>
<a class="sourceLine" id="cb3-17" title="17">      <span class="dt">&quot;dockerServerReadyAction&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-18" title="18">        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="st">&quot;openExternally&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-19" title="19">        <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="st">&quot;Starting development server at (https?://</span><span class="ch">\\</span><span class="st">S+|[0-9]+)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-20" title="20">        <span class="dt">&quot;uriFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;%s://localhost:%s/about.html&quot;</span></a>
<a class="sourceLine" id="cb3-21" title="21">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-22" title="22">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-23" title="23">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="fu">}</span></a></code></pre>
    </div>
    <blockquote>
      <p>
        <strong>Note</strong>: The regex found in the
        <code>pattern</code> attribute simply attempts to capture a logged
        message similar to “Starting development server at
        <code>http://localhost:8000</code>”. It accommodates variations in the
        url for http or https, any host name, and any port.
      </p>
    </blockquote>
    <h3 id="important-dockerserverreadyaction-object-properties">
      Important dockerServerReadyAction object properties
    </h3>
    <ul>
      <li>
        <p>
          <code>action</code>: The action to take when the pattern is found. Can
          be <code>debugWithChrome</code> or <code>openExternally</code>.
        </p>
      </li>
      <li>
        <p>
          <code>pattern</code>: If the application logs a different message than
          shown above, set the <code>pattern</code> property of the
          <a
            href="/docs/containers/debug-common.md#dockerserverreadyaction-object-properties"
            >dockerServerReadyAction</a
          >
          object to a
          <a
            href="https://developer.mozilla.org/docs/Web/JavaScript/Guide/Regular_Expressions"
            >JavaScript regular expression</a
          >
          that matches that message. The regular expression should include a
          capture group that corresponds to the port on which the application is
          listening.
        </p>
      </li>
      <li>
        <p>
          <code>uriFormat</code>: By default, the Docker extension will open the
          main page of the browser (however that is determined by the
          application). If you want the browser to open a specific page like the
          example above, the <code>uriFormat</code> property of the
          <a
            href="/docs/containers/debug-common.md#dockerserverreadyaction-object-properties"
            >dockerServerReadyAction</a
          >
          object should be set to a format string with two string tokens to
          indicate the protocol and port substitution.
        </p>
      </li>
    </ul>
    <h2 id="how-to-enable-hot-reloading-in-django-or-flask-apps">
      How to enable hot reloading in Django or Flask apps
    </h2>
    <p>
      When you select <strong>Docker: Add Docker Files to Workspace</strong> for
      Django or Flask, we provide you a Dockerfile and
      <code>tasks.json</code> configured for static deployment. Each time you
      make changes to your app code, you need to rebuild and re-run your
      container. Hot reloading allows you to visualize changes in your app code
      as your container continues to run. Enable hot reloading with these steps:
    </p>
    <h3 id="for-django-apps">For Django Apps</h3>
    <ol type="1">
      <li>
        <p>
          In the Dockerfile, comment out the line that adds app code to the
          container.
        </p>
        <div class="sourceCode" id="cb4">
          <pre
            class="sourceCode dockerfile"
          ><code class="sourceCode dockerfile"><a class="sourceLine" id="cb4-1" title="1"><span class="co">#ADD . /app</span></a></code></pre>
        </div>
      </li>
      <li>
        <p>
          Within the <code>docker-run</code> task in the
          <code>tasks.json</code> file, create a new dockerRun attribute with a
          <code>volumes</code> property. This will create a mapping from the
          current workspace folder (app code) to the <code>/app</code> folder in
          the container.
        </p>
        <div class="sourceCode" id="cb5">
          <pre
            class="sourceCode json"
          ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="st">&quot;docker-build&quot;</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="dt">&quot;dockerRun&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="dt">&quot;volumes&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-9" title="9">      <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-10" title="10">        <span class="dt">&quot;containerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span><span class="fu">,</span> <span class="dt">&quot;localPath&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb5-11" title="11">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb5-12" title="12">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb5-13" title="13">  <span class="fu">},</span></a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="er">...</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="fu">}</span></a></code></pre>
        </div>
      </li>
      <li>
        <p>
          Edit the python attribute by <strong>removing</strong>
          <code>--noreload</code> and <code>--nothreading</code>.
        </p>
        <div class="sourceCode" id="cb6">
          <pre
            class="sourceCode json"
          ><code class="sourceCode json"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="er">...</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="dt">&quot;dockerRun&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="dt">&quot;volumes&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb6-5" title="5">      <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">        <span class="dt">&quot;containerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span><span class="fu">,</span> <span class="dt">&quot;localPath&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb6-7" title="7">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="fu">},</span></a>
<a class="sourceLine" id="cb6-10" title="10">  <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-11" title="11">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb6-12" title="12">      <span class="st">&quot;runserver&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb6-13" title="13">      <span class="st">&quot;0.0.0.0:8000&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb6-14" title="14">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-15" title="15">    <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;manage.py&quot;</span></a>
<a class="sourceLine" id="cb6-16" title="16">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="fu">}</span></a></code></pre>
        </div>
      </li>
      <li>
        Select the <strong>Docker: Python – Django</strong> launch configuration
        and hit <code>kb(workbench.action.debug.start)</code> to build and run
        your container.
      </li>
      <li>Modify and save any file.</li>
      <li><p>Refresh the browser and validate changes have been made.</p></li>
    </ol>
    <h3 id="for-flask-apps">For Flask Apps</h3>
    <ol type="1">
      <li>
        <p>
          In the Dockerfile, comment out the line that adds app code to the
          container.
        </p>
        <div class="sourceCode" id="cb7">
          <pre
            class="sourceCode dockerfile"
          ><code class="sourceCode dockerfile"><a class="sourceLine" id="cb7-1" title="1"><span class="co">#ADD . /app</span></a></code></pre>
        </div>
      </li>
      <li>
        <p>
          Within the <code>docker-run</code> task in the
          <code>tasks.json</code> file, edit the existing dockerRun attribute by
          adding a <code>FLASK_ENV</code> in the <code>env</code> property as
          well as a <code>volumes</code> property. This will create a mapping
          from the current workspace folder (app code) to the
          <code>/app</code> folder in the container.
        </p>
        <div class="sourceCode" id="cb8">
          <pre
            class="sourceCode json"
          ><code class="sourceCode json"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="st">&quot;docker-build&quot;</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="dt">&quot;dockerRun&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb8-9" title="9">      <span class="dt">&quot;FLASK_APP&quot;</span><span class="fu">:</span> <span class="st">&quot;path_to/flask_entry_point.py&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-10" title="10">      <span class="dt">&quot;FLASK_ENV&quot;</span><span class="fu">:</span> <span class="st">&quot;development&quot;</span></a>
<a class="sourceLine" id="cb8-11" title="11">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb8-12" title="12">    <span class="dt">&quot;volumes&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb8-13" title="13">      <span class="fu">{</span></a>
<a class="sourceLine" id="cb8-14" title="14">        <span class="dt">&quot;containerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span><span class="fu">,</span> <span class="dt">&quot;localPath&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb8-15" title="15">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb8-16" title="16">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb8-17" title="17">  <span class="fu">},</span></a>
<a class="sourceLine" id="cb8-18" title="18">  <span class="er">...</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="fu">}</span></a></code></pre>
        </div>
      </li>
      <li>
        <p>
          Edit the python attribute by <strong>removing</strong>
          <code>--no-reload</code> and <code>--no-debugger</code>.
        </p>
        <div class="sourceCode" id="cb9">
          <pre
            class="sourceCode json"
          ><code class="sourceCode json"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="er">...</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="dt">&quot;dockerRun&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb9-5" title="5">      <span class="dt">&quot;FLASK_APP&quot;</span><span class="fu">:</span> <span class="st">&quot;path_to/flask_entry_point.py&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">      <span class="dt">&quot;FLASK_ENV&quot;</span><span class="fu">:</span> <span class="st">&quot;development&quot;</span></a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="dt">&quot;volumes&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb9-9" title="9">      <span class="fu">{</span></a>
<a class="sourceLine" id="cb9-10" title="10">        <span class="dt">&quot;containerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span><span class="fu">,</span> <span class="dt">&quot;localPath&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb9-11" title="11">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb9-12" title="12">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb9-13" title="13">  <span class="fu">},</span></a>
<a class="sourceLine" id="cb9-14" title="14">  <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb9-15" title="15">    <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb9-16" title="16">      <span class="st">&quot;run&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb9-17" title="17">      <span class="st">&quot;--host&quot;</span><span class="ot">,</span> <span class="st">&quot;0.0.0.0&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb9-18" title="18">      <span class="st">&quot;--port&quot;</span><span class="ot">,</span> <span class="st">&quot;5000&quot;</span></a>
<a class="sourceLine" id="cb9-19" title="19">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-20" title="20">    <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;flask&quot;</span></a>
<a class="sourceLine" id="cb9-21" title="21">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb9-22" title="22"><span class="fu">}</span></a></code></pre>
        </div>
      </li>
      <li>
        Select the <strong>Docker: Python – Flask</strong> launch configuration
        and hit <code>kb(workbench.action.debug.start)</code> to build and run
        your container.
      </li>
      <li>Modify and save any file.</li>
      <li><p>Refresh the browser and validate changes have been made.</p></li>
    </ol>
    <h2 id="how-to-build-and-run-a-container-together">
      How to build and run a container together
    </h2>
    <ol type="1">
      <li>
        In the previously mentioned <code>tasks.json</code> file, there is a
        dependency on the <code>docker-build</code> task. The task is part of
        the <code>tasks</code> array in <code>tasks.json</code>. For example:
      </li>
    </ol>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb10-1" title="1"><span class="er">&quot;tasks&quot;:</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="ot">[</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="er">...</span></a>
<a class="sourceLine" id="cb10-5" title="5">  <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-6" title="6">  <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-8" title="8">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-9" title="9">    <span class="dt">&quot;dockerBuild&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-10" title="10">        <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-11" title="11">        <span class="dt">&quot;dockerfile&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}/Dockerfile&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-12" title="12">        <span class="dt">&quot;tag&quot;</span><span class="fu">:</span> <span class="st">&quot;YOUR_IMAGE_NAME:YOUR_IMAGE_TAG&quot;</span></a>
<a class="sourceLine" id="cb10-13" title="13">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb10-14" title="14">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="ot">]</span></a></code></pre>
    </div>
    <p>
      <strong>Tip:</strong> As the dependency clearly states
      <code>docker-build</code> as its dependency, the name has to match this
      task. It can be changed to anything though.
    </p>
    <ol type="1">
      <li>
        <p>
          The <code>dockerBuild</code> object in the JSON allows for the
          following parameters:
        </p>
        <ul>
          <li>
            context: The docker build context, from which your Dockerfile is
            called
          </li>
          <li>dockerfile: The path to the Dockerfile to execute</li>
          <li>tag: The name of the image to be built, with its version tag</li>
        </ul>
      </li>
      <li>
        <p>
          Overall, a VS Code setup for building and debugging your Flask
          application can be:
        </p>
        <ul>
          <li>
            <p><code>launch.json</code></p>
            <div class="sourceCode" id="cb11">
              <pre
                class="sourceCode json"
              ><code class="sourceCode json"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.2.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb11-4" title="4">      <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-5" title="5">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Debug Flask App&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-6" title="6">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-7" title="7">        <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9">        <span class="dt">&quot;preLaunchTask&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-10" title="10">        <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-11" title="11">          <span class="dt">&quot;pathMappings&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb11-12" title="12">            <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-13" title="13">              <span class="dt">&quot;localRoot&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-14" title="14">              <span class="dt">&quot;remoteRoot&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span></a>
<a class="sourceLine" id="cb11-15" title="15">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb11-16" title="16">          <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-17" title="17">          <span class="dt">&quot;projectType&quot;</span><span class="fu">:</span> <span class="st">&quot;flask&quot;</span></a>
<a class="sourceLine" id="cb11-18" title="18">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb11-19" title="19">        <span class="dt">&quot;dockerServerReadyAction&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-20" title="20">          <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="st">&quot;openExternally&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-21" title="21">          <span class="dt">&quot;pattern&quot;</span><span class="fu">:</span> <span class="st">&quot;Running on (http?://</span><span class="ch">\\</span><span class="st">S+|[0-9]+)&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-22" title="22">          <span class="dt">&quot;uriFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;%s://localhost:%s/&quot;</span></a>
<a class="sourceLine" id="cb11-23" title="23">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb11-24" title="24">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb11-25" title="25">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb11-26" title="26"><span class="fu">}</span></a></code></pre>
            </div>
          </li>
          <li>
            <p><code>tasks.json</code></p>
            <div class="sourceCode" id="cb12">
              <pre
                class="sourceCode json"
              ><code class="sourceCode json"><a class="sourceLine" id="cb12-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-5" title="5">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-6" title="6">      <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-run: debug&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-7" title="7">      <span class="dt">&quot;dependsOn&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-8" title="8">          <span class="st">&quot;docker-build&quot;</span></a>
<a class="sourceLine" id="cb12-9" title="9">      <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-10" title="10">      <span class="dt">&quot;dockerRun&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-11" title="11">          <span class="dt">&quot;containerName&quot;</span><span class="fu">:</span> <span class="st">&quot;YOUR_IMAGE_NAME&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-12" title="12">          <span class="dt">&quot;image&quot;</span><span class="fu">:</span> <span class="st">&quot;YOUR_IMAGE_NAME:YOUR_IMAGE_TAG&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-13" title="13">          <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-14" title="14">              <span class="dt">&quot;FLASK_APP&quot;</span><span class="fu">:</span> <span class="st">&quot;path_to/flask_entry_point.py&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-15" title="15">              <span class="dt">&quot;FLASK_ENV&quot;</span><span class="fu">:</span> <span class="st">&quot;development&quot;</span></a>
<a class="sourceLine" id="cb12-16" title="16">          <span class="fu">},</span></a>
<a class="sourceLine" id="cb12-17" title="17">          <span class="dt">&quot;volumes&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-18" title="18">              <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-19" title="19">                  <span class="dt">&quot;containerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/app&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-20" title="20">                  <span class="dt">&quot;localPath&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb12-21" title="21">              <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-22" title="22">          <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-23" title="23">          <span class="dt">&quot;ports&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-24" title="24">              <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-25" title="25">                  <span class="dt">&quot;containerPort&quot;</span><span class="fu">:</span> <span class="dv">5000</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-26" title="26">                  <span class="dt">&quot;hostPort&quot;</span><span class="fu">:</span> <span class="dv">5000</span></a>
<a class="sourceLine" id="cb12-27" title="27">              <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-28" title="28">          <span class="ot">]</span></a>
<a class="sourceLine" id="cb12-29" title="29">      <span class="fu">},</span></a>
<a class="sourceLine" id="cb12-30" title="30">      <span class="dt">&quot;python&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-31" title="31">          <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-32" title="32">              <span class="st">&quot;run&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-33" title="33">              <span class="st">&quot;--host&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-34" title="34">              <span class="st">&quot;0.0.0.0&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-35" title="35">              <span class="st">&quot;--port&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-36" title="36">              <span class="st">&quot;5000&quot;</span></a>
<a class="sourceLine" id="cb12-37" title="37">          <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-38" title="38">          <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;flask&quot;</span></a>
<a class="sourceLine" id="cb12-39" title="39">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-40" title="40">  <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-41" title="41">  <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-42" title="42">      <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-43" title="43">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;docker-build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-44" title="44">      <span class="dt">&quot;dockerBuild&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-45" title="45">          <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-46" title="46">          <span class="dt">&quot;dockerfile&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}/Dockerfile&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-47" title="47">          <span class="dt">&quot;tag&quot;</span><span class="fu">:</span> <span class="st">&quot;YOUR_IMAGE_NAME:YOUR_IMAGE_TAG&quot;</span></a>
<a class="sourceLine" id="cb12-48" title="48">      <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-49" title="49">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-50" title="50">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb12-51" title="51"><span class="fu">}</span></a></code></pre>
            </div>
          </li>
        </ul>
      </li>
    </ol>
    <h2 id="next-steps">Next steps</h2>
    <p>Learn more about:</p>
    <ul>
      <li>
        <a href="/docs/containers/python-configure-containers.md"
          >Configuring a non-root user in your container</a
        >
      </li>
    </ul>
  </body>
</html>
