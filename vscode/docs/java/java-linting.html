<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>java-linting</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="java-formatting-and-linting">Java formatting and linting</h1>
<p><a href="https://marketplace.visualstudio.com/items?itemName=redhat.java">Language Support for Java(TM) by Red Hat</a> also provides <a href="https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings">formatting settings</a>. You can export an Eclipse formatter file and then use it for your project in VS Code.</p>
<p>In addition, there are also the <a href="https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle">Checkstyle for Java</a> and <a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode">SonarLint</a> extensions, which provide features for live linting and code analysis.</p>
<h2 id="checkstyle">Checkstyle</h2>
<p>With the <a href="https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle">Checkstyle for Java</a> extension, you can use either existing <code>checkstyle</code> configurations (Google’s or Sun’s Check) or your own customized files for your project. When editing a Java file, the extension will check the file format and provide Quick Fixes if possible on the fly.</p>
<p>Set Checkstyle configuration file.</p>
<video autoplay loop muted playsinline controls>
<source src="/docs/java/java-linting/checkstyle.mp4" type="video/mp4">
</video>
<p>The <a href="https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle">Checkstyle for Java</a> extension supports live linting.</p>
<video autoplay loop muted playsinline controls>
<source src="/docs/java/java-linting/checkstyle-live-linting.mp4" type="video/mp4">
</video>
<p>And batch check.</p>
<video autoplay loop muted playsinline controls>
<source src="/docs/java/java-linting/checkstyle-batch.mp4" type="video/mp4">
</video>
<p>The Problems panel will open when you click the Checkstyle status icon in the Status bar.</p>
<p><strong>Set Checkstyle configuration file</strong></p>
<figure>
<img src="images/java-linting/set_config.png" alt="Set Checkstyle configuration file" /><figcaption>Set Checkstyle configuration file</figcaption>
</figure>
<ul>
<li>To set the configuration file, right-click the <code>.xml</code> file and select <strong>Set the Checkstyle Configuration File</strong>.</li>
<li><p>You can also trigger the command <strong>Checkstyle: Set Checkstyle Configuration File</strong> to choose the configuration file in the File Explorer. The extension looks for a <code>checkstyle.xml</code> file in your workspace to make Checkstyle configuration easier. You will also see the two built-in configurations:</p>
<ul>
<li><strong>Google’s Check</strong></li>
<li><strong>Sun’s Check</strong></li>
</ul></li>
<li><p>Command <strong>Checkstyle: Set the Checkstyle Configuration</strong> detects potential <strong>Checkstyle</strong> configuration files and lists them. You can also provide a configuration file by directly writing a URL in the input box.</p></li>
</ul>
<video autoplay loop muted playsinline controls>
<source src="/docs/java/java-linting/checkstyle-configuration.mp4" type="video/mp4">
</video>
<p>You can also set the Checkstyle version by using the command <strong>Checkstyle: Set the Checkstyle Version</strong>.</p>
<p>The command will:</p>
<ul>
<li>List the latest Checkstyle version from the main repo.</li>
<li>List all the downloaded versions.</li>
<li>List all the supported versions.</li>
<li>Mark the currently used version with a check symbol.</li>
</ul>
<p>In addition, you can also bring any 3rd-party modules for Checkstyle by configuring its path. For example, after using the configuration below, you can add <code>&lt;module name="SingleBreakOrContinueCheck"/&gt;</code> or <code>&lt;module name="com.github.sevntu.checkstyle.checks.naming.SingleBreakOrContinueCheck"/&gt;</code> to <code>checkstyle.xml</code> to leverage those checks.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="er">&quot;java.checkstyle.modules&quot;:</span> <span class="ot">[</span> <span class="st">&quot;${workspaceFolder}/src/main/resources/sevntu-checks-1.35.0.jar&quot;</span> <span class="ot">]</span></a></code></pre></div>
<p><strong>Check the style and fix the violations</strong></p>
<figure>
<img src="images/java-linting/quick_fix.png" alt="Fix style violation" /><figcaption>Fix style violation</figcaption>
</figure>
<ul>
<li>When editing a Java file, the extension will check the file format and provide Quick Fixes if possible. You can click the lightbulb button in the editor to show the available Quick Fixes.</li>
</ul>
<p>For more details about <a href="https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle">Checkstyle for Java</a>, visit its <a href="https://github.com/jdneo/vscode-checkstyle">GitHub Repository</a>.</p>
<h2 id="sonarlint">SonarLint</h2>
<p>The <a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode">SonarLint</a> extension lets you detect bugs and vulnerabilities as you write code in VS Code. Java is one of the languages supported, and the extension will run in the background and highlight source code that poses a quality or security concern.</p>
<p><strong>Code Analysis on the fly</strong></p>
<p>Issues are highlighted directly in the editor with hovers to provide detailed explanations.</p>
<figure>
<img src="images/java-linting/SonarLint.Bug.gif" alt="SonarLint Bug" /><figcaption>SonarLint Bug</figcaption>
</figure>
<p>Issues found in the opened file can also be reviewed through the Problems panel of VS Code. When applicable, secondary code locations are mentioned so you can understand where the issue originates from (for example, the code path that led to a bug).</p>
<p><strong>Rule documentation and remediation guidance</strong></p>
<p>For any issue detected, SonarLint provides full documentation about the rule that was violated, and the coding best practice it relates to. This lets you understand why an issue is raised, and most importantly how to best fix it.</p>
<figure>
<img src="images/java-linting/SonarLint.Rule.Description.gif" alt="SonarLint Rules" /><figcaption>SonarLint Rules</figcaption>
</figure>
<p><strong>Enabling more quality and security rules</strong></p>
<p>By default, SonarLint provides a wide array of rules to detect bugs and vulnerabilities. More checks can be enabled through the SonarLint Rules view.</p>
<figure>
<img src="images/java-linting/SonarLint.Activate-Deactivate.Rules.gif" alt="SonarLint Activate-Deactivate Rules" /><figcaption>SonarLint Activate-Deactivate Rules</figcaption>
</figure>
<p>For more details about the <a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode">SonarLint for VS Code extension</a>, visit the <a href="https://www.sonarlint.org/vscode/">SonarLint website</a>.</p>
<h2 id="formatter">Formatter</h2>
<p>Currently, you need an Eclipse formatter file like <a href="https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml">Google Style</a>.</p>
<p>Set the following property:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb2-1" title="1"><span class="er">&quot;java.format.settings.url&quot;:</span> <span class="er">&quot;https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml&quot;,</span></a></code></pre></div>
<p>The property can point to a URL or a local file path.</p>
<p>If the formatter XML file contains more than one profile, you can set the profile name:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="er">&quot;java.format.settings.profile&quot;:</span> <span class="er">&quot;GoogleStyle&quot;,</span></a></code></pre></div>
<p>You can also define the formatting preferences in your project’s <a href="https://gist.github.com/fbricon/30c5971f7e492c8a74ca2b2d7a7bb966">.settings/org.eclipse.jdt.core.prefs</a>. It will override the global formatting settings.</p>
<p>We are working on a solution to allow editing your formatting preferences from within VS Code. For now, the best way to edit them is to use Eclipse. See <a href="https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings">Formatter Settings</a> for details.</p>
</body>
</html>
