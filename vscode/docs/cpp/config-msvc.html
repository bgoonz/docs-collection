<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>config-msvc</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="configure-vs-code-for-microsoft-c">
      Configure VS Code for Microsoft C++
    </h1>
    <p>
      In this tutorial, you configure Visual Studio Code to use the Microsoft
      Visual C++ compiler and debugger on Windows.
    </p>
    <p>
      After configuring VS Code, you will compile and debug a simple Hello World
      program in VS Code. This tutorial does not teach you details about the
      Microsoft C++ toolset or the C++ language. For those subjects, there are
      many good resources available on the Web.
    </p>
    <p>
      If you have any problems, feel free to file an issue for this tutorial in
      the
      <a href="https://github.com/microsoft/vscode-docs/issues"
        >VS Code documentation repository</a
      >.
    </p>
    <h2 id="prerequisites">Prerequisites</h2>
    <p>To successfully complete this tutorial, you must do the following:</p>
    <ol type="1">
      <li>
        <p>Install <a href="/download">Visual Studio Code</a>.</p>
      </li>
      <li>
        <p>
          Install the
          <a
            href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"
            >C/C++ extension for VS Code</a
          >. You can install the C/C++ extension by searching for ‘c++’ in the
          Extensions view (<code>kb(workbench.view.extensions)</code>).
        </p>
        <figure>
          <img src="images/cpp/cpp-extension.png" alt="C/C++ extension" />
          <figcaption>C/C++ extension</figcaption>
        </figure>
      </li>
      <li>
        <p>Install the Microsoft Visual C++ (MSVC) compiler toolset.</p>
        <p>
          If you have a recent version of Visual Studio, open the Visual Studio
          Installer from the Windows Start menu and verify that the C++ workload
          is checked. If it’s not installed, then check the box and click the
          <strong>Modify</strong> button in the installer.
        </p>
        <p>
          You can also install just the <strong>C++ Build Tools</strong>,
          without a full Visual Studio IDE installation. From the Visual Studio
          <a href="https://visualstudio.microsoft.com/downloads#other"
            >Downloads</a
          >
          page, scroll down until you see
          <strong>Tools for Visual Studio</strong> under the
          <strong>All downloads</strong> section and select the download for
          <strong>Build Tools for Visual Studio</strong>.
        </p>
        <figure>
          <img
            src="images/msvc/build-tools-for-vs.png"
            alt="Build Tools for Visual Studio download"
          />
          <figcaption>Build Tools for Visual Studio download</figcaption>
        </figure>
        <p>
          This will launch the Visual Studio Installer, which will bring up a
          dialog showing the available Visual Studio Build Tools workloads.
          Check the <strong>C++ build tools</strong> workload and select
          <strong>Install</strong>.
        </p>
        <figure>
          <img
            src="images/msvc/cpp-build-tools.png"
            alt="Cpp build tools workload"
          />
          <figcaption>Cpp build tools workload</figcaption>
        </figure>
      </li>
    </ol>
    <blockquote>
      <p>
        <strong>Note</strong>: You can use the C++ toolset from Visual Studio
        Build Tools along with Visual Studio Code to compile, build, and verify
        any C++ codebase as long as you also have a valid Visual Studio license
        (either Community, Pro, or Enterprise) that you are actively using to
        develop that C++ codebase.
      </p>
    </blockquote>
    <h3 id="check-your-microsoft-visual-c-installation">
      Check your Microsoft Visual C++ installation
    </h3>
    <p>
      To use MSVC from a command line or VS Code, you must run from a
      <strong>Developer Command Prompt for Visual Studio</strong>. An ordinary
      shell such as PowerShell, Bash, or the Windows command prompt does not
      have the necessary path environment variables set.
    </p>
    <p>
      To open the Developer Command Prompt for VS, start typing ‘developer’ in
      the Windows Start menu, and you should see it appear in the list of
      suggestions. The exact name depends on which version of Visual Studio or
      the Visual Studio Build Tools you have installed. Click on the item to
      open the prompt.
    </p>
    <figure>
      <img
        src="images/msvc/developer-cmd-prompt-menu.png"
        alt="Developer Command Prompt"
      />
      <figcaption>Developer Command Prompt</figcaption>
    </figure>
    <p>
      You can test that you have the C++ compiler, <code>cl.exe</code>,
      installed correctly by typing ‘cl’ and you should see a copyright message
      with the version and basic usage description.
    </p>
    <figure>
      <img
        src="images/msvc/check-cl-exe.png"
        alt="Checking cl.exe installation"
      />
      <figcaption>Checking cl.exe installation</figcaption>
    </figure>
    <p>
      If the Developer Command Prompt is using the BuildTools location as the
      starting directory (you wouldn’t want to put projects there), navigate to
      your user folder (<code>C:\users\{your username}\</code>) before you start
      creating new projects.
    </p>
    <h2 id="create-hello-world">Create Hello World</h2>
    <p>
      From the Developer Command Prompt, create an empty folder called
      “projects” where you can store all your VS Code projects, then create a
      subfolder called “helloworld”, navigate into it, and open VS Code
      (<code>code</code>) in that folder (<code>.</code>) by entering the
      following commands:
    </p>
    <pre class="cmd"><code>mkdir projects
cd projects
mkdir helloworld
cd helloworld
code .</code></pre>
    <p>
      The “code .” command opens VS Code in the current working folder, which
      becomes your “workspace”. As you go through the tutorial, you will see
      three files created in a <code>.vscode</code> folder in the workspace:
    </p>
    <ul>
      <li><code>tasks.json</code> (build instructions)</li>
      <li><code>launch.json</code> (debugger settings)</li>
      <li>
        <code>c_cpp_properties.json</code> (compiler path and IntelliSense
        settings)
      </li>
    </ul>
    <h3 id="add-a-source-code-file">Add a source code file</h3>
    <p>
      In the File Explorer title bar, select the
      <strong>New File</strong> button and name the file
      <code>helloworld.cpp</code>.
    </p>
    <figure>
      <img
        src="images/msvc/new-file-button.png"
        alt="New File title bar button"
      />
      <figcaption>New File title bar button</figcaption>
    </figure>
    <h3 id="add-hello-world-source-code">Add hello world source code</h3>
    <p>Now paste in this source code:</p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode cpp"
      ><code class="sourceCode cpp"><a class="sourceLine" id="cb2-1" title="1"><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="pp">#include </span><span class="im">&lt;string&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">using</span> <span class="kw">namespace</span> std;</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="dt">int</span> main()</a>
<a class="sourceLine" id="cb2-8" title="8">{</a>
<a class="sourceLine" id="cb2-9" title="9">    vector&lt;string&gt; msg {<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;C++&quot;</span>, <span class="st">&quot;World&quot;</span>, <span class="st">&quot;from&quot;</span>, <span class="st">&quot;VS Code&quot;</span>, <span class="st">&quot;and the C++ extension!&quot;</span>};</a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="cf">for</span> (<span class="at">const</span> string&amp; word : msg)</a>
<a class="sourceLine" id="cb2-12" title="12">    {</a>
<a class="sourceLine" id="cb2-13" title="13">        cout &lt;&lt; word &lt;&lt; <span class="st">&quot; &quot;</span>;</a>
<a class="sourceLine" id="cb2-14" title="14">    }</a>
<a class="sourceLine" id="cb2-15" title="15">    cout &lt;&lt; endl;</a>
<a class="sourceLine" id="cb2-16" title="16">}</a></code></pre>
    </div>
    <p>
      Now press <code>kb(workbench.action.files.save)</code> to save the file.
      Notice how the file you just added appears in the
      <strong>File Explorer</strong> view
      (<code>kb(workbench.view.explorer)</code>) in the side bar of VS Code:
    </p>
    <figure>
      <img src="images/msvc/file-explorer.png" alt="File Explorer" />
      <figcaption>File Explorer</figcaption>
    </figure>
    <p>
      You can also enable
      <a href="/docs/editor/codebasics.md#saveauto-save">Auto Save</a> to
      automatically save your file changes, by checking
      <strong>Auto Save</strong> in the main <strong>File</strong> menu.
    </p>
    <p>
      The Activity Bar on the far left lets you open different views such as
      <strong>Search</strong>, <strong>Source Control</strong>, and
      <strong>Run</strong>. You’ll look at the <strong>Run</strong> view later
      in this tutorial. You can find out more about the other views in the VS
      Code
      <a href="/docs/getstarted/userinterface.md"
        >User Interface documentation</a
      >.
    </p>
    <blockquote>
      <p>
        <strong>Note</strong>: When you save or open a C++ file, you may see a
        notification from the C/C++ extension about the availability of an
        Insiders version, which lets you test new features and fixes. You can
        ignore this notification by selecting the <code>X</code> (<strong
          >Clear Notification</strong
        >).
      </p>
    </blockquote>
    <h2 id="explore-intellisense">Explore IntelliSense</h2>
    <p>
      In your new <code>helloworld.cpp</code> file, hover over
      <code>vector</code> or <code>string</code> to see type information. After
      the declaration of the <code>msg</code> variable, start typing
      <code>msg.</code> as you would when calling a member function. You should
      immediately see a completion list that shows all the member functions, and
      a window that shows the type information for the <code>msg</code> object:
    </p>
    <figure>
      <img
        src="images/wsl/msg-intellisense.png"
        alt="Statement completion IntelliSense"
      />
      <figcaption>Statement completion IntelliSense</figcaption>
    </figure>
    <p>
      You can press the <code>kbstyle(Tab)</code> key to insert the selected
      member; then, when you add the opening parenthesis, you will see
      information about any arguments that the function requires.
    </p>
    <h2 id="build-helloworld.cpp">Build helloworld.cpp</h2>
    <p>
      Next, you will create a <code>tasks.json</code> file to tell VS Code how
      to build (compile) the program. This task will invoke the Microsoft C++
      compiler to create an executable file based on the source code.
    </p>
    <p>
      From the main menu, choose <strong>Terminal</strong> &gt;
      <strong>Configure Default Build Task</strong>. In the dropdown, which will
      display a tasks dropdown listing various predefined build tasks for C++
      compilers. Choose <strong>cl.exe build active file</strong>, which will
      build the file that is currently displayed (active) in the editor.
    </p>
    <figure>
      <img
        src="images/msvc/build-active-file.png"
        alt="Tasks C++ build dropdown"
      />
      <figcaption>Tasks C++ build dropdown</figcaption>
    </figure>
    <p>
      This will create a <code>tasks.json</code> file in a
      <code>.vscode</code> folder and open it in the editor.
    </p>
    <p>
      Your new <code>tasks.json</code> file should look similar to the JSON
      below:
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;cl.exe build active file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-7" title="7">        <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;cl.exe&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-8" title="8">        <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-9" title="9">            <span class="st">&quot;/Zi&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb3-10" title="10">            <span class="st">&quot;/EHsc&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb3-11" title="11">            <span class="st">&quot;/Fe:&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb3-12" title="12">            <span class="st">&quot;${fileDirname}</span><span class="ch">\\</span><span class="st">${fileBasenameNoExtension}.exe&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb3-13" title="13">            <span class="st">&quot;${file}&quot;</span></a>
<a class="sourceLine" id="cb3-14" title="14">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-15" title="15">        <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-16" title="16">            <span class="st">&quot;$msCompile&quot;</span></a>
<a class="sourceLine" id="cb3-17" title="17">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-18" title="18">        <span class="dt">&quot;group&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-19" title="19">            <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-20" title="20">            <span class="dt">&quot;isDefault&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb3-21" title="21">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-22" title="22">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="ot">]</span></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The <code>command</code> setting specifies the program to run; in this
      case that is “cl.exe”. The <code>args</code> array specifies the
      command-line arguments that will be passed to cl.exe. These arguments must
      be specified in the order expected by the compiler. This task tells the
      C++ compiler to take the active file (<code>${file}</code>), compile it,
      and create an executable file (<code>/Fe:</code> switch) in the current
      directory (<code>${fileDirname}</code>) with the same name as the active
      file but with the <code>.exe</code> extension
      (<code>${fileBasenameNoExtension}.exe</code>), resulting in
      <code>helloworld.exe</code> for our example.
    </p>
    <blockquote>
      <p>
        <strong>Note</strong>: You can learn more about
        <code>tasks.json</code> variables in the
        <a href="/docs/editor/variables-reference.md">variables reference</a>.
      </p>
    </blockquote>
    <p>
      The <code>label</code> value is what you will see in the tasks list; you
      can name this whatever you like.
    </p>
    <p>
      The <code>problemMatcher</code> value selects the output parser to use for
      finding errors and warnings in the compiler output. For cl.exe, you’ll get
      the best results if you use the <code>$msCompile</code> problem matcher.
    </p>
    <p>
      The <code>"isDefault": true</code> value in the <code>group</code> object
      specifies that this task will be run when you press
      <code>kb(workbench.action.tasks.build)</code>. This property is for
      convenience only; if you set it to false, you can still run it from the
      Terminal menu with <strong>Tasks: Run Build Task</strong>.
    </p>
    <h3 id="running-the-build">Running the build</h3>
    <ol type="1">
      <li>
        Go back to <code>helloworld.cpp</code>. Your task builds the active file
        and you want to build <code>helloworld.cpp</code>.
      </li>
      <li>
        To run the build task defined in <code>tasks.json</code>, press
        <code>kb(workbench.action.tasks.build)</code> or from the
        <strong>Terminal</strong> main menu choose
        <strong>Tasks: Run Build Task</strong>.
      </li>
      <li>
        <p>
          When the task starts, you should see the Integrated Terminal panel
          appear below the source code editor. After the task completes, the
          terminal shows output from the compiler that indicates whether the
          build succeeded or failed. For a successful C++ build, the output
          looks something like this:
        </p>
        <figure>
          <img
            src="images/msvc/build-output-in-terminal.png"
            alt="C++ build output in terminal"
          />
          <figcaption>C++ build output in terminal</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Create a new terminal using the <strong>+</strong> button and you’ll
          have a new terminal (running PowerShell) with the
          <code>helloworld</code> folder as the working directory. Run
          <code>ls</code> and you should now see the executable
          <code>helloworld.exe</code> along with various intermediate C++ output
          and debugging files (<code>helloworld.obj</code>,
          <code>helloworld.pdb</code>).
        </p>
        <figure>
          <img
            src="images/msvc/helloworld-in-terminal.png"
            alt="Hello World in PowerShell terminal"
          />
          <figcaption>Hello World in PowerShell terminal</figcaption>
        </figure>
      </li>
      <li>
        <p>
          You can run <code>helloworld</code> in the terminal by typing
          <code>.\helloworld.exe</code>.
        </p>
      </li>
    </ol>
    <blockquote>
      <p>
        <strong>Note</strong>: You might need to press
        <code>kbstyle(Enter)</code> a couple of times initially to see the
        PowerShell prompt in the terminal. This issue should be fixed in a
        future release of Windows.
      </p>
    </blockquote>
    <h3 id="modifying-tasks.json">Modifying tasks.json</h3>
    <p>
      You can modify your <code>tasks.json</code> to build multiple C++ files by
      using an argument like <code>"${workspaceFolder}\\*.cpp"</code> instead of
      <code>${file}</code>. This will build all <code>.cpp</code> files in your
      current folder. You can also modify the output filename by replacing
      <code>"${fileDirname}\\${fileBasenameNoExtension}.exe"</code> with a
      hard-coded filename (for example
      <code>"${workspaceFolder}\\myProgram.exe"</code>).
    </p>
    <h2 id="debug-helloworld.cpp">Debug helloworld.cpp</h2>
    <p>
      Next, you’ll create a <code>launch.json</code> file to configure VS Code
      to launch the Microsoft C++ debugger when you press
      <code>kb(workbench.action.debug.start)</code> to debug the program. From
      the main menu, choose <strong>Run</strong> &gt;
      <strong>Add Configuration…</strong> and then choose
      <strong>C++ (Windows)</strong>.
    </p>
    <p>
      You’ll then see a dropdown for various predefined debugging
      configurations. Choose
      <strong>cl.exe build and debug active file</strong>.
    </p>
    <figure>
      <img
        src="images/msvc/build-and-debug-active-file.png"
        alt="C++ debug configuration dropdown"
      />
      <figcaption>C++ debug configuration dropdown</figcaption>
    </figure>
    <p>
      VS Code creates a <code>launch.json</code> file, opens it in the editor,
      and builds and runs ‘helloworld’.
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.2.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;cl.exe build and debug active file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;cppvsdbg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-7" title="7">        <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-8" title="8">        <span class="dt">&quot;program&quot;</span><span class="fu">:</span> <span class="st">&quot;${fileDirname}</span><span class="ch">\\</span><span class="st">${fileBasenameNoExtension}.exe&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-9" title="9">        <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-10" title="10">        <span class="dt">&quot;stopAtEntry&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-11" title="11">        <span class="dt">&quot;cwd&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-12" title="12">        <span class="dt">&quot;environment&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-13" title="13">        <span class="dt">&quot;externalConsole&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-14" title="14">        <span class="dt">&quot;preLaunchTask&quot;</span><span class="fu">:</span> <span class="st">&quot;cl.exe build active file&quot;</span></a>
<a class="sourceLine" id="cb4-15" title="15">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="ot">]</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The <code>program</code> setting specifies the program you want to debug.
      Here it is set to the active file folder <code>${fileDirname}</code> and
      active filename with the <code>.exe</code> extension
      <code>${fileBasenameNoExtension}.exe</code>, which if
      <code>helloworld.cpp</code> is the active file will be
      <code>helloworld.exe</code>.
    </p>
    <p>
      By default, the C++ extension won’t add any breakpoints to your source
      code and the <code>stopAtEntry</code> value is set to <code>false</code>.
      Change the <code>stopAtEntry</code> value to <code>true</code> to cause
      the debugger to stop on the <code>main</code> method when you start
      debugging.
    </p>
    <h3 id="start-a-debugging-session">Start a debugging session</h3>
    <ol type="1">
      <li>
        Go back to <code>helloworld.cpp</code> so that it is the active file.
      </li>
      <li>
        Press <code>kb(workbench.action.debug.start)</code> or from the main
        menu choose <strong>Run &gt; Start Debugging</strong>. Before you start
        stepping through the source code, let’s take a moment to notice several
        changes in the user interface:
      </li>
    </ol>
    <ul>
      <li>
        The Integrated Terminal appears at the bottom of the source code editor.
        In the <strong>Debug Output</strong> tab, you see output that indicates
        the debugger is up and running.
      </li>
      <li>
        <p>
          The editor highlights the first statement in the
          <code>main</code> method. This is a breakpoint that the C++ extension
          automatically sets for you:
        </p>
        <figure>
          <img src="images/msvc/stopAtEntry.png" alt="Initial breakpoint" />
          <figcaption>Initial breakpoint</figcaption>
        </figure>
      </li>
      <li>
        <p>
          The Run view on the left shows debugging information. You’ll see an
          example later in the tutorial.
        </p>
      </li>
      <li>
        <p>
          At the top of the code editor, a debugging control panel appears. You
          can move this around the screen by grabbing the dots on the left side.
        </p>
      </li>
    </ul>
    <h2 id="step-through-the-code">Step through the code</h2>
    <p>Now you’re ready to start stepping through the code.</p>
    <ol type="1">
      <li>
        <p>
          Click or press the <strong>Step over</strong> icon in the debugging
          control panel until the
          <code>for (const string&amp; word : msg)</code> statement is
          highlighted.
        </p>
        <figure>
          <img src="images/cpp/step-over-button.png" alt="Step over button" />
          <figcaption>Step over button</figcaption>
        </figure>
        <p>
          The <strong>Step Over</strong> command skip over all the internal
          function calls within the <code>vector</code> and
          <code>string</code> classes that are invoked when the
          <code>msg</code> variable is created and initialized. Notice the
          change in the <strong>Variables</strong> window on the left. In this
          case, the errors are expected because, although the variable names for
          the loop are now visible to the debugger, the statement has not
          executed yet, so there is nothing to read at this point. The contents
          of <code>msg</code> are visible, however, because that statement has
          completed.
        </p>
      </li>
      <li>
        <p>
          Press <strong>Step over</strong> again to advance to the next
          statement in this program (skipping over all the internal code that is
          executed to initialize the loop). Now, the
          <strong>Variables</strong> window shows information about the loop
          variables.
        </p>
      </li>
      <li>
        <p>
          Press <strong>Step over</strong> again to execute the
          <code>cout</code> statement. <strong>Note</strong> As of the March
          2019 version of the extension, no output is displayed until the loop
          completes.
        </p>
      </li>
      <li>
        <p>
          If you like, you can keep pressing <strong>Step over</strong> until
          all the words in the vector have been printed to the console. But if
          you are curious, try pressing the <strong>Step Into</strong> button to
          step through source code in the C++ standard library!
        </p>
        <figure>
          <img
            src="images/msvc/msvc-system-header-stepping.png"
            alt="Breakpoint in gcc standard library header"
          />
          <figcaption>Breakpoint in gcc standard library header</figcaption>
        </figure>
        <p>
          To return to your own code, one way is to keep pressing
          <strong>Step over</strong>. Another way is to set a breakpoint in your
          code by switching to the <code>helloworld.cpp</code> tab in the code
          editor, putting the insertion point somewhere on the
          <code>cout</code> statement inside the loop, and pressing
          <code>kb(editor.debug.action.toggleBreakpoint)</code>. A red dot
          appears in the gutter on the left to indicate that a breakpoint has
          been set on this line.
        </p>
        <figure>
          <img
            src="images/cpp/breakpoint-in-main.png"
            alt="Breakpoint in main"
          />
          <figcaption>Breakpoint in main</figcaption>
        </figure>
        <p>
          Then press <code>kb(workbench.action.debug.start)</code> to start
          execution from the current line in the standard library header.
          Execution will break on <code>cout</code>. If you like, you can press
          <code>kb(editor.debug.action.toggleBreakpoint)</code> again to toggle
          off the breakpoint.
        </p>
      </li>
    </ol>
    <h2 id="set-a-watch">Set a watch</h2>
    <p>
      Sometimes you might want to keep track of the value of a variable as your
      program executes. You can do this by setting a <strong>watch</strong> on
      the variable.
    </p>
    <ol type="1">
      <li>
        <p>
          Place the insertion point inside the loop. In the
          <strong>Watch</strong> window, click the plus sign and in the text
          box, type <code>word</code>, which is the name of the loop variable.
          Now view the Watch window as you step through the loop.
        </p>
        <figure>
          <img src="images/cpp/watch-window.png" alt="Watch window" />
          <figcaption>Watch window</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Add another watch by adding this statement before the loop:
          <code>int i = 0;</code>. Then, inside the loop, add this statement:
          <code>++i;</code>. Now add a watch for <code>i</code> as you did in
          the previous step.
        </p>
      </li>
      <li>
        <p>
          To quickly view the value of any variable while execution is paused on
          a breakpoint, you can hover over it with the mouse pointer.
        </p>
        <figure>
          <img src="images/cpp/mouse-hover.png" alt="Mouse hover" />
          <figcaption>Mouse hover</figcaption>
        </figure>
      </li>
    </ol>
    <h2 id="cc-configurations">C/C++ configurations</h2>
    <p>
      If you want more control over the C/C++ extension, you can create a
      <code>c_cpp_properties.json</code> file, which will allow you to change
      settings such as the path to the compiler, include paths, C++ standard
      (default is C++17), and more.
    </p>
    <p>
      You can view the C/C++ configuration UI by running the command
      <strong>C/C++: Edit Configurations (UI)</strong> from the Command Palette
      (<code>kb(workbench.action.showCommands)</code>).
    </p>
    <figure>
      <img src="images/cpp/command-palette.png" alt="Command Palette" />
      <figcaption>Command Palette</figcaption>
    </figure>
    <p>
      This opens the <strong>C/C++ Configurations</strong> page. When you make
      changes here, VS Code writes them to a file called
      <code>c_cpp_properties.json</code> in the <code>.vscode</code> folder.
    </p>
    <figure>
      <img src="images/msvc/configurations-ui.png" alt="Command Palette" />
      <figcaption>Command Palette</figcaption>
    </figure>
    <p>
      Visual Studio Code places these settings in
      <code>.vscode\c_cpp_properties.json</code>. If you open that file
      directly, it should look something like this:
    </p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-4" title="4">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Win32&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">        <span class="dt">&quot;includePath&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-6" title="6">            <span class="st">&quot;${workspaceFolder}/**&quot;</span></a>
<a class="sourceLine" id="cb5-7" title="7">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-8" title="8">        <span class="dt">&quot;defines&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-9" title="9">            <span class="st">&quot;_DEBUG&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-10" title="10">            <span class="st">&quot;UNICODE&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-11" title="11">            <span class="st">&quot;_UNICODE&quot;</span></a>
<a class="sourceLine" id="cb5-12" title="12">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-13" title="13">        <span class="dt">&quot;windowsSdkVersion&quot;</span><span class="fu">:</span> <span class="st">&quot;10.0.18362.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-14" title="14">        <span class="dt">&quot;compilerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;C:/Program Files (x86)/Microsoft Visual Studio/2019/BuildTools/VC/Tools/MSVC/14.24.28314/bin/Hostx64/x64/cl.exe&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-15" title="15">        <span class="dt">&quot;cStandard&quot;</span><span class="fu">:</span> <span class="st">&quot;c11&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-16" title="16">        <span class="dt">&quot;cppStandard&quot;</span><span class="fu">:</span> <span class="st">&quot;c++17&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-17" title="17">        <span class="dt">&quot;intelliSenseMode&quot;</span><span class="fu">:</span> <span class="st">&quot;msvc-x64&quot;</span></a>
<a class="sourceLine" id="cb5-18" title="18">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb5-19" title="19"><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb5-21" title="21"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      You only need to add to the <strong>Include path</strong> array setting if
      your program includes header files that are not in your workspace or in
      the standard library path.
    </p>
    <h3 id="compiler-path">Compiler path</h3>
    <p>
      The <code>compilerPath</code> setting is an important setting in your
      configuration. The extension uses it to infer the path to the C++ standard
      library header files. When the extension knows where to find those files,
      it can provide useful features like smart completions and
      <strong>Go to Definition</strong> navigation.
    </p>
    <p>
      The C/C++ extension attempts to populate <code>compilerPath</code> with
      the default compiler location based on what it finds on your system. The
      extension looks in several common compiler locations.
    </p>
    <p>The <code>compilerPath</code> search order is:</p>
    <ul>
      <li>First check for the Microsoft Visual C++ compilerOpe</li>
      <li>Then look for g++ on Windows Subsystem for Linux (WSL)</li>
      <li>Then g++ for Mingw-w64.</li>
    </ul>
    <p>
      If you have g++ or WSL installed, you might need to change
      <code>compilerPath</code> to match the preferred compiler for your
      project. For Microsoft C++, the path should look something like this,
      depending on which specific version you have installed: “C:/Program Files
      (x86)/Microsoft Visual
      Studio/2017/BuildTools/VC/Tools/MSVC/14.16.27023/bin/Hostx64/x64/cl.exe”.
    </p>
    <h2 id="reusing-your-c-configuration">Reusing your C++ configuration</h2>
    <p>
      VS Code is now configured to use the Microsoft C++ compiler. The
      configuration applies to the current workspace. To reuse the
      configuration, just copy the JSON files to a <code>.vscode</code> folder
      in a new project folder (workspace) and change the names of the source
      file(s) and executable as needed.
    </p>
    <h2 id="troubleshooting">Troubleshooting</h2>
    <h3 id="the-term-cl.exe-is-not-recognized">
      The term ‘cl.exe’ is not recognized
    </h3>
    <p>
      If you see the error “The term ‘cl.exe’ is not recognized as the name of a
      cmdlet, function, script file, or operable program.”, this usually means
      you are running VS Code outside of a
      <strong>Developer Command Prompt for Visual Studio</strong> and VS Code
      doesn’t know the path to the <code>cl.exe</code> compiler.
    </p>
    <p>
      You can always check that you are running VS Code in the context of the
      Developer Command Prompt by opening a new Terminal
      (<code>kb(workbench.action.terminal.new)</code>) and typing ‘cl’ to verify
      <code>cl.exe</code> is available to VS Code.
    </p>
    <h2 id="next-steps">Next steps</h2>
    <ul>
      <li>
        Explore the <a href="/docs/editor/codebasics.md">VS Code User Guide</a>.
      </li>
      <li>
        Review the
        <a href="/docs/languages/cpp.md">Overview of the C++ extension</a>.
      </li>
      <li>
        Create a new workspace, copy your <code>.vscode</code> JSON files to it,
        adjust the necessary settings for the new workspace path, program name,
        and so on, and start coding!
      </li>
    </ul>
  </body>
</html>
