<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>config-clang-mac</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="using-clang-in-visual-studio-code">
      Using Clang in Visual Studio Code
    </h1>
    <p>
      In this tutorial, you configure Visual Studio Code on macOS to use the
      Clang/LLVM compiler and debugger.
    </p>
    <p>
      After configuring VS Code, you will compile and debug a simple C++ program
      in VS Code. This tutorial does not teach you about Clang or the C++
      language. For those subjects, there are many good resources available on
      the Web.
    </p>
    <p>
      If you have any trouble, feel free to file an issue for this tutorial in
      the
      <a href="https://github.com/microsoft/vscode-docs/issues"
        >VS Code documentation repository</a
      >.
    </p>
    <h2 id="prerequisites">Prerequisites</h2>
    <p>To successfully complete this tutorial, you must do the following:</p>
    <ol type="1">
      <li>
        <p>
          Install <a href="/docs/setup/mac.md">Visual Studio Code on macOS</a>.
        </p>
      </li>
      <li>
        <p>
          Install the
          <a
            href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"
            >C++ extension for VS Code</a
          >. You can install the C/C++ extension by searching for ‘c++’ in the
          Extensions view (<code>kb(workbench.view.extensions)</code>).
        </p>
        <figure>
          <img src="images/cpp/cpp-extension.png" alt="C/C++ extension" />
          <figcaption>C/C++ extension</figcaption>
        </figure>
      </li>
    </ol>
    <h3 id="ensure-clang-is-installed">Ensure Clang is installed</h3>
    <p>
      Clang may already be installed on your Mac. To verify that it is, open a
      macOS Terminal window and enter the following command:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">clang</span> --version</a></code></pre>
    </div>
    <ol type="1">
      <li>
        If Clang isn’t installed, enter the following command to install the
        command line developer tools:
      </li>
    </ol>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">xcode-select</span> --install</a></code></pre>
    </div>
    <h2 id="create-hello-world">Create Hello World</h2>
    <p>
      From the macOS Terminal, create an empty folder called
      <code>projects</code> where you can store all your VS Code projects, then
      create a subfolder called <code>helloworld</code>, navigate into it, and
      open VS Code in that folder by entering the following commands:
    </p>
    <pre class="cmd"><code>mkdir projects
cd projects
mkdir helloworld
cd helloworld
code .</code></pre>
    <p>
      The <code>code .</code> command opens VS Code in the current working
      folder, which becomes your “workspace”. As you go through the tutorial,
      you will create three files in a <code>.vscode</code> folder in the
      workspace:
    </p>
    <ul>
      <li><code>tasks.json</code> (compiler build settings)</li>
      <li><code>launch.json</code> (debugger settings)</li>
      <li>
        <code>c_cpp_properties.json</code> (compiler path and IntelliSense
        settings)
      </li>
    </ul>
    <h3 id="add-hello-world-source-code-file">
      Add hello world source code file
    </h3>
    <p>
      In the File Explorer title bar, select <strong>New File</strong> and name
      the file <code>helloworld.cpp</code>.
    </p>
    <figure>
      <img
        src="images/msvc/new-file-button.png"
        alt="New File title bar button"
      />
      <figcaption>New File title bar button</figcaption>
    </figure>
    <p>Paste in the following source code:</p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode cpp"
      ><code class="sourceCode cpp"><a class="sourceLine" id="cb4-1" title="1"><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="pp">#include </span><span class="im">&lt;string&gt;</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">using</span> <span class="kw">namespace</span> std;</a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="dt">int</span> main()</a>
<a class="sourceLine" id="cb4-8" title="8">{</a>
<a class="sourceLine" id="cb4-9" title="9">    vector&lt;string&gt; msg {<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;C++&quot;</span>, <span class="st">&quot;World&quot;</span>, <span class="st">&quot;from&quot;</span>, <span class="st">&quot;VS Code&quot;</span>, <span class="st">&quot;and the C++ extension!&quot;</span>};</a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11">    <span class="cf">for</span> (<span class="at">const</span> string&amp; word : msg)</a>
<a class="sourceLine" id="cb4-12" title="12">    {</a>
<a class="sourceLine" id="cb4-13" title="13">        cout &lt;&lt; word &lt;&lt; <span class="st">&quot; &quot;</span>;</a>
<a class="sourceLine" id="cb4-14" title="14">    }</a>
<a class="sourceLine" id="cb4-15" title="15">    cout &lt;&lt; endl;</a>
<a class="sourceLine" id="cb4-16" title="16">}</a></code></pre>
    </div>
    <p>
      Now press <code>kb(workbench.action.files.save)</code> to save the file.
      Notice that your files are listed in the
      <strong>File Explorer</strong> view
      (<code>kb(workbench.view.explorer)</code>) in the side bar of VS Code:
    </p>
    <figure>
      <img src="images/msvc/file-explorer.png" alt="File Explorer" />
      <figcaption>File Explorer</figcaption>
    </figure>
    <p>
      You can also enable
      <a href="/docs/editor/codebasics.md#saveauto-save">Auto Save</a> to
      automatically save your file changes, by checking
      <strong>Auto Save</strong> in the main <strong>File</strong> menu.
    </p>
    <p>
      The Activity Bar on the edge of Visual Studio Code lets you open different
      views such as <strong>Search</strong>, <strong>Source Control</strong>,
      and <strong>Run</strong>. You’ll look at the <strong>Run</strong> view
      later in this tutorial. You can find out more about the other views in the
      VS Code
      <a href="/docs/getstarted/userinterface.md"
        >User Interface documentation</a
      >.
    </p>
    <blockquote>
      <p>
        <strong>Note</strong>: When you save or open a C++ file, you may see a
        notification from the C/C++ extension about the availability of an
        Insiders version, which lets you test new features and fixes. You can
        ignore this notification by selecting the <code>X</code> (<strong
          >Clear Notification</strong
        >).
      </p>
    </blockquote>
    <h2 id="explore-intellisense">Explore IntelliSense</h2>
    <p>
      In the <code>helloworld.cpp</code> file, hover over <code>vector</code> or
      <code>string</code> to see type information. After the declaration of the
      <code>msg</code> variable, start typing <code>msg.</code> as you would
      when calling a member function. You should immediately see a completion
      list that shows all the member functions, and a window that shows the type
      information for the <code>msg</code> object:
    </p>
    <figure>
      <img
        src="images/wsl/msg-intellisense.png"
        alt="Statement completion IntelliSense"
      />
      <figcaption>Statement completion IntelliSense</figcaption>
    </figure>
    <p>
      You can press the <code>kbstyle(Tab)</code> key to insert the selected
      member. Then, when you add the opening parenthesis, you’ll see information
      about arguments that the function requires.
    </p>
    <h2 id="build-helloworld.cpp">Build helloworld.cpp</h2>
    <p>
      Next, you’ll create a <code>tasks.json</code> file to tell VS Code how to
      build (compile) the program. This task will invoke the Clang C++ compiler
      to create an executable file from the source code.
    </p>
    <p>
      It’s important to have <code>helloworld.cpp</code> open in the editor
      because the next step uses the active file in the editor as context to
      create the build task in the next step.
    </p>
    <p>
      From the main menu, choose <strong>Terminal</strong> &gt;
      <strong>Configure Default Build Task</strong>. A dropdown will appear
      listing various predefined build tasks for the compilers that VS Code
      found on your machine. Choose
      <strong>C/C++ clang++ build active file</strong> to build the file that is
      currently displayed (active) in the editor.
    </p>
    <figure>
      <img src="images/clang-mac/default-build-task.png" alt="Build task" />
      <figcaption>Build task</figcaption>
    </figure>
    <p>
      This will create a <code>tasks.json</code> file in the
      <code>.vscode</code> folder and open it in the editor.
    </p>
    <p>Replace the contents of that file with the following:</p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="er">//</span> <span class="er">See</span> <span class="er">https</span><span class="fu">:</span><span class="er">//go.microsoft.com/fwlink/?LinkId=</span><span class="dv">733558</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="er">//</span> <span class="er">for</span> <span class="er">the</span> <span class="er">documentation</span> <span class="er">about</span> <span class="er">the</span> <span class="er">tasks.json</span> <span class="er">format</span></a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;2.0.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-6" title="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-7" title="7">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-8" title="8">            <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;clang++ build active file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-9" title="9">            <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;/usr/bin/clang++&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-10" title="10">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-11" title="11">                <span class="st">&quot;-std=c++17&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-12" title="12">                <span class="st">&quot;-stdlib=libc++&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-13" title="13">                <span class="st">&quot;-g&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-14" title="14">                <span class="st">&quot;${file}&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-15" title="15">                <span class="st">&quot;-o&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb5-16" title="16">                <span class="st">&quot;${fileDirname}/${fileBasenameNoExtension}&quot;</span></a>
<a class="sourceLine" id="cb5-17" title="17">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-18" title="18">            <span class="dt">&quot;options&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-19" title="19">                <span class="dt">&quot;cwd&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span></a>
<a class="sourceLine" id="cb5-20" title="20">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb5-21" title="21">            <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-22" title="22">                <span class="st">&quot;$gcc&quot;</span></a>
<a class="sourceLine" id="cb5-23" title="23">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-24" title="24">            <span class="dt">&quot;group&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb5-25" title="25">                <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="st">&quot;build&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-26" title="26">                <span class="dt">&quot;isDefault&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb5-27" title="27">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb5-28" title="28">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb5-29" title="29">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb5-30" title="30"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The JSON above differs from the default template JSON in the following
      ways:
    </p>
    <ul>
      <li>
        <code>"args"</code> is updated to compile with C++17 because our
        <code>helloworld.cpp</code> uses C++17 language features.
      </li>
      <li>
        Changes the current working directory directive (<code>"cwd"</code>) to
        the folder where <code>helloworld.cpp</code> is.
      </li>
    </ul>
    <p>
      The <code>command</code> setting specifies the program to run. In this
      case, <code>"clang++"</code> is the driver that causes the Clang compiler
      to expect C++ code and link against the C++ standard library.
    </p>
    <p>
      The <code>args</code> array specifies the command-line arguments that will
      be passed to clang++. These arguments must be specified in the order
      expected by the compiler.
    </p>
    <p>
      This task tells the C++ compiler to compile the active file
      (<code>${file}</code>), and create an output file (<code>-o</code> switch)
      in the current directory (<code>${fileDirname}</code>) with the same name
      as the active file (<code>${fileBasenameNoExtension}</code>), resulting in
      <code>helloworld</code> for our example.
    </p>
    <p>
      The <code>label</code> value is what you will see in the tasks list. Name
      this whatever you like.
    </p>
    <p>
      The <code>problemMatcher</code> value selects the output parser to use for
      finding errors and warnings in the compiler output. For clang++, you’ll
      get the best results if you use the <code>$gcc</code> problem matcher.
    </p>
    <p>
      The <code>"isDefault": true</code> value in the <code>group</code> object
      specifies that this task will be run when you press
      <code>kb(workbench.action.tasks.build)</code>. This property is for
      convenience only; if you set it to <code>false</code>, you can still build
      from the Terminal menu with <strong>Terminal &gt; Run Build Task</strong>.
    </p>
    <blockquote>
      <p>
        <strong>Note</strong>: You can learn more about
        <code>tasks.json</code> variables in the
        <a href="/docs/editor/variables-reference.md">variables reference</a>.
      </p>
    </blockquote>
    <h3 id="running-the-build">Running the build</h3>
    <ol type="1">
      <li>
        Go back to <code>helloworld.cpp</code>. Because we want to build
        <code>helloworld.cpp</code> it is important that this file be the one
        that is active in the editor for the next step.
      </li>
      <li>
        To run the build task that you defined in tasks.json, press
        <code>kb(workbench.action.tasks.build)</code> or from the
        <strong>Terminal</strong> main menu choose
        <strong>Run Build Task</strong>.
      </li>
      <li>
        <p>
          When the task starts, you should see the Integrated Terminal window
          appear below the code editor. After the task completes, the terminal
          shows output from the compiler that indicates whether the build
          succeeded or failed. For a successful Clang build, the output looks
          something like this:
        </p>
        <figure>
          <img
            src="images/clang-mac/clang-task-in-terminal.png"
            alt="Clang build output in terminal"
          />
          <figcaption>Clang build output in terminal</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Create a new terminal using the <strong>+</strong> button and you’ll
          have a new terminal with the <code>helloworld</code> folder as the
          working directory. Run <code>ls</code> and you should now see the
          executable <code>helloworld</code> along with the debugging file
          (<code>helloworld.dSYM</code>).
        </p>
        <figure>
          <img
            src="images/clang-mac/helloworld-in-terminal.png"
            alt="Hello World in macOS terminal"
          />
          <figcaption>Hello World in macOS terminal</figcaption>
        </figure>
      </li>
      <li>
        <p>
          You can run <code>helloworld</code> in the terminal by typing
          <code>./helloworld</code>.
        </p>
      </li>
    </ol>
    <h3 id="modifying-tasks.json">Modifying tasks.json</h3>
    <p>
      You can modify your <code>tasks.json</code> to build multiple C++ files by
      using an argument like <code>"${workspaceFolder}/*.cpp"</code> instead of
      <code>${file}</code>. This will build all <code>.cpp</code> files in your
      current folder. You can also modify the output filename by replacing
      <code>"${fileDirname}/${fileBasenameNoExtension}"</code> with a hard-coded
      filename (for example <code>"${workspaceFolder}/myProgram.out"</code>).
    </p>
    <h2 id="debug-helloworld.cpp">Debug helloworld.cpp</h2>
    <p>
      Next, you’ll create a <code>launch.json</code> file to configure VS Code
      to launch the LLDB debugger when you press
      <code>kb(workbench.action.debug.start)</code> to debug the program.
    </p>
    <p>
      From the main menu, choose <strong>Run</strong> &gt;
      <strong>Add Configuration…</strong> and then choose
      <strong>C++ (GDB/LLDB)</strong>.
    </p>
    <p>
      You’ll then see a dropdown for predefined debugging configurations. Choose
      <strong>clang++ build and debug active file</strong>.
    </p>
    <figure>
      <img
        src="images/clang-mac/build-and-debug-active-file.png"
        alt="C++ debug configuration dropdown"
      />
      <figcaption>C++ debug configuration dropdown</figcaption>
    </figure>
    <p>
      VS Code creates a <code>launch.json</code> file, opens it in the editor,
      and builds and runs ‘helloworld’. Your <code>launch.json</code> file will
      look something like this:
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="er">//</span> <span class="er">Use</span> <span class="er">IntelliSense</span> <span class="er">to</span> <span class="er">learn</span> <span class="er">about</span> <span class="er">possible</span> <span class="er">attributes.</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="er">//</span> <span class="er">Hover</span> <span class="er">to</span> <span class="er">view</span> <span class="er">descriptions</span> <span class="er">of</span> <span class="er">existing</span> <span class="er">attributes.</span></a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="er">//</span> <span class="er">For</span> <span class="er">more</span> <span class="er">information</span><span class="fu">,</span> <span class="er">visit</span><span class="fu">:</span> <span class="er">https://go.microsoft.com/fwlink/?linkid=</span><span class="dv">830387</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="st">&quot;version&quot;</span><span class="er">:</span> <span class="st">&quot;0.2.0&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb6-7" title="7">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-8" title="8">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;clang++ - Build and debug active file&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-9" title="9">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;cppdbg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-10" title="10">            <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-11" title="11">            <span class="dt">&quot;program&quot;</span><span class="fu">:</span> <span class="st">&quot;${fileDirname}/${fileBasenameNoExtension}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-12" title="12">            <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-13" title="13">            <span class="dt">&quot;stopAtEntry&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-14" title="14">            <span class="dt">&quot;cwd&quot;</span><span class="fu">:</span> <span class="st">&quot;${workspaceFolder}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-15" title="15">            <span class="dt">&quot;environment&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-16" title="16">            <span class="dt">&quot;externalConsole&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-17" title="17">            <span class="dt">&quot;MIMode&quot;</span><span class="fu">:</span> <span class="st">&quot;lldb&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-18" title="18">            <span class="dt">&quot;preLaunchTask&quot;</span><span class="fu">:</span> <span class="st">&quot;clang++ build active file&quot;</span></a>
<a class="sourceLine" id="cb6-19" title="19">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-20" title="20">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb6-21" title="21"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      The <code>program</code> setting specifies the program you want to debug.
      Here it is set to the active file folder <code>${fileDirname}</code> and
      active filename <code>${fileBasenameNoExtension}</code>, which if
      <code>helloworld.cpp</code> is the active file will be
      <code>helloworld</code>.
    </p>
    <p>
      By default, the C++ extension won’t add any breakpoints to your source
      code and the <code>stopAtEntry</code> value is set to <code>false</code>.
    </p>
    <p>
      Change the <code>stopAtEntry</code> value to <code>true</code> to cause
      the debugger to stop on the <code>main</code> method when you start
      debugging.
    </p>
    <p>
      Ensure that the <code>preLaunchTask</code> value matches the
      <code>label</code> of the build task in the <code>tasks.json</code> file.
    </p>
    <h3 id="start-a-debugging-session">Start a debugging session</h3>
    <ol type="1">
      <li>
        Go back to <code>helloworld.cpp</code> so that it is the active file in
        the editor. This is important because VS Code uses the active file to
        determine what you want to debug.
      </li>
      <li>
        Press <code>kb(workbench.action.debug.start)</code> or from the main
        menu choose <strong>Run &gt; Start Debugging</strong>. Before you start
        stepping through the source code, let’s take a moment to notice several
        changes in the user interface:
      </li>
    </ol>
    <ul>
      <li>
        The Integrated Terminal appears at the bottom of the source code editor.
        In the <strong>Debug Output</strong> tab, you see output that indicates
        the debugger is up and running.
      </li>
      <li>
        <p>
          The editor highlights the first statement in the
          <code>main</code> method. This is a breakpoint that the C++ extension
          automatically sets for you:
        </p>
        <figure>
          <img src="images/msvc/stopAtEntry.png" alt="Initial breakpoint" />
          <figcaption>Initial breakpoint</figcaption>
        </figure>
      </li>
      <li>
        <p>
          The Run view on the left shows debugging information. You’ll see an
          example later in the tutorial.
        </p>
      </li>
      <li>
        <p>
          At the top of the code editor, a debugging control panel appears. You
          can move this around the screen by grabbing the dots on the left side.
        </p>
      </li>
    </ul>
    <h2 id="step-through-the-code">Step through the code</h2>
    <p>Now you’re ready to start stepping through the code.</p>
    <ol type="1">
      <li>
        <p>
          Click or press the <strong>Step over</strong> icon in the debugging
          control panel so that the
          <code>for (const string&amp; word : msg)</code> statement is
          highlighted.
        </p>
        <figure>
          <img src="images/cpp/step-over-button.png" alt="Step over button" />
          <figcaption>Step over button</figcaption>
        </figure>
        <p>
          The <strong>Step Over</strong> command skips over all the internal
          function calls within the <code>vector</code> and
          <code>string</code> classes that are invoked when the
          <code>msg</code> variable is created and initialized. Notice the
          change in the <strong>Variables</strong> window. The contents of
          <code>msg</code> are visible because that statement has completed.
        </p>
      </li>
      <li>
        <p>
          Press <strong>Step over</strong> again to advance to the next
          statement (skipping over all the internal code that is executed to
          initialize the loop). Now, the <strong>Variables</strong> window shows
          information about the loop variable.
        </p>
      </li>
      <li>
        <p>
          Press <strong>Step over</strong> again to execute the
          <code>cout</code> statement. <strong>Note</strong> As of the March
          2019 version of the extension, no output will appear in the DEBUG
          CONSOLE until the last <code>cout</code> completes.
        </p>
      </li>
    </ol>
    <h2 id="set-a-watch">Set a watch</h2>
    <p>
      You might want to keep track of the value of a variable as your program
      executes. You can do this by setting a <strong>watch</strong> on the
      variable.
    </p>
    <ol type="1">
      <li>
        <p>
          Place the insertion point inside the loop. In the
          <strong>Watch</strong> window, click the plus sign and in the text
          box, type <code>word</code>, which is the name of the loop variable.
          Now view the <strong>Watch</strong> window as you step through the
          loop.
        </p>
        <figure>
          <img src="images/cpp/watch-window.png" alt="Watch window" />
          <figcaption>Watch window</figcaption>
        </figure>
      </li>
      <li>
        <p>
          To quickly view the value of any variable while execution is paused,
          you can hover over it with the mouse pointer.
        </p>
        <figure>
          <img src="images/cpp/mouse-hover.png" alt="Mouse hover" />
          <figcaption>Mouse hover</figcaption>
        </figure>
      </li>
    </ol>
    <h2 id="cc-configuration">C/C++ configuration</h2>
    <p>
      For more control over the C/C++ extension, create a
      <code>c_cpp_properties.json</code> file, which allows you to change
      settings such as the path to the compiler, include paths, which C++
      standard to compile against (such as C++17), and more.
    </p>
    <p>
      View the C/C++ configuration UI by running the command
      <strong>C/C++: Edit Configurations (UI)</strong> from the Command Palette
      (<code>kb(workbench.action.showCommands)</code>).
    </p>
    <figure>
      <img
        src="images/clang-mac/mac-command-palette-configurations.png"
        alt="Command Palette"
      />
      <figcaption>Command Palette</figcaption>
    </figure>
    <p>This opens the <strong>C/C++ Configurations</strong> page.</p>
    <figure>
      <img
        src="images/clang-mac/intellisense-configurations-mac-clang.png"
        alt="C++ configuration"
      />
      <figcaption>C++ configuration</figcaption>
    </figure>
    <p>
      Visual Studio Code places these settings in
      <code>.vscode/c_cpp_properties.json</code>. If you open that file
      directly, it should look something like this:
    </p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-3" title="3">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-4" title="4">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Mac&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-5" title="5">            <span class="dt">&quot;includePath&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-6" title="6">                <span class="st">&quot;${workspaceFolder}/**&quot;</span></a>
<a class="sourceLine" id="cb7-7" title="7">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-8" title="8">            <span class="dt">&quot;defines&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-9" title="9">            <span class="dt">&quot;macFrameworkPath&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-10" title="10">                <span class="st">&quot;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks&quot;</span></a>
<a class="sourceLine" id="cb7-11" title="11">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-12" title="12">            <span class="dt">&quot;compilerPath&quot;</span><span class="fu">:</span> <span class="st">&quot;/usr/bin/clang&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-13" title="13">            <span class="dt">&quot;cStandard&quot;</span><span class="fu">:</span> <span class="st">&quot;c11&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-14" title="14">            <span class="dt">&quot;cppStandard&quot;</span><span class="fu">:</span> <span class="st">&quot;c++17&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-15" title="15">            <span class="dt">&quot;intelliSenseMode&quot;</span><span class="fu">:</span> <span class="st">&quot;clang-x64&quot;</span></a>
<a class="sourceLine" id="cb7-16" title="16">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb7-17" title="17">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-18" title="18">    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      You only need to modify the <strong>Include path</strong> setting if your
      program includes header files that are not in your workspace or the
      standard library path.
    </p>
    <h3 id="compiler-path">Compiler path</h3>
    <p>
      <code>compilerPath</code> is an important configuration setting. The
      extension uses it to infer the path to the C++ standard library header
      files. When the extension knows where to find those files, it can provide
      useful features like smart completions and
      <strong>Go to Definition</strong> navigation.
    </p>
    <p>
      The C/C++ extension attempts to populate <code>compilerPath</code> with
      the default compiler location based on what it finds on your system. The
      <code>compilerPath</code> search order is:
    </p>
    <ul>
      <li>
        Your PATH for the names of known compilers. The order the compilers
        appear in the list depends on your PATH.
      </li>
      <li>
        Then hard-coded Xcode paths are searched, such as
        <code
          >/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/</code
        >
      </li>
    </ul>
    <h3 id="mac-framework-path">Mac framework path</h3>
    <p>
      On the C/C++ Configuration screen, scroll down and expand
      <strong>Advanced Settings</strong> and ensure that
      <strong>Mac framework path</strong> points to the system header files. For
      example:
      <code
        >/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks</code
      >
    </p>
    <h2 id="reusing-your-c-configuration">Reusing your C++ configuration</h2>
    <p>
      VS Code is now configured to use Clang on macOS. The configuration applies
      to the current workspace. To reuse the configuration, just copy the JSON
      files to a <code>.vscode</code> folder in a new project folder (workspace)
      and change the names of the source file(s) and executable as needed.
    </p>
    <h2 id="troubleshooting">Troubleshooting</h2>
    <h3 id="compiler-and-linking-errors">Compiler and linking errors</h3>
    <p>
      The most common cause of errors (such as <code>undefined _main</code>, or
      <code
        >attempting to link with file built for unknown-unsupported file
        format</code
      >, and so on) occurs when <code>helloworld.cpp</code> is not the active
      file when you start a build or start debugging. This is because the
      compiler is trying to compile something that isn’t source code, like your
      <code>launch.json</code>, <code>tasks.json</code>, or
      <code>c_cpp_properties.json</code> file.
    </p>
    <p>
      If you see build errors mentioning “C++11 extensions”, you may not have
      updated your <code>tasks.json</code> build task to use the clang++
      argument <code>--std=c++17</code>. By default, clang++ uses the C++98
      standard, which doesn’t support the initialization used in
      <code>helloworld.cpp</code>. Make sure to replace the entire contents of
      your <code>tasks.json</code> file with the code block provided in the
      <a href="#build-helloworldcpp">Build helloworld.cpp</a> section.
    </p>
    <h3 id="terminal-wont-launch-for-input">Terminal won’t launch For input</h3>
    <p>
      On macOS Catalina and onwards, you might have a issue where you are unable
      to enter input, even after setting <code>"externalConsole": true</code>. A
      terminal window opens, but it does not actually allow you type any input.
    </p>
    <p>
      The issue is currently tracked
      <a href="https://github.com/microsoft/vscode-cpptools/issues/5079"
        >#5079</a
      >.
    </p>
    <p>
      The workaround is to have VS Code launch the terminal once. You can do
      this by adding and running this task in your <code>tasks.json</code>:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">    <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Open Terminal&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;shell&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;osascript -e &#39;tell application </span><span class="ch">\&quot;</span><span class="st">Terminal</span><span class="ch">\&quot;\n</span><span class="st">do script </span><span class="ch">\&quot;</span><span class="st">echo hello</span><span class="ch">\&quot;\n</span><span class="st">end tell&#39;&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="ot">[]</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      You can run this specific task using <strong>Terminal</strong> &gt;
      <strong>Run Task…</strong> and select <strong>Open Terminal</strong>.
    </p>
    <p>
      Once you accept the permission request, then the external console should
      appear when you debug.
    </p>
    <h2 id="next-steps">Next steps</h2>
    <ul>
      <li>
        Explore the <a href="/docs/editor/codebasics.md">VS Code User Guide</a>.
      </li>
      <li>
        Review the
        <a href="/docs/languages/cpp.md">Overview of the C++ extension</a>
      </li>
      <li>
        Create a new workspace, copy your .json files to it, adjust the
        necessary settings for the new workspace path, program name, and so on,
        and start coding!
      </li>
    </ul>
  </body>
</html>
