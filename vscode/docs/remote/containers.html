<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>containers</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="developing-inside-a-container">Developing inside a Container</h1>
    <p>
      The <strong>Visual Studio Code Remote - Containers</strong> extension lets
      you use a <a href="https://docker.com">Docker container</a> as a
      full-featured development environment. It allows you to open any folder
      inside (or mounted into) a container and take advantage of Visual Studio
      Code’s full feature set. A
      <a href="#create-a-devcontainerjson-file">devcontainer.json file</a> in
      your project tells VS Code how to access (or create) a
      <strong>development container</strong> with a well-defined tool and
      runtime stack. This container can be used to run an application or to
      separate tools, libraries, or runtimes needed for working with a codebase.
    </p>
    <p>
      Workspace files are mounted from the local file system or copied or cloned
      into the container. Extensions are installed and run inside the container,
      where they have full access to the tools, platform, and file system. This
      means that you can seamlessly switch your entire development environment
      just by connecting to a different container.
    </p>
    <figure>
      <img
        src="images/containers/architecture-containers.png"
        alt="Container Architecture"
      />
      <figcaption>Container Architecture</figcaption>
    </figure>
    <p>
      This lets VS Code provide a
      <strong>local-quality development experience</strong> — including full
      IntelliSense (completions), code navigation, and debugging —
      <strong>regardless of where your tools (or code) are located</strong>.
    </p>
    <h2 id="getting-started">Getting started</h2>
    <p>
      <strong>Note</strong>: After reviewing this topic, you can get started
      with the introductory
      <a href="/docs/remote/containers-tutorial.md">Containers tutorial</a>.
    </p>
    <h3 id="system-requirements">System requirements</h3>
    <p><strong>Local:</strong></p>
    <ul>
      <li>
        <strong>Windows:</strong>
        <a href="https://www.docker.com/products/docker-desktop"
          >Docker Desktop</a
        >
        2.0+ on Windows 10 Pro/Enterprise. Windows 10 Home (2004+) requires
        Docker Desktop 2.3+ and the
        <a href="https://aka.ms/vscode-remote/containers/docker-wsl2"
          >WSL 2 back-end</a
        >. (Docker Toolbox is not supported. Windows container images are not
        supported.)
      </li>
      <li>
        <strong>macOS</strong>:
        <a href="https://www.docker.com/products/docker-desktop"
          >Docker Desktop</a
        >
        2.0+.
      </li>
      <li>
        <strong>Linux</strong>:
        <a href="https://docs.docker.com/install/#supported-platforms"
          >Docker CE/EE</a
        >
        18.06+ and
        <a href="https://docs.docker.com/compose/install">Docker Compose</a>
        1.21+. (The Ubuntu snap package is not supported.)
      </li>
    </ul>
    <p><strong>Containers</strong>:</p>
    <ul>
      <li>
        x86_64 / ARMv7l (AArch32) / ARMv8l (AArch64) Debian 9+, Ubuntu 16.04+,
        CentOS / RHEL 7+
      </li>
      <li>x86_64 Alpine Linux 3.9+</li>
    </ul>
    <p>
      Other <code>glibc</code> based Linux containers may work if they have
      <a href="/docs/remote/linux.md">needed Linux prerequisites</a>.
    </p>
    <h3 id="installation">Installation</h3>
    <p>To get started, follow these steps:</p>
    <ol type="1">
      <li>
        <p>
          Install and configure
          <a href="https://www.docker.com/get-started">Docker</a> for your
          operating system.
        </p>
        <p><strong>Windows / macOS</strong>:</p>
        <ol type="1">
          <li>
            <p>
              Install
              <a href="https://www.docker.com/products/docker-desktop"
                >Docker Desktop for Windows/Mac</a
              >.
            </p>
          </li>
          <li>
            <p>
              If you are using WSL 2 on Windows, to enable the
              <a href="https:/*/aka.ms/vscode-remote/containers/docker-wsl2"
                >Windows WSL 2 back-end</a
              >: Right-click on the Docker taskbar item and select
              <strong>Settings</strong>. Check
              <strong>Use the WSL 2 based engine</strong> and verify your
              distribution is enabled under
              <strong>Resources &gt; WSL Integration</strong>.
            </p>
          </li>
          <li>
            <p>
              Right-click on the Docker task bar item, select
              <strong>Settings</strong> and update
              <strong>Resources &gt; File Sharing</strong> with any locations
              your source code is kept. See
              <a href="/docs/remote/troubleshooting.md#container-tips"
                >tips and tricks</a
              >
              for troubleshooting. This option is not available if you have
              enabled the WSL 2 back-end in the step above.
            </p>
          </li>
        </ol>
        <p><strong>Linux</strong>:</p>
        <ol type="1">
          <li>
            <p>
              Follow the
              <a href="https://docs.docker.com/install/#supported-platforms"
                >official install instructions for Docker CE/EE for your
                distribution</a
              >. If you are using Docker Compose, follow the
              <a href="https://docs.docker.com/compose/install/"
                >Docker Compose directions</a
              >
              as well.
            </p>
          </li>
          <li>
            <p>
              Add your user to the <code>docker</code> group by using a terminal
              to run: <code>sudo usermod -aG docker $USER</code>
            </p>
          </li>
          <li>
            <p>Sign out and back in again so your changes take effect.</p>
          </li>
        </ol>
      </li>
      <li>
        <p>
          Install
          <a href="https://code.visualstudio.com/">Visual Studio Code</a> or
          <a href="https://code.visualstudio.com/insiders/"
            >Visual Studio Code Insiders</a
          >.
        </p>
      </li>
      <li>
        <p>
          Install the
          <a href="https://aka.ms/vscode-remote/download/extension"
            >Remote Development extension pack</a
          >.
        </p>
      </li>
    </ol>
    <h3 id="working-with-git">Working with Git?</h3>
    <p>Here are two tips to consider:</p>
    <ul>
      <li>
        If you are working with the same repository both locally in Windows and
        inside a container, be sure to set up consistent line endings. See
        <a
          href="/docs/remote/troubleshooting.md#resolving-git-line-ending-issues-in-containers-resulting-in-many-modified-files"
          >tips and tricks</a
        >
        for details.
      </li>
      <li>
        If you clone using a Git credential manager, your container should
        already have access to your credentials! If you use SSH keys, you can
        also opt in to sharing them. See
        <a href="#sharing-git-credentials-with-your-container"
          >Sharing Git credentials with your container</a
        >
        for details.
      </li>
    </ul>
    <h3 id="working-with-containers">Working with Containers</h3>
    <p>
      The Remote - Containers extension supports two primary operating models:
    </p>
    <ul>
      <li>
        You can use a container as your
        <a
          href="/docs/remote/create-dev-container.md#create-a-devcontainerjson-file"
          >full-time development environment</a
        >.
      </li>
      <li>
        You can
        <a href="/docs/remote/attach-container.md"
          >attach to a running container</a
        >
        to inspect it.
      </li>
    </ul>
    <h2 id="quick-start-try-a-development-container">
      Quick start: Try a development container
    </h2>
    <p>
      The easiest way to get started is to try one of the sample development
      containers. The
      <a href="/docs/remote/containers-tutorial.md">Containers tutorial</a> will
      walk you through setting up Docker and the Remote - Containers extension
      and let you select a sample:
    </p>
    <figure>
      <img
        src="images/containers/select-a-sample.png"
        alt="Select a sample from the list"
      />
      <figcaption>Select a sample from the list</figcaption>
    </figure>
    <h2 id="quick-start-open-an-existing-folder-in-a-container">
      Quick start: Open an existing folder in a container
    </h2>
    <p>
      This quick start covers how to set up a dev container for an existing
      project to use as your full-time development environment using existing
      source code on your filesystem. Follow these steps:
    </p>
    <ol type="1">
      <li>
        <p>
          Start VS Code, run the
          <strong>Remote-Containers: Open Folder in Container…</strong> command
          from the Command Palette (<code>kbstyle(F1)</code>) or quick actions
          Status bar item, and select the project folder you would like to set
          up the container for.
        </p>
        <blockquote>
          <p>
            <strong>Tip:</strong> If you want to edit the container’s contents
            or settings before opening the folder, you can run
            <strong
              >Remote-Containers: Add Development Container Configuration
              Files…</strong
            >
            instead.
          </p>
        </blockquote>
        <figure>
          <img
            src="images/common/remote-dev-status-bar.png"
            alt="Quick actions Status bar item"
          />
          <figcaption>Quick actions Status bar item</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Now pick a starting point for your dev container. You can either
          select a base <strong>dev container definition</strong> from a
          filterable list, or use an existing
          <a href="https://docs.docker.com/engine/reference/builder/"
            >Dockerfile</a
          >
          or
          <a
            href="https://docs.docker.com/compose/compose-file/#compose-file-structure-and-examples"
            >Docker Compose file</a
          >
          if one exists in the folder you selected.
        </p>
        <blockquote>
          <p>
            <strong>Note:</strong> When using Alpine Linux containers, some
            extensions may not work due to <code>glibc</code> dependencies in
            native code inside the extension.
          </p>
        </blockquote>
        <figure>
          <img
            src="images/containers/select-dev-container-def.png"
            alt="Select a node dev container definition"
          />
          <figcaption>Select a node dev container definition</figcaption>
        </figure>
        <p>
          The list will be automatically sorted based on the contents of the
          folder you open. Note the dev container definitions displayed come
          from the
          <a href="https://aka.ms/vscode-dev-containers"
            >vscode-dev-containers repository</a
          >. You can browse the <code>containers</code> folder of that
          repository to see the contents of each definition.
        </p>
      </li>
      <li>
        <p>
          After picking the starting point for your container, VS Code will add
          the dev container configuration files to your project
          (<code>.devcontainer/devcontainer.json</code>).
        </p>
      </li>
      <li>
        <p>
          The VS Code window will reload and start building the dev container. A
          progress notification provides status updates. You only have to build
          a dev container the first time you open it; opening the folder after
          the first successful build will be much quicker.
        </p>
        <figure>
          <img
            src="images/containers/dev-container-progress.png"
            alt="Dev Container Progress Notification"
          />
          <figcaption>Dev Container Progress Notification</figcaption>
        </figure>
      </li>
      <li>
        <p>
          After the build completes, VS Code will automatically connect to the
          container.
        </p>
      </li>
    </ol>
    <p>
      You can now interact with your project in VS Code just as you could when
      opening the project locally. From now on, when you open the project
      folder, VS Code will automatically pick up and reuse your dev container
      configuration.
    </p>
    <blockquote>
      <p>
        <strong>Tip:</strong> Want to use a remote Docker host? See the
        <a
          href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
          >Advanced Containers article</a
        >
        for details on setup.
      </p>
    </blockquote>
    <p>
      While using this approach to
      <a href="https://docs.docker.com/storage/bind-mounts/">bind mount</a> the
      local filesystem into a container is convenient, it does have some
      performance overhead on Windows and macOS. There are
      <a
        href="/docs/remote/containers-advanced.md#improving-container-disk-performance"
        >some techniques</a
      >
      that you can apply to improve disk performance, or you can
      <a
        href="#quick-start-open-a-git-repository-or-github-pr-in-an-isolated-container-volume"
        >open a repository in a container using a isolated container volume</a
      >
      instead.
    </p>
    <h3 id="open-a-wsl-2-folder-in-a-container-on-windows">
      Open a WSL 2 folder in a container on Windows
    </h3>
    <p>
      If you are using
      <a href="https://docs.microsoft.com/windows/wsl/wsl2-about"
        >Windows Subsystem for Linux v2 (WSL 2)</a
      >
      and have enabled
      <a href="https://aka.ms/vscode-remote/containers/docker-wsl2"
        >Docker Desktop’s WSL 2 back-end</a
      >, you can work with source code stored inside WSL!
    </p>
    <p>Once the WSL 2 engine is enabled, you can either:</p>
    <ul>
      <li>
        Use the
        <strong>Remote-Containers: Reopen Folder in Container</strong> command
        from a folder already opened using the
        <a href="https://aka.ms/vscode-remote/download/wsl">Remote - WSL</a>
        extension.
      </li>
      <li>
        Select
        <strong>Remote-Containers: Open Folder in Container…</strong> from the
        Command Palette (<code>kbstyle(F1)</code>) and choose a WSL folder using
        the local <code>\\wsl$</code> share (from the Windows side).
      </li>
    </ul>
    <p>
      The rest of the quick start applies as-is! You can learn more about the
      <a href="/docs/remote/wsl.md"
        >Remote - WSL extension in its documentation</a
      >.
    </p>
    <h3 id="open-an-existing-workspace-in-a-container">
      Open an existing workspace in a container
    </h3>
    <p>
      You can also follow a similar process to open a
      <a href="/docs/editor/multi-root-workspaces"
        >VS Code multi-root workspace</a
      >
      in a <strong>single container</strong> if the workspace only
      <strong
        >references relative paths to sub-folders of the folder the
        <code>.code-workspace</code> file is in (or the folder itself).</strong
      >
    </p>
    <p>You can either:</p>
    <ul>
      <li>
        Use the
        <strong>Remote-Containers: Open Workspace in Container…</strong>
        command.
      </li>
      <li>
        Use <strong>File &gt; Open Workspace…</strong> once you have opened a
        folder that contains a <code>.code-workspace</code> file in a container.
      </li>
    </ul>
    <p>
      Once connected, you may want to
      <strong>add the <code>.devcontainer</code> folder</strong> to the
      workspace so you can easily edit its contents if it is not already
      visible.
    </p>
    <p>
      Also note that, while you cannot use multiple containers for the same
      workspace in the same VS Code window, you can use
      <a
        href="/docs/remote/containers-advanced.md#connecting-to-multiple-containers-at-once"
        >multiple Docker Compose managed containers at once</a
      >
      from separate windows.
    </p>
    <h2
      id="quick-start-open-a-git-repository-or-github-pr-in-an-isolated-container-volume"
    >
      Quick start: Open a Git repository or GitHub PR in an isolated container
      volume
    </h2>
    <p>
      While you can
      <a href="#quick-start-open-an-existing-folder-in-a-container"
        >open a locally cloned repository in a container</a
      >, you may want to work with an isolated copy of a repository for a PR
      review or to investigate another branch without impacting your work.
    </p>
    <p>
      Repository Containers use isolated, local Docker volumes instead of
      binding to the local filesystem. In addition to not polluting your file
      tree, local volumes have the added benefit of improved performance on
      Windows and macOS. (See
      <a
        href="/docs/remote/containers-advanced.md#improving-container-disk-performance"
        >Advanced Configuration</a
      >
      for information on how to use these types of volumes in other scenarios.)
    </p>
    <p>
      For example, follow these steps to open one of the “try” repositories in a
      Repository Container:
    </p>
    <ol type="1">
      <li>
        <p>
          Start VS Code and run
          <strong
            >Remote-Containers: Clone Repository in Container Volume…</strong
          >
          from the Command Palette (<code>kbstyle(F1)</code>).
        </p>
      </li>
      <li>
        <p>
          Enter <code>microsoft/vscode-remote-try-node</code> (or one of the
          other “try” repositories), a Git URI, a GitHub branch URL, or a GitHub
          PR URL in the input box that appears and press
          <code>kbstyle(Enter)</code>.
        </p>
        <figure>
          <img
            src="images/containers/vscode-remote-try-node.png"
            alt="Input box with a repository name in it"
          />
          <figcaption>Input box with a repository name in it</figcaption>
        </figure>
        <blockquote>
          <p>
            <strong>Tip:</strong> If you choose a private repository, you may
            want to setup a credential manager or add your SSH keys to your SSH
            agent. See
            <a href="#sharing-git-credentials-with-your-container"
              >Sharing Git credentials with your container</a
            >.
          </p>
        </blockquote>
      </li>
      <li>
        <p>
          If your repository does not have a
          <code>.devcontainer/devcontainer.json</code> file in it, you’ll be
          asked to pick a starting point from a filterable list or an existing
          <a href="https://docs.docker.com/engine/reference/builder/"
            >Dockerfile</a
          >
          or
          <a
            href="https://docs.docker.com/compose/compose-file/#compose-file-structure-and-examples"
            >Docker Compose file</a
          >
          (if one exists).
        </p>
        <blockquote>
          <p>
            <strong>Note:</strong> When using Alpine Linux containers, some
            extensions may not work due to <code>glibc</code> dependencies in
            native code inside the extension.
          </p>
        </blockquote>
        <figure>
          <img
            src="images/containers/select-dev-container-def.png"
            alt="Select a node dev container definition"
          />
          <figcaption>Select a node dev container definition</figcaption>
        </figure>
        <p>
          The list will be automatically sorted based on the contents of the
          folder you open. Note the dev container definitions displayed come
          from the
          <a href="https://aka.ms/vscode-dev-containers"
            >vscode-dev-containers repository</a
          >. You can browse the <code>containers</code> folder of that
          repository to see the contents of each definition.
        </p>
      </li>
      <li>
        <p>
          The VS Code window (instance) will reload, clone the source code, and
          start building the dev container. A progress notification provides
          status updates.
        </p>
        <figure>
          <img
            src="images/containers/dev-container-progress.png"
            alt="Dev Container Progress Notification"
          />
          <figcaption>Dev Container Progress Notification</figcaption>
        </figure>
        <p>
          If you pasted in a GitHub pull request URL in step 2, the PR will be
          automatically checked out and the
          <a
            href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github"
            >GitHub Pull Requests</a
          >
          extension will be installed in the container. The extension provides
          additional PR related features like a PR explorer, interacting with PR
          comments inline, and status bar visibility.
        </p>
        <figure>
          <img
            src="images/containers/checkout-pr-status.png"
            alt="PR status in status bar"
          />
          <figcaption>PR status in status bar</figcaption>
        </figure>
      </li>
      <li>
        <p>
          After the build completes, VS Code will automatically connect to the
          container. You can now work with the repository source code in this
          independent environment as you would if you had cloned the code
          locally.
        </p>
      </li>
    </ol>
    <p>
      Note that if the container fails to come up due to something like a Docker
      build error, you can select
      <strong>Reopen in Recovery Container</strong> in the dialog that appears
      to go into a “recovery container” that allows you to edit your Dockerfile
      or other content. This opens the docker volume with the cloned repository
      in a minimal container and shows you the creation log. Once you are done
      fixing, use <strong>Reopen in Container</strong> to retry.
    </p>
    <blockquote>
      <p>
        <strong>Tip:</strong> Want to use a remote Docker host? See the
        <a
          href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
          >Advanced Containers article</a
        >
        for details on setup.
      </p>
    </blockquote>
    <h2 id="trusting-your-workspace">Trusting your Workspace</h2>
    <p>
      Visual Studio Code takes security seriously and wants to help you safely
      browse and edit code no matter the source or original authors. The
      <a href="/docs/editor/workspace-trust.md">Workspace Trust feature</a> lets
      you decide whether your project folders should allow or restrict automatic
      code execution.
    </p>
    <p>
      The Remote - Containers extension has adopted Workspace Trust. Depending
      on how you open and interact with your source code, you’ll be prompted to
      decide if you trust the code you’re editing or executing at different
      points.
    </p>
    <h3 id="reopen-folder-in-container">Reopen folder in container</h3>
    <p>
      <a href="#quick-start-open-an-existing-folder-in-a-container"
        >Setting up a dev container for an existing project</a
      >
      requires trusting the local (or WSL) folder. You will be asked to trust
      the local (or WSL) folder before the window reloads.
    </p>
    <p>There are a couple of exceptions to this flow:</p>
    <ol type="1">
      <li>When clicking on a recent entry.</li>
      <li>
        Using the <strong>Open Folder in Container</strong> command will ask for
        trust after the window reloads, if trust is not already given.
      </li>
    </ol>
    <h3 id="attach-to-existing-container">Attach to existing container</h3>
    <p>
      When
      <a href="/docs/remote/attach-container.md"
        >attaching to an existing container</a
      >, you will be asked to confirm that attaching means you trust the
      container. This is only confirmed once.
    </p>
    <figure>
      <img
        src="images/containers/attach-containers-trust.png"
        alt="Workspace trust prompt when attaching to container"
      />
      <figcaption>
        Workspace trust prompt when attaching to container
      </figcaption>
    </figure>
    <h3 id="clone-repository-in-a-volume">Clone repository in a volume</h3>
    <p>
      When
      <a
        href="#quick-start-open-a-git-repository-or-github-pr-in-an-isolated-container-volume"
        >cloning a repository in a container volume</a
      >, you are asked to confirm that cloning a repository means you trust the
      repository. This is only confirmed once.
    </p>
    <figure>
      <img
        src="images/containers/clone-containers-trust.png"
        alt="Workspace trust prompt when cloning in container volume"
      />
      <figcaption>
        Workspace trust prompt when cloning in container volume
      </figcaption>
    </figure>
    <h3 id="inspect-volume">Inspect volume</h3>
    <p>
      <a href="#inspecting-volumes">Inspecting a volume</a> starts in
      <a href="/docs/editor/workspace-trust.md#restricted-mode"
        >Restricted Mode</a
      >, and you can trust the folder inside the container.
    </p>
    <h3 id="docker-daemon-running-remotely">Docker daemon running remotely</h3>
    <p>
      This implies trusting
      <a
        href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
        >the machine the Docker daemon runs on</a
      >. There are no additional prompts to confirm (only those listed for the
      local/WSL case above).
    </p>
    <h2 id="create-a-devcontainer.json-file">
      Create a devcontainer.json file
    </h2>
    <p>
      VS Code’s container configuration is stored in a
      <a href="/docs/remote/devcontainerjson-reference.md">devcontainer.json</a>
      file. This file is similar to the <code>launch.json</code> file for
      debugging configurations, but is used for launching (or attaching to) your
      development container instead. You can also specify any extensions to
      install once the container is running or post-create commands to prepare
      the environment. The dev container configuration is either located under
      <code>.devcontainer/devcontainer.json</code> or stored as a
      <code>.devcontainer.json</code> file (note the dot-prefix) in the root of
      your project.
    </p>
    <p>
      You can use any image, Dockerfile, or set of Docker Compose files as a
      starting point. Here is a simple example that uses one of the pre-built
      <a href="https://hub.docker.com/_/microsoft-vscode-devcontainers"
        >VS Code Development Container images</a
      >:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="dt">&quot;image&quot;</span><span class="fu">:</span> <span class="st">&quot;mcr.microsoft.com/vscode/devcontainers/typescript-node:0-12&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">&quot;forwardPorts&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="dv">3000</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">&quot;extensions&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-5" title="5">        <span class="st">&quot;dbaeumer.vscode-eslint&quot;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Selecting the
      <strong
        >Remote-Containers: Add Development Container Configuration
        Files…</strong
      >
      command from the Command Palette (<code>kbstyle(F1)</code>) will add the
      needed files to your project as a starting point, which you can further
      customize for your needs. The command lets you pick a pre-defined
      container configuration from a list based on your folder’s contents, reuse
      an existing Dockerfile, or reuse an existing Docker Compose file.
    </p>
    <p>
      To learn more about creating <code>devcontainer.json</code> files, see
      <a href="/docs/remote/create-dev-container.md"
        >Create a Development Container</a
      >.
    </p>
    <h2 id="inspecting-volumes">Inspecting volumes</h2>
    <p>
      Occasionally you may run into a situation where you are using a Docker
      named volume that you want to inspect or make changes in. You can use VS
      Code to work with these contents without creating or modifying
      <code>devcontainer.json</code> file by selecting the
      <strong
        >Remote-Containers: Explore a Volume in a Development Container…</strong
      >
      from the Command Palette (<code>kbstyle(F1)</code>).
    </p>
    <p>
      You can also inspect your volumes in the Remote Explorer. Make sure you
      have Containers selected in the dropdown, then you’ll notice a
      <strong>Dev Volumes</strong> section. You can right-click on a volume to
      inspect its creation information, like when the volume was created, what
      repo was cloned into it, and the mountpoint. You can also explore it in a
      dev container.
    </p>
    <figure>
      <img
        src="images/containers/dev-volumes.png"
        alt="Right-click dev volumes in Remote Explorer"
      />
      <figcaption>Right-click dev volumes in Remote Explorer</figcaption>
    </figure>
    <p>
      If you have the
      <a
        href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker"
        >Docker extension</a
      >
      installed, you can right-click on a volume in the
      <strong>Volumes</strong> section of the
      <strong>Docker Explorer</strong> and select
      <strong>Explore in a Development Container</strong>.
    </p>
    <figure>
      <img
        src="images/containers/docker-explore-dev-container.png"
        alt="Explore in dev container in Docker context menu"
      />
      <figcaption>Explore in dev container in Docker context menu</figcaption>
    </figure>
    <h2 id="managing-extensions">Managing extensions</h2>
    <p>
      VS Code runs extensions in one of two places: locally on the UI / client
      side, or in the container. While extensions that affect the VS Code UI,
      like themes and snippets, are installed locally, most extensions will
      reside inside a particular container. This allows you to install only the
      extensions you need for a given task in a container and seamlessly switch
      your entire tool-chain just by connecting to a new container.
    </p>
    <p>
      If you install an extension from the Extensions view, it will
      automatically be installed in the correct location. You can tell where an
      extension is installed based on the category grouping. There will be a
      <strong>Local - Installed</strong> category and also one for your
      container.
    </p>
    <figure>
      <img
        src="images/containers/containers-installed-remote-indicator.png"
        alt="Workspace Extension Category"
      />
      <figcaption>Workspace Extension Category</figcaption>
    </figure>
    <figure>
      <img
        src="images/common/local-installed-extensions.png"
        alt="Local Extension Category"
      />
      <figcaption>Local Extension Category</figcaption>
    </figure>
    <blockquote>
      <p>
        <strong>Note:</strong> If you are an extension author and your extension
        is not working properly or installs in the wrong place, see
        <a href="/api/advanced-topics/remote-extensions.md"
          >Supporting Remote Development</a
        >
        for details.
      </p>
    </blockquote>
    <p>
      Local extensions that actually need to run remotely will appear
      <strong>Disabled</strong> in the
      <strong>Local - Installed</strong> category. Select
      <strong>Install</strong> to install an extension on your remote host.
    </p>
    <figure>
      <img
        src="images/containers/containers-disabled-extensions.png"
        alt="Disabled Extensions w/Install Button"
      />
      <figcaption>Disabled Extensions w/Install Button</figcaption>
    </figure>
    <p>
      You can also install all locally installed extensions inside the Dev
      Container by going to the Extensions view and selecting
      <strong>Install Local Extensions in Dev Container: [Name]</strong> using
      the cloud button at the right of the
      <strong>Local - Installed</strong> title bar. This will display a dropdown
      where you can select which locally installed extensions to install in your
      container.
    </p>
    <figure>
      <img
        src="images/containers/install-all-extn-containers.png"
        alt="Install all extensions"
      />
      <figcaption>Install all extensions</figcaption>
    </figure>
    <p>
      However, some extensions may require you to
      <a href="/docs/remote/create-dev-container.md#install-additional-software"
        >install additional software</a
      >
      in the container. Consult extension documentation for details if you
      encounter issues.
    </p>
    <h3 id="adding-an-extension-to-devcontainer.json">
      Adding an extension to devcontainer.json
    </h3>
    <p>
      While you can edit your
      <a
        href="/docs/remote/create-dev-container.md#create-a-devcontainerjson-file"
        >devcontainer.json</a
      >
      file by hand to add a list of extension IDs, you can also right-click on
      any extension in the Extensions view and select
      <strong>Add to devcontainer.json</strong>.
    </p>
    <figure>
      <img
        src="images/containers/containers-addto-devcontainer.png"
        alt="Add to devcontainer.json menu"
      />
      <figcaption>Add to devcontainer.json menu</figcaption>
    </figure>
    <h3 id="always-installed-extensions">“Always installed” extensions</h3>
    <p>
      If there are extensions that you would like always installed in any
      container, you can update the
      <code>remote.containers.defaultExtensions</code> User
      <a href="/docs/getstarted/settings.md">setting</a>. For example, if you
      wanted to install the
      <a
        href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens"
        >GitLens</a
      >
      and
      <a
        href="https://marketplace.visualstudio.com/items?itemName=mutantdino.resourcemonitor"
        >Resource Monitor</a
      >
      extensions, you would specify their extension IDs as follows:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb2-1" title="1"><span class="er">&quot;remote.containers.defaultExtensions&quot;:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="st">&quot;eamodio.gitlens&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="st">&quot;mutantdino.resourcemonitor&quot;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="ot">]</span></a></code></pre>
    </div>
    <h3 id="advanced-forcing-an-extension-to-run-locally-or-remotely">
      Advanced: Forcing an extension to run locally or remotely
    </h3>
    <p>
      Extensions are typically designed and tested to either run locally or
      remotely, not both. However, if an extension supports it, you can force it
      to run in a particular location in your <code>settings.json</code> file.
    </p>
    <p>
      For example, the setting below will force the Docker extension to run
      locally and Debugger for Chrome extension to run remotely instead of their
      defaults:
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="er">&quot;remote.extensionKind&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="dt">&quot;ms-azuretools.vscode-docker&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;ui&quot;</span> <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="dt">&quot;msjsdiag.debugger-for-chrome&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;workspace&quot;</span> <span class="ot">]</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      A value of <code>"ui"</code> instead of <code>"workspace"</code> will
      force the extension to run on the local UI/client side instead. Typically,
      this should only be used for testing unless otherwise noted in the
      extension’s documentation since it <strong>can break extensions</strong>.
      See the article on
      <a href="/api/advanced-topics/remote-extensions.md"
        >Supporting Remote Development</a
      >
      for details.
    </p>
    <h2 id="forwarding-or-publishing-a-port">
      Forwarding or publishing a port
    </h2>
    <p>
      Containers are separate environments, so if you want to access a server,
      service, or other resource inside your container, you will need to either
      “forward” or “<a href="https://stackoverflow.com/a/22150099">publish</a>”
      the port to your host. You can either configure your container to always
      expose these ports or just forward them temporarily.
    </p>
    <h3 id="always-forwarding-a-port">Always forwarding a port</h3>
    <p>
      You can specify a list of ports you <strong>always</strong> want to
      forward when attaching or opening a folder in container by using the
      <code>forwardPorts</code> property in <code>devcontainer.json</code>.
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb4-1" title="1"><span class="er">&quot;forwardPorts&quot;:</span> <span class="ot">[</span><span class="dv">3000</span><span class="ot">,</span> <span class="dv">3001</span><span class="ot">]</span></a></code></pre>
    </div>
    <p>
      Simply reload / reopen the window and the setting will be applied when VS
      Code connects to the container.
    </p>
    <h3 id="temporarily-forwarding-a-port">Temporarily forwarding a port</h3>
    <p>
      If you need to access a port that you didn’t add to
      <code>devcontainer.json</code> or publish in your Docker Compose file, you
      can <strong>temporarily forward</strong> a new port for the duration of
      the session by running the <strong>Forward a Port</strong> command from
      the Command Palette (<code>kbstyle(F1)</code>).
    </p>
    <figure>
      <img
        src="images/containers/forward-port-containers.png"
        alt="Forward port input"
      />
      <figcaption>Forward port input</figcaption>
    </figure>
    <p>
      After selecting a port, a notification will tell you the localhost port
      you should use to access the port in the container. For example, if you
      forwarded an HTTP server listening on port 3000, the notification may tell
      you that it was mapped to port 4123 on localhost. You can then connect to
      this remote HTTP server using <code>http://localhost:4123</code>.
    </p>
    <p>
      This same information is available in the
      <strong>Forwarded Ports</strong> section of the Remote Explorer if you
      need to access it later.
    </p>
    <p>
      If you would like VS Code to remember any ports you have forwarded, check
      <strong>Remote: Restore Forwarded Ports</strong> in the Settings editor
      (<code>kb(workbench.action.openSettings)</code>) or set
      <code>"remote.restoreForwardedPorts": true</code> in
      <code>settings.json</code>.
    </p>
    <figure>
      <img
        src="images/common/restore-forwarded-ports.png"
        alt="Restore forwarded ports setting"
      />
      <figcaption>Restore forwarded ports setting</figcaption>
    </figure>
    <h3 id="publishing-a-port">Publishing a port</h3>
    <p>
      Docker has the concept of “publishing” ports when the container is
      created. Published ports behave very much like ports you make available to
      your local network. If your application only accepts calls from
      <code>localhost</code>, it will reject connections from published ports
      just as your local machine would for network calls. Forwarded ports, on
      the other hand, actually look like <code>localhost</code> to the
      application. Each can be useful in different situations.
    </p>
    <p>To publish a port, you can:</p>
    <ol type="1">
      <li>
        <p>
          <strong>Use the appPort property:</strong> If you reference an image
          or Dockerfile in <code>devcontainer.json</code>, you can use the
          <code>appPort</code> property to publish ports to the host.
        </p>
        <div class="sourceCode" id="cb5">
          <pre
            class="sourceCode json"
          ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="er">&quot;appPort&quot;:</span> <span class="ot">[</span> <span class="dv">3000</span><span class="ot">,</span> <span class="st">&quot;8921:5000&quot;</span> <span class="ot">]</span></a></code></pre>
        </div>
      </li>
      <li>
        <p>
          <strong>Use the Docker Compose ports mapping:</strong> The
          <a href="https://docs.docker.com/compose/compose-file#ports"
            >ports mapping</a
          >
          can easily be added your <code>docker-compose.yml</code> file to
          publish additional ports.
        </p>
        <div class="sourceCode" id="cb6">
          <pre
            class="sourceCode yaml"
          ><code class="sourceCode yaml"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">ports:</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">-</span> <span class="st">&quot;3000&quot;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">-</span> <span class="st">&quot;8921:5000&quot;</span></a></code></pre>
        </div>
      </li>
    </ol>
    <p>
      In each case, you’ll need to rebuild your container for the setting to
      take effect. You can do this by running the
      <strong>Remote-Containers: Rebuild Container</strong> command in the
      Command Palette (<code>kbstyle(F1)</code>) when you are connected to the
      container.
    </p>
    <h2 id="opening-a-terminal">Opening a terminal</h2>
    <p>
      Opening a terminal in a container from VS Code is simple. Once you’ve
      opened a folder in a container, <strong>any terminal window</strong> you
      open in VS Code (<strong>Terminal &gt; New Terminal</strong>) will
      automatically run in the container rather than locally.
    </p>
    <p>
      You can also use the <code>code</code> command line from this same
      terminal window to perform a number of operations such as opening a new
      file or folder in the container. Type <code>code --help</code> to learn
      what options are available from the command line.
    </p>
    <figure>
      <img
        src="images/containers/code-command-in-terminal.png"
        alt="Using the code CLI"
      />
      <figcaption>Using the code CLI</figcaption>
    </figure>
    <h2 id="debugging-in-a-container">Debugging in a container</h2>
    <p>
      Once you’ve opened a folder in a container, you can use VS Code’s debugger
      in the same way you would when running the application locally. For
      example, if you select a launch configuration in
      <code>launch.json</code> and start debugging
      (<code>kb(workbench.action.debug.start)</code>), the application will
      start on the remote host and attach the debugger to it.
    </p>
    <p>
      See the <a href="/docs/editor/debugging.md">debugging</a> documentation
      for details on configuring VS Code’s debugging features in
      <code>.vscode/launch.json</code>.
    </p>
    <h2 id="container-specific-settings">Container specific settings</h2>
    <p>
      VS Code’s local user settings are also reused when you are connected to a
      dev container. While this keeps your user experience consistent, you may
      want to vary some of these settings between your local machine and each
      container. Fortunately, once you have connected to a container, you can
      also set container-specific settings by running the
      <strong>Preferences: Open Remote Settings</strong> command from the
      Command Palette (<code>kbstyle(F1)</code>) or by selecting the
      <strong>Remote</strong> tab in the Settings editor. These will override
      any local settings you have in place whenever you connect to the
      container.
    </p>
    <figure>
      <img
        src="images/containers/container-settings.png"
        alt="Container specific settings tab"
      />
      <figcaption>Container specific settings tab</figcaption>
    </figure>
    <h3 id="default-container-specific-settings">
      Default container specific settings
    </h3>
    <p>
      You can include defaults for container specific settings in
      <code>devcontainer.json</code> using the <code>settings</code> property.
      These values will be automatically placed in the container specific
      settings file inside the container once it is created.
    </p>
    <p>
      For example, adding this to
      <code>.devcontainer/devcontainer.json</code> will set the Java home path:
    </p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb7-1" title="1"><span class="er">&quot;settings&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="dt">&quot;java.home&quot;</span><span class="fu">:</span> <span class="st">&quot;/docker-java-home&quot;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      Since this just establishes the default, you are still able to change the
      settings as needed once the container is created.
    </p>
    <h2 id="sharing-git-credentials-with-your-container">
      Sharing Git credentials with your container
    </h2>
    <p>
      The Remote - Containers extension provides out of box support for using
      local Git credentials from inside a container. In this section, we’ll walk
      through the two supported options.
    </p>
    <p>
      If you do not have your user name or email address set up locally, you may
      be prompted to do so. You can do this on your
      <strong>local</strong> machine by running the following commands:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">git</span> config --global user.name <span class="st">&quot;Your Name&quot;</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="fu">git</span> config --global user.email <span class="st">&quot;your.email@address&quot;</span></a></code></pre>
    </div>
    <p>
      The extension will automatically copy your local
      <code>.gitconfig</code> file into the container on startup so you should
      not need to do this in the container itself.
    </p>
    <h3 id="using-a-credential-helper">Using a credential helper</h3>
    <p>
      If you use HTTPS to clone your repositories and
      <strong
        >have a
        <a
          href="https://help.github.com/articles/caching-your-github-password-in-git"
          >credential helper configured</a
        >
        in your local OS, no further setup is required.</strong
      >
      Credentials you’ve entered locally will be reused in the container and
      vice versa.
    </p>
    <h3 id="using-ssh-keys">Using SSH keys</h3>
    <p>
      There are some cases when you may be cloning your repository using SSH
      keys instead of a credential helper. To enable this scenario, the
      extension will automatically forward your
      <strong
        >local <a href="https://www.ssh.com/ssh/agent">SSH agent</a> if one is
        running</strong
      >.
    </p>
    <p>
      You can add your local SSH keys to the agent if it is running by using the
      <code>ssh-add</code> command. For example, run this from a terminal or
      PowerShell:
    </p>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">ssh-add</span> <span class="va">$HOME</span>/.ssh/github_rsa</a></code></pre>
    </div>
    <p>
      On Windows and Linux, you may get an error because the agent is not
      running (macOS typically has it running by default). Follow these steps to
      resolve the problem:
    </p>
    <p><strong>Windows</strong>:</p>
    <p>
      Start a <strong>local Administrator PowerShell</strong> and run the
      following commands:
    </p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode powershell"
      ><code class="sourceCode powershell"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Make sure you&#39;re running as an Administrator</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="fu">Set-Service</span> ssh-agent -StartupType Automatic</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="fu">Start-Service</span> ssh-agent</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="fu">Get-Service</span> ssh-agent</a></code></pre>
    </div>
    <p><strong>Linux:</strong></p>
    <p>
      First, start the SSH Agent in the background by running the following in a
      terminal:
    </p>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="bu">eval</span> <span class="st">&quot;</span><span class="va">$(</span><span class="fu">ssh-agent</span> -s<span class="va">)</span><span class="st">&quot;</span></a></code></pre>
    </div>
    <p>
      Then add these lines to your <code>~/.bash_profile</code> or
      <code>~/.zprofile</code> (for Zsh) so it starts on login:
    </p>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-z</span> <span class="st">&quot;</span><span class="va">$SSH_AUTH_SOCK</span><span class="st">&quot;</span><span class="bu"> ]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb12-2" title="2">   <span class="co"># Check for a currently running instance of the agent</span></a>
<a class="sourceLine" id="cb12-3" title="3">   <span class="va">RUNNING_AGENT=</span><span class="st">&quot;</span><span class="kw">`</span><span class="fu">ps</span> -ax <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;ssh-agent -s&#39;</span> <span class="kw">|</span> <span class="fu">grep</span> -v grep <span class="kw">|</span> <span class="fu">wc</span> -l <span class="kw">|</span> <span class="fu">tr</span> -d <span class="st">&#39;[:space:]&#39;</span><span class="kw">`</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb12-4" title="4">   <span class="kw">if</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">$RUNNING_AGENT</span><span class="st">&quot;</span> <span class="ot">=</span> <span class="st">&quot;0&quot;</span><span class="bu"> ]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb12-5" title="5">        <span class="co"># Launch a new instance of the agent</span></a>
<a class="sourceLine" id="cb12-6" title="6">        <span class="fu">ssh-agent</span> -s <span class="op">&amp;&gt;</span> <span class="va">$HOME</span>/.ssh/ssh-agent</a>
<a class="sourceLine" id="cb12-7" title="7">   <span class="kw">fi</span></a>
<a class="sourceLine" id="cb12-8" title="8">   <span class="bu">eval</span> <span class="kw">`</span><span class="fu">cat</span> <span class="va">$HOME</span>/.ssh/ssh-agent<span class="kw">`</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="kw">fi</span></a></code></pre>
    </div>
    <h3 id="sharing-gpg-keys">Sharing GPG Keys</h3>
    <p>
      If want to <a href="https://www.gnupg.org/">GPG</a> sign your commits, you
      can share your local keys with your container as well. You can find out
      about signing using a GPG key in
      <a
        href="https://help.github.com/github/authenticating-to-github/managing-commit-signature-verification"
        >GitHub’s documentation</a
      >.
    </p>
    <p>
      If you do not have GPG set up, you can configure it for your platform:
    </p>
    <ul>
      <li>
        On <strong>Windows</strong>, you can install
        <a href="https://www.gpg4win.org/">Gpg4win</a>.
      </li>
      <li>
        On <strong>macOS</strong>, you can install
        <a href="https://gpgtools.org/">GPG Tools</a>.
      </li>
      <li>
        On <strong>Linux</strong>, <strong>locally</strong> install the
        <code>gnupg2</code> package using your system’s package manger.
      </li>
      <li>
        On <strong>WSL</strong>:
        <ul>
          <li>
            Install <a href="https://www.gpg4win.org/">Gpg4win</a> on the
            Windows side.
          </li>
          <li>
            Install <a href="https://linux.die.net/man/1/socat">socat</a> in
            your WSL distro. <code>sudo apt install socat</code>
          </li>
          <li>
            Install <code>gpg</code> in your WSL distro.
            <code>sudo apt install gpg</code>
          </li>
          <li>
            Register a <code>pinentry</code> GUI in your WSL distro.
            <code
              >echo pinentry-program /mnt/c/Program\ Files\
              \(x86\)/Gpg4win/bin/pinentry.exe &gt;
              ~/.gnupg/gpg-agent.conf</code
            >
          </li>
          <li>
            Reload the <code>gpg</code> agent in WSL.
            <code>gpg-connect-agent reloadagent /bye</code>
          </li>
        </ul>
      </li>
    </ul>
    <p>
      Next, install <code>gnupg2</code> in your container by updating your
      Dockerfile.
    </p>
    <p>For example:</p>
    <div class="sourceCode" id="cb13">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="ex">RUN</span> apt-get update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install gnupg2 -y</a></code></pre>
    </div>
    <p>
      Or if running as a
      <a
        href="/docs/remote/containers-advanced.md#adding-a-nonroot-user-to-your-dev-container"
        >non-root user</a
      >:
    </p>
    <div class="sourceCode" id="cb14">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="ex">RUN</span> sudo apt-get update <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt-get install gnupg2 -y</a></code></pre>
    </div>
    <p>
      The next time the container starts, your GPG keys should be accessible
      inside the container as well.
    </p>
    <blockquote>
      <p>
        <strong>Note:</strong> If you used <code>gpg</code> previously in the
        container, you may need to run
        <strong>Remote-Containers: Rebuild Container</strong> for the update to
        take effect.
      </p>
    </blockquote>
    <h2 id="managing-containers">Managing containers</h2>
    <p>
      By default, the Remote - Containers extension automatically starts the
      containers mentioned in the <code>devcontainer.json</code> when you open
      the folder. When you close VS Code, the extension automatically shuts down
      the containers you’ve connected to. You can change this behavior by adding
      <code>"shutdownAction": "none"</code> to <code>devcontainer.json</code>.
    </p>
    <p>
      While you can use the command line to manage your containers, you can also
      use the <strong>Remote Explorer</strong>. To stop a container, select
      Containers from the dropdown (if present), right-click on a running
      container, and select <strong>Stop Container</strong>. You can also start
      exited containers, remove containers, and remove recent folders. From the
      Details view, you can forward ports and open already forwarded ports in
      the browser.
    </p>
    <figure>
      <img
        src="images/containers/containers-explorer.png"
        alt="Containers Explorer screenshot"
      />
      <figcaption>Containers Explorer screenshot</figcaption>
    </figure>
    <p>
      If you want to clean out images or mass-delete containers, see
      <a
        href="/docs/remote/troubleshooting.md#cleaning-out-unused-containers-and-images"
        >Cleaning out unused containers and images</a
      >
      for different options.
    </p>
    <h2 id="personalizing-with-dotfile-repositories">
      Personalizing with dotfile repositories
    </h2>
    <p>
      Dotfiles are files whose filename begins with a dot (<code>.</code>) and
      typically contain configuration information for various applications.
      Since development containers can cover a wide range of application types,
      it can be useful to store these files somewhere so that you can easily
      copy them into a container once it is up and running.
    </p>
    <p>
      A common way to do this is to store these dotfiles in a GitHub repository
      and then use a utility to clone and apply them. The Remote - Containers
      extension has built-in support for using these with your own containers.
      If you are new to the idea, take a look at the different
      <a href="https://dotfiles.github.io/">dotfiles bootstrap repositories</a>
      that exist.
    </p>
    <p>
      To use it, add your dotfiles GitHub repository to VS Code’s User Settings
      (<code>kb(workbench.action.openSettings)</code>) as follows:
    </p>
    <figure>
      <img src="images/containers/dotfiles.png" alt="Settings for dotfiles" />
      <figcaption>Settings for dotfiles</figcaption>
    </figure>
    <p>Or in <code>settings.json</code>:</p>
    <div class="sourceCode" id="cb15">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb15-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">    <span class="dt">&quot;dotfiles.repository&quot;</span><span class="fu">:</span> <span class="st">&quot;your-github-id/your-dotfiles-repo&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="dt">&quot;dotfiles.targetPath&quot;</span><span class="fu">:</span> <span class="st">&quot;~/dotfiles&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="dt">&quot;dotfiles.installCommand&quot;</span><span class="fu">:</span> <span class="st">&quot;~/dotfiles/install.sh&quot;</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="fu">}</span></a></code></pre>
    </div>
    <p>
      From this point forward, the dotfiles repository will be used whenever a
      container is created.
    </p>
    <h2 id="advanced-container-configuration">
      Advanced container configuration
    </h2>
    <p>
      See the
      <a href="/docs/remote/containers-advanced.md"
        >Advanced Container Configuration</a
      >
      article for information on the following topics:
    </p>
    <ul>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#adding-environment-variables"
          >Adding environment variables</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#adding-another-local-file-mount"
          >Adding another local file mount</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#changing-the-default-source-code-mount"
          >Changing or removing the default source code mount</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#improving-container-disk-performance"
          >Improving container disk performance</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#adding-a-nonroot-user-to-your-dev-container"
          >Adding a non-root user to your dev container</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#avoiding-extension-reinstalls-on-container-rebuild"
          >Avoiding extension reinstalls on container rebuild</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#setting-the-project-name-for-docker-compose"
          >Setting the project name for Docker Compose</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#using-docker-or-kubernetes-from-a-container"
          >Using Docker or Kubernetes from inside a container</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#connecting-to-multiple-containers-at-once"
          >Connecting to multiple containers at once</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
          >Developing inside a container on a remote Docker Machine or SSH
          host</a
        >
      </li>
      <li>
        <a
          href="/docs/remote/containers-advanced.md#reducing-dockerfile-build-warnings"
          >Reducing Dockerfile build warnings</a
        >
      </li>
    </ul>
    <h2 id="devcontainer.json-reference">devcontainer.json reference</h2>
    <p>
      There is a full
      <a href="/docs/remote/devcontainerjson-reference.md"
        >devcontainer.json reference</a
      >, where you can review the file schema to help you customize your
      development containers and control how you attach to running containers.
    </p>
    <h2 id="known-limitations">Known limitations</h2>
    <h3 id="remote---containers-limitations">
      Remote - Containers limitations
    </h3>
    <ul>
      <li>Windows container images are <strong>not</strong> yet supported.</li>
      <li>
        Using a remote Docker Host is possible, but requires
        <a
          href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
          >additional setup steps</a
        >.
      </li>
      <li>
        All roots/folders in a multi-root workspace will be opened in the same
        container, regardless of whether there are configuration files at lower
        levels.
      </li>
      <li>
        The unofficial Ubuntu Docker <strong>snap</strong> package for Linux is
        <strong>not</strong> supported. Follow the
        <a href="https://docs.docker.com/install/#supported-platforms"
          >official Docker install instructions for your distribution</a
        >.
      </li>
      <li>Docker Toolbox on Windows is not supported.</li>
      <li>
        If you clone a Git repository using SSH and your SSH key has a
        passphrase, VS Code’s pull and sync features may hang when running
        remotely. Either use an SSH key without a passphrase, clone using HTTPS,
        or run <code>git push</code> from the command line to work around the
        issue.
      </li>
      <li>
        Local proxy settings are not reused inside the container, which can
        prevent extensions from working unless the appropriate proxy information
        is configured (for example global <code>HTTP_PROXY</code> or
        <code>HTTPS_PROXY</code> environment variables with the appropriate
        proxy information).
      </li>
    </ul>
    <p>
      See
      <a href="https://aka.ms/vscode-remote/containers/issues"
        >here for a list of active issues</a
      >
      related to Containers.
    </p>
    <h3 id="docker-limitations">Docker limitations</h3>
    <ul>
      <li>
        First-time installs of Docker Desktop for Windows when not using the WSL
        2 engine will require an additional “sharing” step to give your
        container access to local source code. However, this step may not work
        with certain AAD (email-based) identities. See
        <a
          href="/docs/remote/troubleshooting.md#docker-desktop-for-windows-tips"
          >Docker Desktop for Windows tips</a
        >
        and
        <a
          href="/docs/remote/troubleshooting.md#enabling-file-sharing-in-docker-desktop"
          >Enabling file sharing in Docker Desktop</a
        >
        for details and workarounds.
      </li>
      <li>
        You may see errors if you sign in to Docker with your email address
        instead of your Docker ID. This is a known issue and can be resolved by
        signing in with your Docker ID instead. See Docker
        <a
          href="https://github.com/docker/hub-feedback/issues/935#issuecomment-300361781"
          >issue #935</a
        >
        for details.
      </li>
      <li>
        If you see high CPU spikes for <code>com.docker.hyperkit</code> on
        macOS, this may be due to a
        <a href="https://github.com/docker/for-mac/issues/1759"
          >known issue with Docker for Mac</a
        >. See the Docker issue for details.
      </li>
    </ul>
    <p>
      See the Docker troubleshooting guide for
      <a href="https://docs.docker.com/docker-for-windows/troubleshoot"
        >Windows</a
      >
      or <a href="https://docs.docker.com/docker-for-mac/troubleshoot">Mac</a>,
      consult
      <a href="https://success.docker.com/article/best-support-resources"
        >Docker Support Resources</a
      >
      for more information.
    </p>
    <h3 id="docker-extension-limitations">Docker Extension limitations</h3>
    <p>
      While the Docker extension can run both remotely and locally, if it is
      already installed locally, you will be unable to install in a container
      without first uninstalling it locally. We will address this problem in a
      future VS Code release.
    </p>
    <h3 id="extension-limitations">Extension limitations</h3>
    <p>
      Many extensions will work inside dev containers without modification.
      However, in some cases, certain features may require changes. If you run
      into an extension issue, see
      <a href="/docs/remote/troubleshooting.md#extension-tips"
        >here for a summary of common problems and solutions</a
      >
      that you can mention to the extension author when reporting the issue.
    </p>
    <p>
      In addition, while Alpine support is available, some extensions installed
      in the container may not work due to <code>glibc</code> dependencies in
      native code inside the extension. See the
      <a href="/docs/remote/linux.md">Remote Development with Linux</a> article
      for details.
    </p>
    <h2 id="common-questions">Common questions</h2>
    <h3
      id="i-am-seeing-errors-when-trying-to-mount-the-local-filesystem-into-a-container"
    >
      I am seeing errors when trying to mount the local filesystem into a
      container
    </h3>
    <p>
      Right-click on the Docker task bar item. On Windows, select the
      <strong>Settings</strong> menu item then
      <strong>Resources &gt; File Sharing</strong> and check the drive(s) where
      your source code is located. On macOS, select the
      <strong>Preferences</strong> menu item then
      <strong>Resources &gt; File Sharing</strong> and make sure the folder
      containing your source code is under a file path specified in the list.
    </p>
    <p>
      See
      <a href="/docs/remote/troubleshooting.md#docker-desktop-for-windows-tips"
        >Docker Desktop for Windows tips</a
      >
      for information on workarounds to common Docker for Windows issues.
    </p>
    <h3 id="can-i-use-podman-instead-of-docker">
      Can I use Podman instead of Docker?
    </h3>
    <p>
      Podman 1.9+ is mostly compatible with Docker’s CLI commands and therefore
      generally does work if you update the setting
      <strong>Remote &gt; Containers: Docker Path</strong> to
      <code>podman</code> on Linux.
    </p>
    <figure>
      <img
        src="images/containers/docker-path-setting.png"
        alt="Docker Path setting"
      />
      <figcaption>Docker Path setting</figcaption>
    </figure>
    <p>
      However, certain tricks like
      <a
        href="https://github.com/containers/libpod/issues/4056#issuecomment-535511841"
        >Docker-from-Docker do not work</a
      >
      due to limitations in Podman. This affects the
      <strong>Remote-Containers: Try a Sample…</strong> and
      <strong
        ><a
          href="#quick-start-open-a-git-repository-or-github-pr-in-an-isolated-container-volume"
          >Remote- Containers: Clone Repository in Container Volume…</a
        ></strong
      >
      commands.
    </p>
    <p>Docker Compose is also not supported by Podman.</p>
    <h3 id="im-seeing-an-error-about-a-missing-library-or-dependency">
      I’m seeing an error about a missing library or dependency
    </h3>
    <p>
      Some extensions rely on libraries not found in specific Docker images. For
      example,
      <a href="https://visualstudio.microsoft.com/services/live-share/"
        >Visual Studio Live Share</a
      >
      requires the installation of system-level dependencies, which are
      <a
        href="https://docs.microsoft.com/visualstudio/liveshare/reference/linux#install-prerequisites-manually"
        >listed in their documentation</a
      >. The need for these dependencies may depend on the operating system (for
      example, specific Linux distribution) used by your Docker image. You may
      need to install these dependencies during the Docker build process, by
      adding required commands to your Dockerfile. Search the specific
      extension’s documentation to check for dependencies and see
      <a href="/docs/remote/create-dev-container.md#install-additional-software"
        >Installing additional software</a
      >
      for help with resolving the problem.
    </p>
    <h3 id="can-i-connect-to-multiple-containers-at-once">
      Can I connect to multiple containers at once?
    </h3>
    <p>
      A VS Code window can only connect to one window currently, but you can
      open a new window and
      <a href="/docs/remote/attach-container.md">attach</a> to an already
      running container or
      <a
        href="/docs/remote/containers-advanced.md#connecting-to-multiple-containers-at-once"
        >use a common Docker Compose file with multiple
        <code>devcontainer.json</code> files</a
      >
      to automate the process a bit more.
    </p>
    <h3 id="can-i-work-with-containers-on-a-remote-host">
      Can I work with containers on a remote host?
    </h3>
    <p>
      Yes, you can either attach to a container running on a remote host or
      create a specialized <code>devcontainer.json</code> to tell VS Code how to
      work with your remote environment. To access the host, you can either
      connect to a publicly exposed Docker daemon TCP port or use SSH to tunnel
      into a remote VM running Docker. See
      <a
        href="/docs/remote/containers-advanced.md#developing-inside-a-container-on-a-remote-docker-host"
        >Developing inside a container on a remote Docker host</a
      >
      for details.
    </p>
    <h3
      id="how-can-i-build-or-deploy-container-images-into-my-local-docker-kubernetes-install-when-working-inside-a-container"
    >
      How can I build or deploy container images into my local Docker /
      Kubernetes install when working inside a container?
    </h3>
    <p>
      You can build images and deploy containers by forwarding the Docker socket
      and installing the Docker CLI (and kubectl for Kubernetes) in the
      container. See the
      <a href="https://aka.ms/vscode-remote/samples/docker-from-docker"
        >Docker-from-Docker</a
      >,
      <a href="https://aka.ms/vscode-remote/samples/docker-from-docker-compose"
        >Docker-from-Docker Compose</a
      >, and
      <a href="https://aka.ms/vscode-remote/samples/kubernetes-helm"
        >Kubernetes-Helm</a
      >
      dev container definitions for details.
    </p>
    <h3
      id="what-are-the-connectivity-requirements-for-the-vs-code-server-when-it-is-running-in-a-container"
    >
      What are the connectivity requirements for the VS Code Server when it is
      running in a container?
    </h3>
    <p>
      Installation of VS Code Server requires that your local machine have
      outbound HTTPS (port 443) connectivity to:
    </p>
    <ul>
      <li><code>update.code.visualstudio.com</code></li>
      <li><code>vscode.blob.core.windows.net</code></li>
      <li><code>*.vo.msecnd.net</code> (Azure CDN)</li>
    </ul>
    <p>
      The Remote - Containers extensions will download VS Code Server locally
      and copy it to the container once connected.
    </p>
    <p>
      You can install extensions manually without an internet connection using
      the <strong>Extensions: Install from VSIX…</strong> command, but if you
      use the extension panel or <code>devcontainer.json</code> to install
      extensions, your local machine and VS Code Server will need outbound HTTPS
      (port 443) access to:
    </p>
    <ul>
      <li><code>marketplace.visualstudio.com</code></li>
      <li><code>*.vo.msecnd.net</code> (Azure CDN)</li>
      <li><code>*.gallerycdn.vsassets.io</code> (Azure CDN)</li>
    </ul>
    <p>
      Finally, some extensions (like C#) download secondary dependencies from
      <code>download.microsoft.com</code> or
      <code>download.visualstudio.microsoft.com</code>. Others (like
      <a
        href="https://docs.microsoft.com/visualstudio/liveshare/reference/connectivity#requirements-for-connection-modes"
        >Visual Studio Live Share</a
      >) may have additional connectivity requirements. Consult the extension’s
      documentation for details if you run into trouble.
    </p>
    <p>
      VS Code Server runs on a random port inside the container and VS Code
      itself uses <code>docker exec</code> to communicate with it over Docker’s
      configured communication channel.
    </p>
    <h3
      id="as-an-extension-author-what-do-i-need-to-do-to-make-sure-my-extension-works"
    >
      As an extension author, what do I need to do to make sure my extension
      works?
    </h3>
    <p>
      The VS Code extension API hides most of the implementation details of
      running remotely so many extensions will just work inside dev containers
      without any modification. However, we recommend that you test your
      extension in a dev container to be sure that all of its functionality
      works as expected. See the article on
      <a href="/api/advanced-topics/remote-extensions.md"
        >Supporting Remote Development</a
      >
      for details.
    </p>
    <h3
      id="what-other-resources-are-there-that-may-be-able-to-answer-my-question"
    >
      What other resources are there that may be able to answer my question?
    </h3>
    <p>The following articles may help answer your question:</p>
    <ul>
      <li>
        <a href="/docs/remote/containers-advanced.md"
          >Advanced Container Configuration</a
        >
        or
        <a href="/docs/remote/troubleshooting.md#containers-tips"
          >Tips and Tricks</a
        >
      </li>
      <li>
        <a href="https://docs.docker.com/engine/reference/builder/"
          >Dockerfile reference</a
        >
      </li>
      <li>
        <a href="https://docs.docker.com/compose/compose-file/"
          >Docker Compose file reference</a
        >
      </li>
      <li>
        <a href="https://docs.docker.com/docker-for-windows/troubleshoot"
          >Docker Desktop for Windows troubleshooting guide</a
        >
        and <a href="https://docs.docker.com/docker-for-windows/faqs/">FAQ</a>
      </li>
      <li>
        <a href="https://docs.docker.com/docker-for-mac/troubleshoot"
          >Docker Desktop for Mac troubleshooting guide</a
        >
        and <a href="https://docs.docker.com/docker-for-mac/faqs/">FAQ</a>
      </li>
      <li>
        <a href="https://success.docker.com/article/best-support-resources"
          >Docker Support Resources</a
        >
      </li>
    </ul>
    <h2 id="questions-or-feedback">Questions or feedback</h2>
    <ul>
      <li>
        See
        <a href="/docs/remote/troubleshooting.md#containers-tips"
          >Tips and Tricks</a
        >
        or the <a href="/docs/remote/faq.md">FAQ</a>.
      </li>
      <li>
        Search on
        <a href="https://stackoverflow.com/questions/tagged/vscode-remote"
          >Stack Overflow</a
        >.
      </li>
      <li>
        Add a
        <a href="https://aka.ms/vscode-remote/feature-requests"
          >feature request</a
        >
        or
        <a href="https://aka.ms/vscode-remote/issues/new">report a problem</a>.
      </li>
      <li>
        Create a
        <a href="https://aka.ms/vscode-dev-containers"
          >development container definition</a
        >
        for others to use.
      </li>
      <li>
        Contribute to
        <a href="https://github.com/microsoft/vscode-docs">our documentation</a>
        or <a href="https://github.com/microsoft/vscode">VS Code itself</a>.
      </li>
      <li>
        See our
        <a href="https://aka.ms/vscode-remote/contributing">CONTRIBUTING</a>
        guide for details.
      </li>
    </ul>
    <h2 id="next-steps">Next steps</h2>
    <ul>
      <li>
        <a href="/docs/remote/attach-container.md"
          >Attach to a Running Container</a
        >
        - Attach to an already running Docker container.
      </li>
      <li>
        <a href="/docs/remote/create-dev-container.md"
          >Create a Development Container</a
        >
        - Create a custom container for your work environment.
      </li>
      <li>
        <a href="/docs/remote/containers-advanced.md">Advanced Containers</a> -
        Find solutions to advanced container scenarios.
      </li>
      <li>
        <a href="/docs/remote/devcontainerjson-reference.md"
          >devcontainer.json reference</a
        >
        - Review the <code>devcontainer.json</code> schema.
      </li>
    </ul>
  </body>
</html>
