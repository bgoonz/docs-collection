<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>attach-container</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="attach-to-a-running-container">Attach to a running container</h1>
<p>Visual Studio Code can create and start containers for you but that may not match your workflow and you may prefer to “attach” VS Code to an already running Docker container - regardless of how it was started. Once attached, you can install extensions, edit, and debug like you can when you open a folder in a container using <a href="/docs/remote/devcontainerjson-reference.md">devcontainer.json</a>.</p>
<h2 id="attach-to-a-docker-container">Attach to a Docker container</h2>
<p>To attach to a Docker container, either select <strong>Remote-Containers: Attach to Running Container…</strong> from the Command Palette (<code>kbstyle(F1)</code>) or use the <strong>Remote Explorer</strong> in the Activity Bar and from the <strong>Containers</strong> view, select the <strong>Attach to Container</strong> inline action on the container you want to connect to.</p>
<figure>
<img src="images/containers/containers-attach.png" alt="Containers Explorer screenshot" /><figcaption>Containers Explorer screenshot</figcaption>
</figure>
<blockquote>
<p><strong>Note:</strong> When using Alpine Linux containers, some extensions may not work due to <code>glibc</code> dependencies in native code inside the extension.</p>
</blockquote>
<h2 id="attached-container-configuration-files">Attached container configuration files</h2>
<p>VS Code supports image or container name-level configuration files to speed up setup when you repeatedly connect to a given Docker container. Once attached, anytime you open a folder, <a href="/docs/remote/containers.md#managing-extensions">install an extension</a>, or <a href="/docs/remote/containers.md#forwarding-or-publishing-a-port">forward a port</a>, a local image-specific configuration file will automatically be updated to remember your settings so that when you attach again, everything is back to the right place.</p>
<ul>
<li><p>By default, an <strong>image-level</strong> configuration is used. To view or update it after attaching, select <strong>Remote-Containers: Open Container Configuration</strong> from the Command Palette (<code>kbstyle(F1)</code>).</p></li>
<li><p>If you would prefer to tie your configuration to a <strong>container name</strong>, select <strong>Remote-Containers: Open Named Configuration File</strong> from the Command Palette (<code>kbstyle(F1)</code>) after attaching. Any updates from this point forward will apply to this name-level configuration rather than at the image level.</p></li>
</ul>
<p>Both of these files support a subset of <code>devcontainer.json</code> properties:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="er">//</span> <span class="er">Default</span> <span class="er">path</span> <span class="er">to</span> <span class="er">open</span> <span class="er">when</span> <span class="er">attaching</span> <span class="er">to</span> <span class="er">a</span> <span class="er">new</span> <span class="er">container.</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">&quot;workspaceFolder&quot;</span><span class="fu">:</span> <span class="st">&quot;/path/to/code/in/container/here&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="er">//</span> <span class="er">An</span> <span class="er">array</span> <span class="er">of</span> <span class="er">extension</span> <span class="er">IDs</span> <span class="er">that</span> <span class="er">specify</span> <span class="er">the</span> <span class="er">extensions</span> <span class="er">to</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="er">//</span> <span class="er">install</span> <span class="er">inside</span> <span class="er">the</span> <span class="er">container</span> <span class="er">when</span> <span class="er">you</span> <span class="er">first</span> <span class="er">attach</span> <span class="er">to</span> <span class="er">it.</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="dt">&quot;extensions&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb1-8" title="8">        <span class="st">&quot;dbaeumer.vscode-eslint&quot;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="er">//</span> <span class="er">Any</span> <span class="er">*default*</span> <span class="er">container</span> <span class="er">specific</span> <span class="er">VS</span> <span class="er">Code</span> <span class="er">settings</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="dt">&quot;settings&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-13" title="13">        <span class="dt">&quot;terminal.integrated.shell.linux&quot;</span><span class="fu">:</span> <span class="st">&quot;/bin/bash&quot;</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="er">//</span> <span class="er">An</span> <span class="er">array</span> <span class="er">port</span> <span class="er">numbers</span> <span class="er">to</span> <span class="er">forward</span></a>
<a class="sourceLine" id="cb1-17" title="17">    <span class="dt">&quot;forwardPorts&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">8000</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-18" title="18"></a>
<a class="sourceLine" id="cb1-19" title="19">    <span class="er">//</span> <span class="er">Container</span> <span class="er">user</span> <span class="er">VS</span> <span class="er">Code</span> <span class="er">should</span> <span class="er">use</span> <span class="er">when</span> <span class="er">connecting</span></a>
<a class="sourceLine" id="cb1-20" title="20">    <span class="dt">&quot;remoteUser&quot;</span><span class="fu">:</span> <span class="st">&quot;vscode&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22">    <span class="er">//</span> <span class="er">Set</span> <span class="er">environment</span> <span class="er">variables</span> <span class="er">for</span> <span class="er">VS</span> <span class="er">Code</span> <span class="er">and</span> <span class="er">sub-processes</span></a>
<a class="sourceLine" id="cb1-23" title="23">    <span class="dt">&quot;remoteEnv&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;MY_VARIABLE&quot;</span><span class="fu">:</span> <span class="st">&quot;some-value&quot;</span> <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="fu">}</span></a></code></pre></div>
<p>See the <a href="/docs/remote/devcontainerjson-reference.md#attached-container-configuration-reference">attached container config reference</a> for a complete list of properties and their uses.</p>
<p>Once saved, whenever you open a container for the first time with the same image / container name, these properties will be used to configure the environment.</p>
<blockquote>
<p><strong>Tip:</strong> If something is wrong with your configuration, you can also edit it when not attached to the container by selecting <strong>Remote-Containers: Open Attached Container Configuration File…</strong> from the Command Palette (<code>kbstyle(F1)</code>) and then picking the image / container name from the presented list.</p>
</blockquote>
<p>Finally, if you have extensions you want installed regardless of the container you attach to, you can update <code>settings.json</code> to specify a list of <a href="/docs/remote/containers.md#always-installed-extensions">extensions that should always be installed</a>.</p>
<h2 id="attach-to-a-container-in-a-kubernetes-cluster">Attach to a container in a Kubernetes cluster</h2>
<p>To attach to a container in a Kubernetes cluster, first install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-kubernetes-tools.vscode-kubernetes-tools">Kubernetes extension</a> and <code>kubectl</code> along with the Remote - Containers extension. Then select the Kubernetes explorer from the Activity bar and expand the cluster and Pod where the container you want to attach to resides. Finally, right-click on the container and select <strong>Attach Visual Studio Code</strong> from context menu.</p>
<blockquote>
<p><strong>Note:</strong> Attached container configuration files are not yet supported for containers in a Kubernetes cluster.</p>
</blockquote>
<figure>
<img src="images/containers/k8s-attach.png" alt="Attach to Kubernetes Container" /><figcaption>Attach to Kubernetes Container</figcaption>
</figure>
<h2 id="next-steps">Next steps</h2>
<ul>
<li><a href="/docs/remote/create-dev-container.md">Create a Development Container</a> - Create a custom container for your work environment.</li>
<li><a href="/docs/remote/containers-advanced.md">Advanced Containers</a> - Find solutions to advanced container scenarios.</li>
<li><a href="/docs/remote/devcontainerjson-reference.md">devcontainer.json reference</a> - Review the <code>devcontainer.json</code> schema.</li>
</ul>
</body>
</html>
